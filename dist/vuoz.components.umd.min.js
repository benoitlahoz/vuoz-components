(function(t,e){"object"===typeof exports&&"object"===typeof module?module.exports=e(require("vue")):"function"===typeof define&&define.amd?define([],e):"object"===typeof exports?exports["vuoz.components"]=e(require("vue")):t["vuoz.components"]=e(t["Vue"])})("undefined"!==typeof self?self:this,(function(t){return function(t){var e={};function i(n){if(e[n])return e[n].exports;var r=e[n]={i:n,l:!1,exports:{}};return t[n].call(r.exports,r,r.exports,i),r.l=!0,r.exports}return i.m=t,i.c=e,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)i.d(n,r,function(e){return t[e]}.bind(null,r));return n},i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s="fae3")}({0:function(t,e){},"00ee":function(t,e,i){var n=i("b622"),r=n("toStringTag"),o={};o[r]="z",t.exports="[object z]"===String(o)},"0208":function(t,e,i){"use strict";var n=i("820c"),r=i("caad9");t.exports=n?{}.toString:function(){return"[object "+r(this)+"]"}},"0312":function(t,e,i){var n=i("f2f2"),r=i("d348"),o=i("657c"),s=i("e568"),a=i("9a49"),A=i("8180"),c=A.get,l=A.enforce,u=String(String).split("String");(t.exports=function(t,e,i,a){var A,c=!!a&&!!a.unsafe,h=!!a&&!!a.enumerable,f=!!a&&!!a.noTargetGet;"function"==typeof i&&("string"!=typeof e||o(i,"name")||r(i,"name",e),A=l(i),A.source||(A.source=u.join("string"==typeof e?e:""))),t!==n?(c?!f&&t[e]&&(h=!0):delete t[e],h?t[e]=i:r(t,e,i)):h?t[e]=i:s(e,i)})(Function.prototype,"toString",(function(){return"function"==typeof this&&c(this).source||a(this)}))},"0366":function(t,e,i){var n=i("1c0b");t.exports=function(t,e,i){if(n(t),void 0===e)return t;switch(i){case 0:return function(){return t.call(e)};case 1:return function(i){return t.call(e,i)};case 2:return function(i,n){return t.call(e,i,n)};case 3:return function(i,n,r){return t.call(e,i,n,r)}}return function(){return t.apply(e,arguments)}}},"0538":function(t,e,i){"use strict";var n=i("1c0b"),r=i("861d"),o=[].slice,s={},a=function(t,e,i){if(!(e in s)){for(var n=[],r=0;r<e;r++)n[r]="a["+r+"]";s[e]=Function("C,a","return new C("+n.join(",")+")")}return s[e](t,i)};t.exports=Function.bind||function(t){var e=n(this),i=o.call(arguments,1),s=function(){var n=i.concat(o.call(arguments));return this instanceof s?a(e,n.length,n):e.apply(t,n)};return r(e.prototype)&&(s.prototype=e.prototype),s}},"057f":function(t,e,i){var n=i("fc6a"),r=i("241c").f,o={}.toString,s="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],a=function(t){try{return r(t)}catch(e){return s.slice()}};t.exports.f=function(t){return s&&"[object Window]"==o.call(t)?a(t):r(n(t))}},"06aa":function(t,e){t.exports=function(t){var e={};function i(n){if(e[n])return e[n].exports;var r=e[n]={i:n,l:!1,exports:{}};return t[n].call(r.exports,r,r.exports,i),r.l=!0,r.exports}return i.m=t,i.c=e,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)i.d(n,r,function(e){return t[e]}.bind(null,r));return n},i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s="fb15")}({"18d2":function(t,e,i){"use strict";var n=i("18e9");t.exports=function(t){t=t||{};var e=t.reporter,i=t.batchProcessor,r=t.stateHandler.getState;if(!e)throw new Error("Missing required dependency: reporter.");function o(t,e){function i(){e(t)}if(n.isIE(8))r(t).object={proxy:i},t.attachEvent("onresize",i);else{var o=A(t);if(!o)throw new Error("Element is not detectable by this strategy.");o.contentDocument.defaultView.addEventListener("resize",i)}}function s(e){var i=t.important?" !important; ":"; ";return(e.join(i)+i).trim()}function a(t,o,a){a||(a=o,o=t,t=null),t=t||{};t.debug;function A(o,a){var A=s(["display: block","position: absolute","top: 0","left: 0","width: 100%","height: 100%","border: none","padding: 0","margin: 0","opacity: 0","z-index: -1000","pointer-events: none"]),c=!1,l=window.getComputedStyle(o),u=o.offsetWidth,h=o.offsetHeight;function f(){function i(){if("static"===l.position){o.style.setProperty("position","relative",t.important?"important":"");var i=function(e,i,n,r){function o(t){return t.replace(/[^-\d\.]/g,"")}var s=n[r];"auto"!==s&&"0"!==o(s)&&(e.warn("An element that is positioned static has style."+r+"="+s+" which is ignored due to the static positioning. The element will need to be positioned relative, so the style."+r+" will be set to 0. Element: ",i),i.style.setProperty(r,"0",t.important?"important":""))};i(e,o,l,"top"),i(e,o,l,"right"),i(e,o,l,"bottom"),i(e,o,l,"left")}}function s(){function t(e,i){if(!e.contentDocument){var n=r(e);return n.checkForObjectDocumentTimeoutId&&window.clearTimeout(n.checkForObjectDocumentTimeoutId),void(n.checkForObjectDocumentTimeoutId=setTimeout((function(){n.checkForObjectDocumentTimeoutId=0,t(e,i)}),100))}i(e.contentDocument)}c||i();var e=this;t(e,(function(t){a(o)}))}""!==l.position&&(i(l),c=!0);var u=document.createElement("object");u.style.cssText=A,u.tabIndex=-1,u.type="text/html",u.setAttribute("aria-hidden","true"),u.onload=s,n.isIE()||(u.data="about:blank"),r(o)&&(o.appendChild(u),r(o).object=u,n.isIE()&&(u.data="about:blank"))}r(o).startSize={width:u,height:h},i?i.add(f):f()}n.isIE(8)?a(o):A(o,a)}function A(t){return r(t).object}function c(t){if(r(t)){var e=A(t);e&&(n.isIE(8)?t.detachEvent("onresize",e.proxy):t.removeChild(e),r(t).checkForObjectDocumentTimeoutId&&window.clearTimeout(r(t).checkForObjectDocumentTimeoutId),delete r(t).object)}}return{makeDetectable:a,addListener:o,uninstall:c}}},"18e9":function(t,e,i){"use strict";var n=t.exports={};n.isIE=function(t){function e(){var t=navigator.userAgent.toLowerCase();return-1!==t.indexOf("msie")||-1!==t.indexOf("trident")||-1!==t.indexOf(" edge/")}if(!e())return!1;if(!t)return!0;var i=function(){var t,e=3,i=document.createElement("div"),n=i.getElementsByTagName("i");do{i.innerHTML="\x3c!--[if gt IE "+ ++e+"]><i></i><![endif]--\x3e"}while(n[0]);return e>4?e:t}();return t===i},n.isLegacyOpera=function(){return!!window.opera}},"2cef":function(t,e,i){"use strict";t.exports=function(){var t=1;function e(){return t++}return{generate:e}}},"49ad":function(t,e,i){"use strict";t.exports=function(t){var e={};function i(i){var n=t.get(i);return void 0===n?[]:e[n]||[]}function n(i,n){var r=t.get(i);e[r]||(e[r]=[]),e[r].push(n)}function r(t,e){for(var n=i(t),r=0,o=n.length;r<o;++r)if(n[r]===e){n.splice(r,1);break}}function o(t){var e=i(t);e&&(e.length=0)}return{get:i,add:n,removeListener:r,removeAllListeners:o}}},5058:function(t,e,i){"use strict";t.exports=function(t){var e=t.idGenerator,i=t.stateHandler.getState;function n(t){var e=i(t);return e&&void 0!==e.id?e.id:null}function r(t){var n=i(t);if(!n)throw new Error("setId required the element to have a resize detection state.");var r=e.generate();return n.id=r,r}return{get:n,set:r}}},"50bf":function(t,e,i){"use strict";var n=t.exports={};function r(t,e,i){var n=t[e];return void 0!==n&&null!==n||void 0===i?n:i}n.getOption=r},"5be5":function(t,e,i){"use strict";t.exports=function(t){var e=t.stateHandler.getState;function i(t){var i=e(t);return i&&!!i.isDetectable}function n(t){e(t).isDetectable=!0}function r(t){return!!e(t).busy}function o(t,i){e(t).busy=!!i}return{isDetectable:i,markAsDetectable:n,isBusy:r,markBusy:o}}},abb4:function(t,e,i){"use strict";t.exports=function(t){function e(){}var i={log:e,warn:e,error:e};if(!t&&window.console){var n=function(t,e){t[e]=function(){var t=console[e];if(t.apply)t.apply(console,arguments);else for(var i=0;i<arguments.length;i++)t(arguments[i])}};n(i,"log"),n(i,"warn"),n(i,"error")}return i}},b770:function(t,e,i){"use strict";var n=t.exports={};n.forEach=function(t,e){for(var i=0;i<t.length;i++){var n=e(t[i]);if(n)return n}}},c274:function(t,e,i){"use strict";var n=i("50bf");function r(){var t={},e=0,i=0,n=0;function r(r,o){o||(o=r,r=0),r>i?i=r:r<n&&(n=r),t[r]||(t[r]=[]),t[r].push(o),e++}function o(){for(var e=n;e<=i;e++)for(var r=t[e],o=0;o<r.length;o++){var s=r[o];s()}}function s(){return e}return{add:r,process:o,size:s}}t.exports=function(t){t=t||{};var e=t.reporter,i=n.getOption(t,"async",!0),o=n.getOption(t,"auto",!0);o&&!i&&(e&&e.warn("Invalid options combination. auto=true and async=false is invalid. Setting async=true."),i=!0);var s,a=r(),A=!1;function c(t,e){!A&&o&&i&&0===a.size()&&h(),a.add(t,e)}function l(){A=!0;while(a.size()){var t=a;a=r(),t.process()}A=!1}function u(t){A||(void 0===t&&(t=i),s&&(f(s),s=null),t?h():l())}function h(){s=d(l)}function f(t){var e=clearTimeout;return e(t)}function d(t){var e=function(t){return setTimeout(t,0)};return e(t)}return{add:c,force:u}}},c946:function(t,e,i){"use strict";var n=i("b770").forEach;t.exports=function(t){t=t||{};var e=t.reporter,i=t.batchProcessor,r=t.stateHandler.getState,o=(t.stateHandler.hasState,t.idHandler);if(!i)throw new Error("Missing required dependency: batchProcessor");if(!e)throw new Error("Missing required dependency: reporter.");var s=u(),a="erd_scroll_detection_scrollbar_style",A="erd_scroll_detection_container";function c(t){h(t,a,A)}function l(e){var i=t.important?" !important; ":"; ";return(e.join(i)+i).trim()}function u(){var t=500,e=500,i=document.createElement("div");i.style.cssText=l(["position: absolute","width: "+2*t+"px","height: "+2*e+"px","visibility: hidden","margin: 0","padding: 0"]);var n=document.createElement("div");n.style.cssText=l(["position: absolute","width: "+t+"px","height: "+e+"px","overflow: scroll","visibility: none","top: "+3*-t+"px","left: "+3*-e+"px","visibility: hidden","margin: 0","padding: 0"]),n.appendChild(i),document.body.insertBefore(n,document.body.firstChild);var r=t-n.clientWidth,o=e-n.clientHeight;return document.body.removeChild(n),{width:r,height:o}}function h(t,e,i){function n(i,n){n=n||function(e){t.head.appendChild(e)};var r=t.createElement("style");return r.innerHTML=i,r.id=e,n(r),r}if(!t.getElementById(e)){var r=i+"_animation",o=i+"_animation_active",s="/* Created by the element-resize-detector library. */\n";s+="."+i+" > div::-webkit-scrollbar { "+l(["display: none"])+" }\n\n",s+="."+o+" { "+l(["-webkit-animation-duration: 0.1s","animation-duration: 0.1s","-webkit-animation-name: "+r,"animation-name: "+r])+" }\n",s+="@-webkit-keyframes "+r+" { 0% { opacity: 1; } 50% { opacity: 0; } 100% { opacity: 1; } }\n",s+="@keyframes "+r+" { 0% { opacity: 1; } 50% { opacity: 0; } 100% { opacity: 1; } }",n(s)}}function f(t){t.className+=" "+A+"_animation_active"}function d(t,i,n){if(t.addEventListener)t.addEventListener(i,n);else{if(!t.attachEvent)return e.error("[scroll] Don't know how to add event listeners.");t.attachEvent("on"+i,n)}}function p(t,i,n){if(t.removeEventListener)t.removeEventListener(i,n);else{if(!t.detachEvent)return e.error("[scroll] Don't know how to remove event listeners.");t.detachEvent("on"+i,n)}}function g(t){return r(t).container.childNodes[0].childNodes[0].childNodes[0]}function v(t){return r(t).container.childNodes[0].childNodes[0].childNodes[1]}function m(t,e){var i=r(t).listeners;if(!i.push)throw new Error("Cannot add listener to an element that is not detectable.");r(t).listeners.push(e)}function w(t,a,c){function u(){if(t.debug){var i=Array.prototype.slice.call(arguments);if(i.unshift(o.get(a),"Scroll: "),e.log.apply)e.log.apply(null,i);else for(var n=0;n<i.length;n++)e.log(i[n])}}function h(t){function e(t){return t===t.ownerDocument.body||t.ownerDocument.body.contains(t)}return!e(t)||null===window.getComputedStyle(t)}function p(t){var e=r(t).container.childNodes[0],i=window.getComputedStyle(e);return!i.width||-1===i.width.indexOf("px")}function m(){var t=window.getComputedStyle(a),e={};return e.position=t.position,e.width=a.offsetWidth,e.height=a.offsetHeight,e.top=t.top,e.right=t.right,e.bottom=t.bottom,e.left=t.left,e.widthCSS=t.width,e.heightCSS=t.height,e}function w(){var t=m();r(a).startSize={width:t.width,height:t.height},u("Element start size",r(a).startSize)}function y(){r(a).listeners=[]}function b(){if(u("storeStyle invoked."),r(a)){var t=m();r(a).style=t}else u("Aborting because element has been uninstalled")}function B(t,e,i){r(t).lastWidth=e,r(t).lastHeight=i}function C(t){return g(t).childNodes[0]}function E(){return 2*s.width+1}function x(){return 2*s.height+1}function _(t){return t+10+E()}function S(t){return t+10+x()}function T(t){return 2*t+E()}function F(t){return 2*t+x()}function Q(t,e,i){var n=g(t),r=v(t),o=_(e),s=S(i),a=T(e),A=F(i);n.scrollLeft=o,n.scrollTop=s,r.scrollLeft=a,r.scrollTop=A}function U(){var t=r(a).container;if(!t){t=document.createElement("div"),t.className=A,t.style.cssText=l(["visibility: hidden","display: inline","width: 0px","height: 0px","z-index: -1","overflow: hidden","margin: 0","padding: 0"]),r(a).container=t,f(t),a.appendChild(t);var e=function(){r(a).onRendered&&r(a).onRendered()};d(t,"animationstart",e),r(a).onAnimationStart=e}return t}function O(){function i(){var i=r(a).style;if("static"===i.position){a.style.setProperty("position","relative",t.important?"important":"");var n=function(t,e,i,n){function r(t){return t.replace(/[^-\d\.]/g,"")}var o=i[n];"auto"!==o&&"0"!==r(o)&&(t.warn("An element that is positioned static has style."+n+"="+o+" which is ignored due to the static positioning. The element will need to be positioned relative, so the style."+n+" will be set to 0. Element: ",e),e.style[n]=0)};n(e,a,i,"top"),n(e,a,i,"right"),n(e,a,i,"bottom"),n(e,a,i,"left")}}function n(t,e,i,n){return t=t?t+"px":"0",e=e?e+"px":"0",i=i?i+"px":"0",n=n?n+"px":"0",["left: "+t,"top: "+e,"right: "+n,"bottom: "+i]}if(u("Injecting elements"),r(a)){i();var o=r(a).container;o||(o=U());var c=s.width,h=s.height,f=l(["position: absolute","flex: none","overflow: hidden","z-index: -1","visibility: hidden","width: 100%","height: 100%","left: 0px","top: 0px"]),p=l(["position: absolute","flex: none","overflow: hidden","z-index: -1","visibility: hidden"].concat(n(-(1+c),-(1+h),-h,-c))),g=l(["position: absolute","flex: none","overflow: scroll","z-index: -1","visibility: hidden","width: 100%","height: 100%"]),v=l(["position: absolute","flex: none","overflow: scroll","z-index: -1","visibility: hidden","width: 100%","height: 100%"]),m=l(["position: absolute","left: 0","top: 0"]),w=l(["position: absolute","width: 200%","height: 200%"]),y=document.createElement("div"),b=document.createElement("div"),B=document.createElement("div"),C=document.createElement("div"),E=document.createElement("div"),x=document.createElement("div");y.dir="ltr",y.style.cssText=f,y.className=A,b.className=A,b.style.cssText=p,B.style.cssText=g,C.style.cssText=m,E.style.cssText=v,x.style.cssText=w,B.appendChild(C),E.appendChild(x),b.appendChild(B),b.appendChild(E),y.appendChild(b),o.appendChild(y),d(B,"scroll",_),d(E,"scroll",S),r(a).onExpandScroll=_,r(a).onShrinkScroll=S}else u("Aborting because element has been uninstalled");function _(){r(a).onExpand&&r(a).onExpand()}function S(){r(a).onShrink&&r(a).onShrink()}}function H(){function s(e,i,n){var r=C(e),o=_(i),s=S(n);r.style.setProperty("width",o+"px",t.important?"important":""),r.style.setProperty("height",s+"px",t.important?"important":"")}function A(n){var A=a.offsetWidth,l=a.offsetHeight,h=A!==r(a).lastWidth||l!==r(a).lastHeight;u("Storing current size",A,l),B(a,A,l),i.add(0,(function(){if(h)if(r(a))if(c()){if(t.debug){var i=a.offsetWidth,n=a.offsetHeight;i===A&&n===l||e.warn(o.get(a),"Scroll: Size changed before updating detector elements.")}s(a,A,l)}else u("Aborting because element container has not been initialized");else u("Aborting because element has been uninstalled")})),i.add(1,(function(){r(a)?c()?Q(a,A,l):u("Aborting because element container has not been initialized"):u("Aborting because element has been uninstalled")})),h&&n&&i.add(2,(function(){r(a)?c()?n():u("Aborting because element container has not been initialized"):u("Aborting because element has been uninstalled")}))}function c(){return!!r(a).container}function l(){function t(){return void 0===r(a).lastNotifiedWidth}u("notifyListenersIfNeeded invoked");var e=r(a);return t()&&e.lastWidth===e.startSize.width&&e.lastHeight===e.startSize.height?u("Not notifying: Size is the same as the start size, and there has been no notification yet."):e.lastWidth===e.lastNotifiedWidth&&e.lastHeight===e.lastNotifiedHeight?u("Not notifying: Size already notified"):(u("Current size not notified, notifying..."),e.lastNotifiedWidth=e.lastWidth,e.lastNotifiedHeight=e.lastHeight,void n(r(a).listeners,(function(t){t(a)})))}function h(){if(u("startanimation triggered."),p(a))u("Ignoring since element is still unrendered...");else{u("Element rendered.");var t=g(a),e=v(a);0!==t.scrollLeft&&0!==t.scrollTop&&0!==e.scrollLeft&&0!==e.scrollTop||(u("Scrollbars out of sync. Updating detector elements..."),A(l))}}function f(){u("Scroll detected."),p(a)?u("Scroll event fired while unrendered. Ignoring..."):A(l)}if(u("registerListenersAndPositionElements invoked."),r(a)){r(a).onRendered=h,r(a).onExpand=f,r(a).onShrink=f;var d=r(a).style;s(a,d.width,d.height)}else u("Aborting because element has been uninstalled")}function D(){if(u("finalizeDomMutation invoked."),r(a)){var t=r(a).style;B(a,t.width,t.height),Q(a,t.width,t.height)}else u("Aborting because element has been uninstalled")}function I(){c(a)}function k(){u("Installing..."),y(),w(),i.add(0,b),i.add(1,O),i.add(2,H),i.add(3,D),i.add(4,I)}c||(c=a,a=t,t=null),t=t||{},u("Making detectable..."),h(a)?(u("Element is detached"),U(),u("Waiting until element is attached..."),r(a).onRendered=function(){u("Element is now attached"),k()}):k()}function y(t){var e=r(t);e&&(e.onExpandScroll&&p(g(t),"scroll",e.onExpandScroll),e.onShrinkScroll&&p(v(t),"scroll",e.onShrinkScroll),e.onAnimationStart&&p(e.container,"animationstart",e.onAnimationStart),e.container&&t.removeChild(e.container))}return c(window.document),{makeDetectable:w,addListener:m,uninstall:y,initDocument:c}}},d6eb:function(t,e,i){"use strict";var n="_erd";function r(t){return t[n]={},o(t)}function o(t){return t[n]}function s(t){delete t[n]}t.exports={initState:r,getState:o,cleanState:s}},eec4:function(t,e,i){"use strict";var n=i("b770").forEach,r=i("5be5"),o=i("49ad"),s=i("2cef"),a=i("5058"),A=i("abb4"),c=i("18e9"),l=i("c274"),u=i("d6eb"),h=i("18d2"),f=i("c946");function d(t){return Array.isArray(t)||void 0!==t.length}function p(t){if(Array.isArray(t))return t;var e=[];return n(t,(function(t){e.push(t)})),e}function g(t){return t&&1===t.nodeType}function v(t,e,i){var n=t[e];return void 0!==n&&null!==n||void 0===i?n:i}t.exports=function(t){var e;if(t=t||{},t.idHandler)e={get:function(e){return t.idHandler.get(e,!0)},set:t.idHandler.set};else{var i=s(),m=a({idGenerator:i,stateHandler:u});e=m}var w=t.reporter;if(!w){var y=!1===w;w=A(y)}var b=v(t,"batchProcessor",l({reporter:w})),B={};B.callOnAdd=!!v(t,"callOnAdd",!0),B.debug=!!v(t,"debug",!1);var C,E=o(e),x=r({stateHandler:u}),_=v(t,"strategy","object"),S=v(t,"important",!1),T={reporter:w,batchProcessor:b,stateHandler:u,idHandler:e,important:S};if("scroll"===_&&(c.isLegacyOpera()?(w.warn("Scroll strategy is not supported on legacy Opera. Changing to object strategy."),_="object"):c.isIE(9)&&(w.warn("Scroll strategy is not supported on IE9. Changing to object strategy."),_="object")),"scroll"===_)C=f(T);else{if("object"!==_)throw new Error("Invalid strategy name: "+_);C=h(T)}var F={};function Q(t,i,r){function o(t){var e=E.get(t);n(e,(function(e){e(t)}))}function s(t,e,i){E.add(e,i),t&&i(e)}if(r||(r=i,i=t,t={}),!i)throw new Error("At least one element required.");if(!r)throw new Error("Listener required.");if(g(i))i=[i];else{if(!d(i))return w.error("Invalid arguments. Must be a DOM element or a collection of DOM elements.");i=p(i)}var a=0,A=v(t,"callOnAdd",B.callOnAdd),c=v(t,"onReady",(function(){})),l=v(t,"debug",B.debug);n(i,(function(t){u.getState(t)||(u.initState(t),e.set(t));var h=e.get(t);if(l&&w.log("Attaching listener to element",h,t),!x.isDetectable(t))return l&&w.log(h,"Not detectable."),x.isBusy(t)?(l&&w.log(h,"System busy making it detectable"),s(A,t,r),F[h]=F[h]||[],void F[h].push((function(){a++,a===i.length&&c()}))):(l&&w.log(h,"Making detectable..."),x.markBusy(t,!0),C.makeDetectable({debug:l,important:S},t,(function(t){if(l&&w.log(h,"onElementDetectable"),u.getState(t)){x.markAsDetectable(t),x.markBusy(t,!1),C.addListener(t,o),s(A,t,r);var e=u.getState(t);if(e&&e.startSize){var f=t.offsetWidth,d=t.offsetHeight;e.startSize.width===f&&e.startSize.height===d||o(t)}F[h]&&n(F[h],(function(t){t()}))}else l&&w.log(h,"Element uninstalled before being detectable.");delete F[h],a++,a===i.length&&c()})));l&&w.log(h,"Already detecable, adding listener."),s(A,t,r),a++})),a===i.length&&c()}function U(t){if(!t)return w.error("At least one element is required.");if(g(t))t=[t];else{if(!d(t))return w.error("Invalid arguments. Must be a DOM element or a collection of DOM elements.");t=p(t)}n(t,(function(t){E.removeAllListeners(t),C.uninstall(t),u.cleanState(t)}))}function O(t){C.initDocument&&C.initDocument(t)}return{listenTo:Q,removeListener:E.removeListener,removeAllListeners:E.removeAllListeners,uninstall:U,initDocument:O}}},f6fd:function(t,e){(function(t){var e="currentScript",i=t.getElementsByTagName("script");e in t||Object.defineProperty(t,e,{get:function(){try{throw new Error}catch(n){var t,e=(/.*at [^\(]*\((.*):.+:.+\)$/gi.exec(n.stack)||[!1])[1];for(t in i)if(i[t].src==e||"interactive"==i[t].readyState)return i[t];return null}}})})(document)},fb15:function(t,e,i){"use strict";var n;(i.r(e),i.d(e,"resize",(function(){return A})),"undefined"!==typeof window)&&(i("f6fd"),(n=window.document.currentScript)&&(n=n.src.match(/(.+\/)[^/]+\.js(\?.*)?$/))&&(i.p=n[1]));var r=i("eec4"),o=r({strategy:"scroll"});function s(t,e,i){var n={};e.value&&(n=e.value),o.listenTo(n,t,(function(t){var e=t.offsetWidth,n=t.offsetHeight;i.componentInstance?i.componentInstance.$emit("resize",{detail:{width:e,height:n}}):i.elm.dispatchEvent(new CustomEvent("resize",{detail:{width:e,height:n}}))}))}function a(t){o.uninstall(t)}var A={bind:s,unbind:a},c={install:function(t){t.directive("resize",A)}};e["default"]=c}})},"06cf":function(t,e,i){var n=i("83ab"),r=i("d1e7"),o=i("5c6c"),s=i("fc6a"),a=i("c04e"),A=i("5135"),c=i("0cfb"),l=Object.getOwnPropertyDescriptor;e.f=n?l:function(t,e){if(t=s(t),e=a(e,!0),c)try{return l(t,e)}catch(i){}if(A(t,e))return o(!r.f.call(t,e),t[e])}},"0c1e":function(t,e,i){var n=i("2b9c");t.exports=!n((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},"0cb2":function(t,e,i){var n=i("7b0b"),r=Math.floor,o="".replace,s=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,a=/\$([$&'`]|\d{1,2})/g;t.exports=function(t,e,i,A,c,l){var u=i+t.length,h=A.length,f=a;return void 0!==c&&(c=n(c),f=s),o.call(l,f,(function(n,o){var s;switch(o.charAt(0)){case"$":return"$";case"&":return t;case"`":return e.slice(0,i);case"'":return e.slice(u);case"<":s=c[o.slice(1,-1)];break;default:var a=+o;if(0===a)return n;if(a>h){var l=r(a/10);return 0===l?n:l<=h?void 0===A[l-1]?o.charAt(1):A[l-1]+o.charAt(1):n}s=A[a-1]}return void 0===s?"":s}))}},"0cfb":function(t,e,i){var n=i("83ab"),r=i("d039"),o=i("cc12");t.exports=!n&&!r((function(){return 7!=Object.defineProperty(o("div"),"a",{get:function(){return 7}}).a}))},1:function(t,e){},1148:function(t,e,i){"use strict";var n=i("a691"),r=i("1d80");t.exports=function(t){var e=String(r(this)),i="",o=n(t);if(o<0||o==1/0)throw RangeError("Wrong number of repetitions");for(;o>0;(o>>>=1)&&(e+=e))1&o&&(i+=e);return i}},1276:function(t,e,i){"use strict";var n=i("d784"),r=i("44e7"),o=i("825a"),s=i("1d80"),a=i("4840"),A=i("8aa5"),c=i("50c4"),l=i("14c3"),u=i("9263"),h=i("d039"),f=[].push,d=Math.min,p=4294967295,g=!h((function(){return!RegExp(p,"y")}));n("split",2,(function(t,e,i){var n;return n="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(t,i){var n=String(s(this)),o=void 0===i?p:i>>>0;if(0===o)return[];if(void 0===t)return[n];if(!r(t))return e.call(n,t,o);var a,A,c,l=[],h=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":""),d=0,g=new RegExp(t.source,h+"g");while(a=u.call(g,n)){if(A=g.lastIndex,A>d&&(l.push(n.slice(d,a.index)),a.length>1&&a.index<n.length&&f.apply(l,a.slice(1)),c=a[0].length,d=A,l.length>=o))break;g.lastIndex===a.index&&g.lastIndex++}return d===n.length?!c&&g.test("")||l.push(""):l.push(n.slice(d)),l.length>o?l.slice(0,o):l}:"0".split(void 0,0).length?function(t,i){return void 0===t&&0===i?[]:e.call(this,t,i)}:e,[function(e,i){var r=s(this),o=void 0==e?void 0:e[t];return void 0!==o?o.call(e,r,i):n.call(String(r),e,i)},function(t,r){var s=i(n,t,this,r,n!==e);if(s.done)return s.value;var u=o(t),h=String(this),f=a(u,RegExp),v=u.unicode,m=(u.ignoreCase?"i":"")+(u.multiline?"m":"")+(u.unicode?"u":"")+(g?"y":"g"),w=new f(g?u:"^(?:"+u.source+")",m),y=void 0===r?p:r>>>0;if(0===y)return[];if(0===h.length)return null===l(w,h)?[h]:[];var b=0,B=0,C=[];while(B<h.length){w.lastIndex=g?B:0;var E,x=l(w,g?h:h.slice(B));if(null===x||(E=d(c(w.lastIndex+(g?0:B)),h.length))===b)B=A(h,B,v);else{if(C.push(h.slice(b,B)),C.length===y)return C;for(var _=1;_<=x.length-1;_++)if(C.push(x[_]),C.length===y)return C;B=b=E}}return C.push(h.slice(b)),C}]}),!g)},"14c3":function(t,e,i){var n=i("c6b6"),r=i("9263");t.exports=function(t,e){var i=t.exec;if("function"===typeof i){var o=i.call(t,e);if("object"!==typeof o)throw TypeError("RegExp exec method returned something other than an Object or null");return o}if("RegExp"!==n(t))throw TypeError("RegExp#exec called on incompatible receiver");return r.call(t,e)}},"159b":function(t,e,i){var n=i("da84"),r=i("fdbc"),o=i("17c2"),s=i("9112");for(var a in r){var A=n[a],c=A&&A.prototype;if(c&&c.forEach!==o)try{s(c,"forEach",o)}catch(l){c.forEach=o}}},"16df":function(t,e,i){var n=i("0c1e"),r=i("c454"),o=i("59d3"),s=i("b5d4"),a=Object.defineProperty;e.f=n?a:function(t,e,i){if(o(t),e=s(e,!0),o(i),r)try{return a(t,e,i)}catch(n){}if("get"in i||"set"in i)throw TypeError("Accessors not supported");return"value"in i&&(t[e]=i.value),t}},"177f":function(t,e,i){"use strict";var n=i("25d1"),r=i("d23b"),o=i("59d3"),s=i("381f"),a=i("f4d5"),A=i("6cea"),c=i("806a"),l=i("e59a"),u=i("227f"),h=i("e1d3"),f=h.UNSUPPORTED_Y,d=[].push,p=Math.min,g=4294967295;n("split",2,(function(t,e,i){var n;return n="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(t,i){var n=String(s(this)),o=void 0===i?g:i>>>0;if(0===o)return[];if(void 0===t)return[n];if(!r(t))return e.call(n,t,o);var a,A,c,l=[],h=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":""),f=0,p=new RegExp(t.source,h+"g");while(a=u.call(p,n)){if(A=p.lastIndex,A>f&&(l.push(n.slice(f,a.index)),a.length>1&&a.index<n.length&&d.apply(l,a.slice(1)),c=a[0].length,f=A,l.length>=o))break;p.lastIndex===a.index&&p.lastIndex++}return f===n.length?!c&&p.test("")||l.push(""):l.push(n.slice(f)),l.length>o?l.slice(0,o):l}:"0".split(void 0,0).length?function(t,i){return void 0===t&&0===i?[]:e.call(this,t,i)}:e,[function(e,i){var r=s(this),o=void 0==e?void 0:e[t];return void 0!==o?o.call(e,r,i):n.call(String(r),e,i)},function(t,r){var s=i(n,t,this,r,n!==e);if(s.done)return s.value;var u=o(t),h=String(this),d=a(u,RegExp),v=u.unicode,m=(u.ignoreCase?"i":"")+(u.multiline?"m":"")+(u.unicode?"u":"")+(f?"g":"y"),w=new d(f?"^(?:"+u.source+")":u,m),y=void 0===r?g:r>>>0;if(0===y)return[];if(0===h.length)return null===l(w,h)?[h]:[];var b=0,B=0,C=[];while(B<h.length){w.lastIndex=f?0:B;var E,x=l(w,f?h.slice(B):h);if(null===x||(E=p(c(w.lastIndex+(f?B:0)),h.length))===b)B=A(h,B,v);else{if(C.push(h.slice(b,B)),C.length===y)return C;for(var _=1;_<=x.length-1;_++)if(C.push(x[_]),C.length===y)return C;B=b=E}}return C.push(h.slice(b)),C}]}),f)},"17c2":function(t,e,i){"use strict";var n=i("b727").forEach,r=i("a640"),o=r("forEach");t.exports=o?[].forEach:function(t){return n(this,t,arguments.length>1?arguments[1]:void 0)}},"19aa":function(t,e){t.exports=function(t,e,i){if(!(t instanceof e))throw TypeError("Incorrect "+(i?i+" ":"")+"invocation");return t}},"1be4":function(t,e,i){var n=i("d066");t.exports=n("document","documentElement")},"1c09":function(t,e,i){},"1c0b":function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(String(t)+" is not a function");return t}},"1c7e":function(t,e,i){var n=i("b622"),r=n("iterator"),o=!1;try{var s=0,a={next:function(){return{done:!!s++}},return:function(){o=!0}};a[r]=function(){return this},Array.from(a,(function(){throw 2}))}catch(A){}t.exports=function(t,e){if(!e&&!o)return!1;var i=!1;try{var n={};n[r]=function(){return{next:function(){return{done:i=!0}}}},t(n)}catch(A){}return i}},"1cdc":function(t,e,i){var n=i("342f");t.exports=/(iphone|ipod|ipad).*applewebkit/i.test(n)},"1d80":function(t,e){t.exports=function(t){if(void 0==t)throw TypeError("Can't call method on "+t);return t}},"1dde":function(t,e,i){var n=i("d039"),r=i("b622"),o=i("2d00"),s=r("species");t.exports=function(t){return o>=51||!n((function(){var e=[],i=e.constructor={};return i[s]=function(){return{foo:1}},1!==e[t](Boolean).foo}))}},"1f38":function(t,e,i){var n=i("d065"),r=i("806a"),o=i("c54f"),s=function(t){return function(e,i,s){var a,A=n(e),c=r(A.length),l=o(s,c);if(t&&i!=i){while(c>l)if(a=A[l++],a!=a)return!0}else for(;c>l;l++)if((t||l in A)&&A[l]===i)return t||l||0;return!t&&-1}};t.exports={includes:s(!0),indexOf:s(!1)}},"1fb5":function(t,e,i){"use strict";e.byteLength=l,e.toByteArray=h,e.fromByteArray=p;for(var n=[],r=[],o="undefined"!==typeof Uint8Array?Uint8Array:Array,s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",a=0,A=s.length;a<A;++a)n[a]=s[a],r[s.charCodeAt(a)]=a;function c(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var i=t.indexOf("=");-1===i&&(i=e);var n=i===e?0:4-i%4;return[i,n]}function l(t){var e=c(t),i=e[0],n=e[1];return 3*(i+n)/4-n}function u(t,e,i){return 3*(e+i)/4-i}function h(t){var e,i,n=c(t),s=n[0],a=n[1],A=new o(u(t,s,a)),l=0,h=a>0?s-4:s;for(i=0;i<h;i+=4)e=r[t.charCodeAt(i)]<<18|r[t.charCodeAt(i+1)]<<12|r[t.charCodeAt(i+2)]<<6|r[t.charCodeAt(i+3)],A[l++]=e>>16&255,A[l++]=e>>8&255,A[l++]=255&e;return 2===a&&(e=r[t.charCodeAt(i)]<<2|r[t.charCodeAt(i+1)]>>4,A[l++]=255&e),1===a&&(e=r[t.charCodeAt(i)]<<10|r[t.charCodeAt(i+1)]<<4|r[t.charCodeAt(i+2)]>>2,A[l++]=e>>8&255,A[l++]=255&e),A}function f(t){return n[t>>18&63]+n[t>>12&63]+n[t>>6&63]+n[63&t]}function d(t,e,i){for(var n,r=[],o=e;o<i;o+=3)n=(t[o]<<16&16711680)+(t[o+1]<<8&65280)+(255&t[o+2]),r.push(f(n));return r.join("")}function p(t){for(var e,i=t.length,r=i%3,o=[],s=16383,a=0,A=i-r;a<A;a+=s)o.push(d(t,a,a+s>A?A:a+s));return 1===r?(e=t[i-1],o.push(n[e>>2]+n[e<<4&63]+"==")):2===r&&(e=(t[i-2]<<8)+t[i-1],o.push(n[e>>10]+n[e>>4&63]+n[e<<2&63]+"=")),o.join("")}r["-".charCodeAt(0)]=62,r["_".charCodeAt(0)]=63},2:function(t,e){},2266:function(t,e,i){var n=i("825a"),r=i("e95a"),o=i("50c4"),s=i("0366"),a=i("35a1"),A=i("2a62"),c=function(t,e){this.stopped=t,this.result=e};t.exports=function(t,e,i){var l,u,h,f,d,p,g,v=i&&i.that,m=!(!i||!i.AS_ENTRIES),w=!(!i||!i.IS_ITERATOR),y=!(!i||!i.INTERRUPTED),b=s(e,v,1+m+y),B=function(t){return l&&A(l),new c(!0,t)},C=function(t){return m?(n(t),y?b(t[0],t[1],B):b(t[0],t[1])):y?b(t,B):b(t)};if(w)l=t;else{if(u=a(t),"function"!=typeof u)throw TypeError("Target is not iterable");if(r(u)){for(h=0,f=o(t.length);f>h;h++)if(d=C(t[h]),d&&d instanceof c)return d;return new c(!1)}l=u.call(t)}p=l.next;while(!(g=p.call(l)).done){try{d=C(g.value)}catch(E){throw A(l),E}if("object"==typeof d&&d&&d instanceof c)return d}return new c(!1)}},"227f":function(t,e,i){"use strict";var n=i("3b51"),r=i("e1d3"),o=i("80fa"),s=RegExp.prototype.exec,a=o("native-string-replace",String.prototype.replace),A=s,c=function(){var t=/a/,e=/b*/g;return s.call(t,"a"),s.call(e,"a"),0!==t.lastIndex||0!==e.lastIndex}(),l=r.UNSUPPORTED_Y||r.BROKEN_CARET,u=void 0!==/()??/.exec("")[1],h=c||u||l;h&&(A=function(t){var e,i,r,o,A=this,h=l&&A.sticky,f=n.call(A),d=A.source,p=0,g=t;return h&&(f=f.replace("y",""),-1===f.indexOf("g")&&(f+="g"),g=String(t).slice(A.lastIndex),A.lastIndex>0&&(!A.multiline||A.multiline&&"\n"!==t[A.lastIndex-1])&&(d="(?: "+d+")",g=" "+g,p++),i=new RegExp("^(?:"+d+")",f)),u&&(i=new RegExp("^"+d+"$(?!\\s)",f)),c&&(e=A.lastIndex),r=s.call(h?i:A,g),h?r?(r.input=r.input.slice(p),r[0]=r[0].slice(p),r.index=A.lastIndex,A.lastIndex+=r[0].length):A.lastIndex=0:c&&r&&(A.lastIndex=A.global?r.index+r[0].length:e),u&&r&&r.length>1&&a.call(r[0],i,(function(){for(o=1;o<arguments.length-2;o++)void 0===arguments[o]&&(r[o]=void 0)})),r}),t.exports=A},2374:function(t,e,i){!function(t,i){i(e)}(0,(function(t){"use strict";var e=function(t,i){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,i)};function n(t,i){function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}
/*!
     * Copyright (c) 2017 Vladimir Agafonkin (rewrite by Jun Kato in TypeScript for PSBrush implementation)
     *
     * Simplify.js, a high-performance JS polyline simplification library
     * https://mourner.github.io/simplify-js/
     * @license BSD-2-Clause
     */var r=function(){function t(){this._tolerance=1,this.sqTolerance=1}return Object.defineProperty(t.prototype,"tolerance",{get:function(){return this._tolerance},set:function(t){"number"!=typeof t&&(t=1),this._tolerance=t,this.sqTolerance=t*t},enumerable:!1,configurable:!0}),t.prototype.getSquareDistance=function(t,e){var i=t.x-e.x,n=t.y-e.y;return i*i+n*n},t.prototype.getSquareSegmentDistance=function(t,e,i){var n=e.x,r=e.y,o=i.x-n,s=i.y-r;if(0!==o||0!==s){var a=((t.x-n)*o+(t.y-r)*s)/(o*o+s*s);a>1?(n=i.x,r=i.y):a>0&&(n+=o*a,r+=s*a)}return(o=t.x-n)*o+(s=t.y-r)*s},t.prototype.simplifyRadialDistance=function(t){for(var e,i=t[0],n=[i],r=1,o=t.length;r<o;r++)e=t[r],this.getSquareDistance(e,i)>this.sqTolerance&&(n.push(e),i=e);return i!==e&&n.push(e),n},t.prototype.simplifyDouglasPeucker=function(t){var e,i,n,r,o=t.length,s=new("undefined"!=typeof Uint8Array?Uint8Array:Array)(o),a=0,A=o-1,c=[],l=[];for(s[a]=s[A]=1;A;){for(i=0,e=a+1;e<A;e++)(n=this.getSquareSegmentDistance(t[e],t[a],t[A]))>i&&(r=e,i=n);i>this.sqTolerance&&(s[r]=1,c.push(a,r,r,A)),A=c.pop(),a=c.pop()}for(e=0;e<o;e++)s[e]&&l.push(t[e]);return l},t.prototype.do=function(t,e){return t=e?t:this.simplifyRadialDistance(t),this.simplifyDouglasPeucker(t)},t}(),o=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.pressureCoeff=100,e}return n(e,t),e.prototype.getSquareDistance=function(t,e){var i=t.x-e.x,n=t.y-e.y,r=t.pressure-e.pressure;return i*i+n*n+r*r*this.pressureCoeff},e.prototype.getSquareSegmentDistance=function(t,e,i){var n=e.x,r=e.y,o=e.pressure,s=i.x-n,a=i.y-r,A=i.pressure-o;if(0!==s||0!==a||0!==A){var c=((t.x-n)*s+(t.y-r)*a+(t.pressure-o)*A*this.pressureCoeff)/(s*s+a*a+A*A*this.pressureCoeff);c>1?(n=i.x,r=i.y,o=i.pressure):c>0&&(n+=s*c,r+=a*c,o+=A*c)}return(s=t.x-n)*s+(a=t.y-r)*a+(A=t.pressure-o)*A*this.pressureCoeff},e}(r);function s(t){return t.touches&&t.touches.length>0?t.touches[0].force:"mouse"===t.pointerType||"number"!=typeof t.pressure?.5:t.pressure}var a="undefined"==typeof fabric?i("7a94").fabric:fabric,A=function(t){function e(e,i,n){var r=t.call(this,e,i)||this;return r.type="PSPoint",r.pressure=n,r}return n(e,t),e.prototype.midPointFrom=function(i){var n=t.prototype.midPointFrom.call(this,i);return new e(n.x,n.y,(this.pressure+i.pressure)/2)},e.prototype.clone=function(){return new e(this.x,this.y,this.pressure)},e}(a.Point);A.fromObject=function(t,e){e&&e(new A(t.x,t.y,t.pressure))},a.PSPoint=A;var c="undefined"==typeof fabric?i("7a94").fabric:fabric,l=c.util.array.min,u=c.util.array.max,h=c.util.object.extend,f=c.util.createClass(c.Object,{type:"PSStroke",strokePoints:null,startTime:null,endTime:null,cacheProperties:c.Object.prototype.cacheProperties.concat("strokePoints","startTime","endTime","fillRule"),stateProperties:c.Object.prototype.stateProperties.concat("strokePoints","startTime","endTime"),initialize:function(t,e){e=e||{},this.callSuper("initialize",e),this.startTime=e.startTime,this.endTime=e.endTime,this.strokePoints=(t||[]).concat(),this._setPositionDimensions(e)},_setPositionDimensions:function(t){var e=this._parseDimensions();this.width=e.width,this.height=e.height,void 0===t.left&&void 0===t.top&&(this.left=e.left,this.top=e.top),this.strokeOffset=this.strokeOffset||{x:e.left+this.width/2,y:e.top+this.height/2}},_renderStroke:function(t){var e,i=this.strokeWidth/1e3,n=this.strokePoints[0],r=this.strokePoints[1],o=n,s=this.strokePoints.length,a=1,c=1,l=s>2,u=-this.strokeOffset.x,h=-this.strokeOffset.y;for(l&&(a=this.strokePoints[2].x<r.x?-1:this.strokePoints[2].x===r.x?0:1,c=this.strokePoints[2].y<r.y?-1:this.strokePoints[2].y===r.y?0:1),2===this.strokePoints.length&&n.x===r.x&&n.y===r.y&&(n=new A(n.x,n.y,n.pressure),r=new A(r.x,r.y,r.pressure),n.x-=i,r.x+=i,o.x=n.x),t.strokeStyle=this.stroke,t.lineCap=this.strokeLineCap,t.lineJoin=this.strokeLineJoin,e=1,s=this.strokePoints.length;e<s;e++)t.beginPath(),t.moveTo(o.x-a*i+u,o.y-c*i+h),t.lineWidth=n.pressure*this.strokeWidth,o=n.midPointFrom(r),t.quadraticCurveTo(n.x-a*i+u,n.y-c*i+h,o.x-a*i+u,o.y-c*i+h),n=this.strokePoints[e],r=this.strokePoints[e+1],t.stroke()},_render:function(t){this._renderStroke(t),this._renderPaintInOrder(t)},toString:function(){return"#<Stroke ("+this.complexity()+'): { "top": '+this.top+', "left": '+this.left+" }>"},toObject:function(t){return h(this.callSuper("toObject",t),{strokePoints:this.strokePoints.map((function(t){return t.clone()})),startTime:this.startTime,endTime:this.endTime,top:this.top,left:this.left})},_toSVG:function(){for(var t=['<g transform="translate(',String(-this.strokeOffset.x),",",String(-this.strokeOffset.y),')" ',"COMMON_PARTS",">\n"],e=null,i=0;i<this.strokePoints.length;i++){var n=this.strokePoints[i];if(e){var r=e.x,o=e.y,s=n.x,a=n.y;t.push("<line ",'x1="',String(r),'" y1="',String(o),'" x2="',String(s),'" y2="',String(a),'" ','stroke-width="',String(e.pressure*this.strokeWidth),'" ','stroke-linecap="round" />\n')}e=n}return t.push("</g>\n"),t},toClipPathSVG:function(t){return"\t"+this._createBaseClipPathSVGMarkup(this._toSVG(),{reviver:t})},toSVG:function(t){return this._createBaseSVGMarkup(this._toSVG(),{reviver:t})},complexity:function(){return this.strokePoints.length},_parseDimensions:function(){function t(){this.bounds=[],this.aX=[],this.aY=[],this.x=0,this.y=0}t.prototype._done=function(){var t=this;this.bounds.forEach((function(e){t.aX.push(e.x),t.aY.push(e.y)})),this.aX.push(this.x),this.aY.push(this.y)},t.prototype.moveTo=function(t,e){this.x=t,this.y=e,this.bounds=[],this._done()},t.prototype.quadraticCurveTo=function(t,e,i,n){this.bounds=c.util.getBoundsOfCurve(this.x,this.y,t,e,t,e,i,n),this.x=i,this.y=n,this._done()},t.prototype.calcBounds=function(){var t=l(this.aX)||0,e=l(this.aY)||0;return{left:t,top:e,width:(u(this.aX)||0)-t,height:(u(this.aY)||0)-e}};var e,i,n=new t,r=this.strokePoints[0],o=this.strokePoints[1],s=r;if(2===this.strokePoints.length&&r.x===o.x&&r.y===o.y){var a=this.strokeWidth/1e3;r=new A(r.x,r.y,r.pressure),o=new A(o.x,o.y,o.pressure),r.x-=a,o.x+=a,s.x=r.x}for(e=1,i=this.strokePoints.length;e<i;e++)n.moveTo(s.x,s.y),n.lineWidth=r.pressure*this.strokeWidth,s=r.midPointFrom(o),n.quadraticCurveTo(r.x,r.y,s.x,s.y),r=this.strokePoints[e],o=this.strokePoints[e+1];return n.calcBounds()}});f.fromObject=function(t,e){c.util.enlivenPatterns([t.fill,t.stroke],(function(i){void 0!==i[0]&&(t.fill=i[0]),void 0!==i[1]&&(t.stroke=i[1]),c.util.enlivenObjects([t.clipPath],(function(i){t.clipPath=i[0],c.util.enlivenObjects(t.strokePoints,(function(i){var n=new f(i,t);e&&e(n)}),null,null)}),null,null)}))},c.PSStroke=f;
/*!
     * Copyright (c) 2020 Arch Inc. (Jun Kato, Kenta Hara)
     *
     * fabricjs-psbrush, a lightweight pressure-sensitive brush implementation for Fabric.js
     * @license MIT
     */
var d="undefined"==typeof fabric?i("7a94").fabric:fabric,p=1e-4,g=.07999999821186066,v=d.util.createClass(d.BaseBrush,{simplify:null,pressureCoeff:100,simplifyTolerance:0,simplifyHighestQuality:!1,pressureIgnoranceOnStart:-1,opacity:1,currentStartTime:null,initialize:function(t){this.simplify=new o,this.canvas=t,this._points=[]},_drawSegment:function(t,e,i){var n=e.midPointFrom(i);return t.lineWidth=e.pressure*this.width,t.quadraticCurveTo(e.x,e.y,n.x,n.y),n},onMouseDown:function(t,e){var i=e?e.pointer:t,n=e?e.e:t.e||null;this._prepareForDrawing(i,n),this._captureDrawingPath(i,n),this._render()},onMouseMove:function(t,e){var i=e?e.pointer:t,n=e?e.e:t.e||null;if(this._captureDrawingPath(i,n)&&this._points.length>1)if(this.needsFullRender)this.canvas.clearContext(this.canvas.contextTop),this._render();else{var r=this._points,o=r.length,s=this.canvas.contextTop;this._saveAndTransform(s),this.oldEnd&&(s.beginPath(),s.moveTo(this.oldEnd.x,this.oldEnd.y)),this.oldEnd=this._drawSegment(s,r[o-2],r[o-1],!0),s.stroke(),s.restore()}},onMouseUp:function(t){this.oldEnd=void 0,this._finalizeAndAddPath()},_prepareForDrawing:function(t,e){var i=s(e),n=new A(t.x,t.y,i===g?p:i);this._reset(),this._addPoint(n),this.canvas.contextTop.moveTo(n.x,n.y),this.currentStartTime=Date.now()},_addPoint:function(t){return!(this._points.length>1&&t.eq(this._points[this._points.length-1]))&&(this._points.push(t),!0)},_reset:function(){this._points.length=0,this._setBrushStyles();var t=new d.Color(this.color);this.needsFullRender=t.getAlpha()<1,this._setShadow()},_captureDrawingPath:function(t,e){var i=s(e),n=this.pressureIgnoranceOnStart>Date.now()-this.currentStartTime,r=Array.isArray(this._points)&&this._points.length>0,o=r?this._points[this._points.length-1].pressure:p,a=new A(t.x,t.y,n?p:i===g?o:Math.max(p,i));return!this.pressureShouldBeIgnored&&r&&o===p&&a.pressure!==p&&(this._points.forEach((function(t){return t.pressure=Math.max(t.pressure,a.pressure)})),this._redrawSegments(this._points)),this._addPoint(a)},_redrawSegments:function(t){var e=this,i=this.canvas.contextTop;this._saveAndTransform(i),this.oldEnd&&i.closePath();var n=this._points[0];i.moveTo(n.x,n.y),i.beginPath(),this._points.forEach((function(t){e.oldEnd=e._drawSegment(i,n,t,!0),n=t})),i.stroke(),i.restore()},_render:function(){var t,e,i=this.canvas.contextTop,n=this._points[0],r=this._points[1],o=n;if(this._saveAndTransform(i),2===this._points.length&&n.x===r.x&&n.y===r.y){var s=n.pressure*this.width/1e3;n=new A(n.x,n.y,n.pressure),r=new A(r.x,r.y,r.pressure),n.x-=s,r.x+=s,o.x=n.x}var a=i.globalCompositeOperation,c=i.globalAlpha;for(i.globalCompositeOperation="destination-atop",i.globalAlpha=this.opacity,t=1,e=this._points.length;t<e;t++)i.beginPath(),i.moveTo(o.x,o.y),o=this._drawSegment(i,n,r),i.closePath(),i.stroke(),n=this._points[t],r=this._points[t+1];i.restore(),i.globalCompositeOperation=a,i.globalAlpha=c},convertPointsToSVGPath:function(t){var e,i=[],n=this.width/1e3,r=new A(t[0].x,t[0].y,t[0].pressure),o=new A(t[1].x,t[1].y,t[1].pressure),s=r,a=t.length,c=1,l=1,u=a>2;for(u&&(c=t[2].x<o.x?-1:t[2].x===o.x?0:1,l=t[2].y<o.y?-1:t[2].y===o.y?0:1),e=1;e<a;e++)i.push("M ",s.x-c*n," ",s.y-l*n," "),r.eq(o)||(s=r.midPointFrom(o),i.push("Q ",r.x," ",r.y," ",s.x," ",s.y," ")),r=t[e],e+1<t.length&&(o=t[e+1]);return u&&(c=r.x>t[e-2].x?1:r.x===t[e-2].x?0:-1,l=r.y>t[e-2].y?1:r.y===t[e-2].y?0:-1),i.push("L ",r.x+c*n," ",r.y+l*n),i},createPSStroke:function(t){var e=new f(t,{fill:null,stroke:this.color,strokeWidth:this.width,strokeLineCap:this.strokeLineCap,strokeMiterLimit:this.strokeMiterLimit,strokeLineJoin:this.strokeLineJoin,strokeDashArray:this.strokeDashArray}),i=new d.Point(e.left+e.width/2,e.top+e.height/2);return i=e.translateToGivenOrigin(i,"center","center",e.originX,e.originY),e.top=i.y,e.left=i.x,this.shadow&&(this.shadow.affectStroke=!0,e.setShadow(this.shadow)),e},_finalizeAndAddPath:function(){if(this.canvas.contextTop.closePath(),this.simplifyTolerance>0&&(this.simplify.pressureCoeff=this.pressureCoeff,this.simplify.tolerance=this.simplifyTolerance,this._points=this.simplify.do(this._points,this.simplifyHighestQuality)),"M 0 0 Q 0 0 0 0 L 0 0"!==this.convertPointsToSVGPath(this._points).join("")){var t=this.createPSStroke(this._points);t.opacity=this.opacity,t.startTime=this.currentStartTime,t.endTime=Date.now(),this.canvas.clearContext(this.canvas.contextTop),this.canvas.add(t),t.setCoords(),this._resetShadow(),this.canvas.fire("path:created",{path:t})}else this.canvas.requestRenderAll()}});d.PSBrush=v,t.PSBrush=v,t.PSPoint=A,t.PSStroke=f,t.Simplify=r,t.getPressure=s,t.isPSPoint=function(t){return t&&"PSPoint"===t.type},t.isPSStroke=function(t){return t&&"PSStroke"===t.type},Object.defineProperty(t,"__esModule",{value:!0})}))},"23cb":function(t,e,i){var n=i("a691"),r=Math.max,o=Math.min;t.exports=function(t,e){var i=n(t);return i<0?r(i+e,0):o(i,e)}},"23e7":function(t,e,i){var n=i("da84"),r=i("06cf").f,o=i("9112"),s=i("6eeb"),a=i("ce4e"),A=i("e893"),c=i("94ca");t.exports=function(t,e){var i,l,u,h,f,d,p=t.target,g=t.global,v=t.stat;if(l=g?n:v?n[p]||a(p,{}):(n[p]||{}).prototype,l)for(u in e){if(f=e[u],t.noTargetGet?(d=r(l,u),h=d&&d.value):h=l[u],i=c(g?u:p+(v?".":"#")+u,t.forced),!i&&void 0!==h){if(typeof f===typeof h)continue;A(f,h)}(t.sham||h&&h.sham)&&o(f,"sham",!0),s(l,u,f,t)}}},"240b":function(t,e,i){"use strict";var n=i("b235"),r=i("35d9").map,o=i("8dcb"),s=o("map");n({target:"Array",proto:!0,forced:!s},{map:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}})},"241c":function(t,e,i){var n=i("ca84"),r=i("7839"),o=r.concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return n(t,o)}},2532:function(t,e,i){"use strict";var n=i("23e7"),r=i("5a34"),o=i("1d80"),s=i("ab13");n({target:"String",proto:!0,forced:!s("includes")},{includes:function(t){return!!~String(o(this)).indexOf(r(t),arguments.length>1?arguments[1]:void 0)}})},"25d1":function(t,e,i){"use strict";i("80ae");var n=i("0312"),r=i("2b9c"),o=i("b5a5"),s=i("d348"),a=o("species"),A=!r((function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:"7"},t},"7"!=="".replace(t,"$<a>")})),c=function(){return"$0"==="a".replace(/./,"$0")}(),l=o("replace"),u=function(){return!!/./[l]&&""===/./[l]("a","$0")}(),h=!r((function(){var t=/(?:)/,e=t.exec;t.exec=function(){return e.apply(this,arguments)};var i="ab".split(t);return 2!==i.length||"a"!==i[0]||"b"!==i[1]}));t.exports=function(t,e,i,l){var f=o(t),d=!r((function(){var e={};return e[f]=function(){return 7},7!=""[t](e)})),p=d&&!r((function(){var e=!1,i=/a/;return"split"===t&&(i={},i.constructor={},i.constructor[a]=function(){return i},i.flags="",i[f]=/./[f]),i.exec=function(){return e=!0,null},i[f](""),!e}));if(!d||!p||"replace"===t&&(!A||!c||u)||"split"===t&&!h){var g=/./[f],v=i(f,""[t],(function(t,e,i,n,r){return e.exec===RegExp.prototype.exec?d&&!r?{done:!0,value:g.call(e,i,n)}:{done:!0,value:t.call(i,e,n)}:{done:!1}}),{REPLACE_KEEPS_$0:c,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:u}),m=v[0],w=v[1];n(String.prototype,t,m),n(RegExp.prototype,f,2==e?function(t,e){return w.call(t,this,e)}:function(t){return w.call(t,this)})}l&&s(RegExp.prototype[f],"sham",!0)}},"25f0":function(t,e,i){"use strict";var n=i("6eeb"),r=i("825a"),o=i("d039"),s=i("ad6d"),a="toString",A=RegExp.prototype,c=A[a],l=o((function(){return"/a/b"!=c.call({source:"a",flags:"b"})})),u=c.name!=a;(l||u)&&n(RegExp.prototype,a,(function(){var t=r(this),e=String(t.source),i=t.flags,n=String(void 0===i&&t instanceof RegExp&&!("flags"in A)?s.call(t):i);return"/"+e+"/"+n}),{unsafe:!0})},2626:function(t,e,i){"use strict";var n=i("d066"),r=i("9bf2"),o=i("b622"),s=i("83ab"),a=o("species");t.exports=function(t){var e=n(t),i=r.f;s&&e&&!e[a]&&i(e,a,{configurable:!0,get:function(){return this}})}},2710:function(t,e,i){var n=i("657c"),r=i("8ec2"),o=i("347c"),s=i("16df");t.exports=function(t,e){for(var i=r(e),a=s.f,A=o.f,c=0;c<i.length;c++){var l=i[c];n(t,l)||a(t,l,A(e,l))}}},"2a62":function(t,e,i){var n=i("825a");t.exports=function(t){var e=t["return"];if(void 0!==e)return n(e.call(t)).value}},"2b9c":function(t,e){t.exports=function(t){try{return!!t()}catch(e){return!0}}},"2cf4":function(t,e,i){var n,r,o,s=i("da84"),a=i("d039"),A=i("0366"),c=i("1be4"),l=i("cc12"),u=i("1cdc"),h=i("605d"),f=s.location,d=s.setImmediate,p=s.clearImmediate,g=s.process,v=s.MessageChannel,m=s.Dispatch,w=0,y={},b="onreadystatechange",B=function(t){if(y.hasOwnProperty(t)){var e=y[t];delete y[t],e()}},C=function(t){return function(){B(t)}},E=function(t){B(t.data)},x=function(t){s.postMessage(t+"",f.protocol+"//"+f.host)};d&&p||(d=function(t){var e=[],i=1;while(arguments.length>i)e.push(arguments[i++]);return y[++w]=function(){("function"==typeof t?t:Function(t)).apply(void 0,e)},n(w),w},p=function(t){delete y[t]},h?n=function(t){g.nextTick(C(t))}:m&&m.now?n=function(t){m.now(C(t))}:v&&!u?(r=new v,o=r.port2,r.port1.onmessage=E,n=A(o.postMessage,o,1)):s.addEventListener&&"function"==typeof postMessage&&!s.importScripts&&f&&"file:"!==f.protocol&&!a(x)?(n=x,s.addEventListener("message",E,!1)):n=b in l("script")?function(t){c.appendChild(l("script"))[b]=function(){c.removeChild(this),B(t)}}:function(t){setTimeout(C(t),0)}),t.exports={set:d,clear:p}},"2d00":function(t,e,i){var n,r,o=i("da84"),s=i("342f"),a=o.process,A=a&&a.versions,c=A&&A.v8;c?(n=c.split("."),r=n[0]+n[1]):s&&(n=s.match(/Edge\/(\d+)/),(!n||n[1]>=74)&&(n=s.match(/Chrome\/(\d+)/),n&&(r=n[1]))),t.exports=r&&+r},3410:function(t,e,i){var n=i("23e7"),r=i("d039"),o=i("7b0b"),s=i("e163"),a=i("e177"),A=r((function(){s(1)}));n({target:"Object",stat:!0,forced:A,sham:!a},{getPrototypeOf:function(t){return s(o(t))}})},"342f":function(t,e,i){var n=i("d066");t.exports=n("navigator","userAgent")||""},"347c":function(t,e,i){var n=i("0c1e"),r=i("9aa1"),o=i("eb22"),s=i("d065"),a=i("b5d4"),A=i("657c"),c=i("c454"),l=Object.getOwnPropertyDescriptor;e.f=n?l:function(t,e){if(t=s(t),e=a(e,!0),c)try{return l(t,e)}catch(i){}if(A(t,e))return o(!r.f.call(t,e),t[e])}},3572:function(t,e,i){var n=i("2b9c"),r=/#|\.prototype\./,o=function(t,e){var i=a[s(t)];return i==c||i!=A&&("function"==typeof e?n(e):!!e)},s=o.normalize=function(t){return String(t).replace(r,".").toLowerCase()},a=o.data={},A=o.NATIVE="N",c=o.POLYFILL="P";t.exports=o},"35a1":function(t,e,i){var n=i("f5df"),r=i("3f8c"),o=i("b622"),s=o("iterator");t.exports=function(t){if(void 0!=t)return t[s]||t["@@iterator"]||r[n(t)]}},"35d9":function(t,e,i){var n=i("f173"),r=i("c45c"),o=i("4013"),s=i("806a"),a=i("95bf"),A=[].push,c=function(t){var e=1==t,i=2==t,c=3==t,l=4==t,u=6==t,h=7==t,f=5==t||u;return function(d,p,g,v){for(var m,w,y=o(d),b=r(y),B=n(p,g,3),C=s(b.length),E=0,x=v||a,_=e?x(d,C):i||h?x(d,0):void 0;C>E;E++)if((f||E in b)&&(m=b[E],w=B(m,E,y),t))if(e)_[E]=w;else if(w)switch(t){case 3:return!0;case 5:return m;case 6:return E;case 2:A.call(_,m)}else switch(t){case 4:return!1;case 7:A.call(_,m)}return u?-1:c||l?l:_}};t.exports={forEach:c(0),map:c(1),filter:c(2),some:c(3),every:c(4),find:c(5),findIndex:c(6),filterOut:c(7)}},"37e8":function(t,e,i){var n=i("83ab"),r=i("9bf2"),o=i("825a"),s=i("df75");t.exports=n?Object.defineProperties:function(t,e){o(t);var i,n=s(e),a=n.length,A=0;while(a>A)r.f(t,i=n[A++],e[i]);return t}},"381f":function(t,e){t.exports=function(t){if(void 0==t)throw TypeError("Can't call method on "+t);return t}},"396a":function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(String(t)+" is not a function");return t}},"3a40":function(t,e,i){var n=i("cab6");t.exports=Array.isArray||function(t){return"Array"==n(t)}},"3b51":function(t,e,i){"use strict";var n=i("59d3");t.exports=function(){var t=n(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.dotAll&&(e+="s"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e}},"3bbe":function(t,e,i){var n=i("861d");t.exports=function(t){if(!n(t)&&null!==t)throw TypeError("Can't set "+String(t)+" as a prototype");return t}},"3ca3":function(t,e,i){"use strict";var n=i("6547").charAt,r=i("69f3"),o=i("7dd0"),s="String Iterator",a=r.set,A=r.getterFor(s);o(String,"String",(function(t){a(this,{type:s,string:String(t),index:0})}),(function(){var t,e=A(this),i=e.string,r=e.index;return r>=i.length?{value:void 0,done:!0}:(t=n(i,r),e.index+=t.length,{value:t,done:!1})}))},"3f8c":function(t,e){t.exports={}},4013:function(t,e,i){var n=i("381f");t.exports=function(t){return Object(n(t))}},"408a":function(t,e,i){var n=i("c6b6");t.exports=function(t){if("number"!=typeof t&&"Number"!=n(t))throw TypeError("Incorrect invocation");return+t}},"428f":function(t,e,i){var n=i("da84");t.exports=n},"44ad":function(t,e,i){var n=i("d039"),r=i("c6b6"),o="".split;t.exports=n((function(){return!Object("z").propertyIsEnumerable(0)}))?function(t){return"String"==r(t)?o.call(t,""):Object(t)}:Object},"44d2":function(t,e,i){var n=i("b622"),r=i("7c73"),o=i("9bf2"),s=n("unscopables"),a=Array.prototype;void 0==a[s]&&o.f(a,s,{configurable:!0,value:r(null)}),t.exports=function(t){a[s][t]=!0}},"44de":function(t,e,i){var n=i("da84");t.exports=function(t,e){var i=n.console;i&&i.error&&(1===arguments.length?i.error(t):i.error(t,e))}},"44e7":function(t,e,i){var n=i("861d"),r=i("c6b6"),o=i("b622"),s=o("match");t.exports=function(t){var e;return n(t)&&(void 0!==(e=t[s])?!!e:"RegExp"==r(t))}},4601:function(t,e,i){var n=i("657c"),r=i("d065"),o=i("1f38").indexOf,s=i("b064");t.exports=function(t,e){var i,a=r(t),A=0,c=[];for(i in a)!n(s,i)&&n(a,i)&&c.push(i);while(e.length>A)n(a,i=e[A++])&&(~o(c,i)||c.push(i));return c}},"46e1":function(t,e,i){},4840:function(t,e,i){var n=i("825a"),r=i("1c0b"),o=i("b622"),s=o("species");t.exports=function(t,e){var i,o=n(t).constructor;return void 0===o||void 0==(i=n(o)[s])?e:r(i)}},4849:function(t,e,i){"use strict";var n=i("0c1e"),r=i("f2f2"),o=i("3572"),s=i("0312"),a=i("657c"),A=i("cab6"),c=i("debf"),l=i("b5d4"),u=i("2b9c"),h=i("e798"),f=i("a46c").f,d=i("347c").f,p=i("16df").f,g=i("fa99").trim,v="Number",m=r[v],w=m.prototype,y=A(h(w))==v,b=function(t){var e,i,n,r,o,s,a,A,c=l(t,!1);if("string"==typeof c&&c.length>2)if(c=g(c),e=c.charCodeAt(0),43===e||45===e){if(i=c.charCodeAt(2),88===i||120===i)return NaN}else if(48===e){switch(c.charCodeAt(1)){case 66:case 98:n=2,r=49;break;case 79:case 111:n=8,r=55;break;default:return+c}for(o=c.slice(2),s=o.length,a=0;a<s;a++)if(A=o.charCodeAt(a),A<48||A>r)return NaN;return parseInt(o,n)}return+c};if(o(v,!m(" 0o1")||!m("0b1")||m("+0x1"))){for(var B,C=function(t){var e=arguments.length<1?0:t,i=this;return i instanceof C&&(y?u((function(){w.valueOf.call(i)})):A(i)!=v)?c(new m(b(e)),i,C):b(e)},E=n?f(m):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger,fromString,range".split(","),x=0;E.length>x;x++)a(m,B=E[x])&&!a(C,B)&&p(C,B,d(m,B));C.prototype=w,w.constructor=C,s(r,v,C)}},4930:function(t,e,i){var n=i("605d"),r=i("2d00"),o=i("d039");t.exports=!!Object.getOwnPropertySymbols&&!o((function(){return!Symbol.sham&&(n?38===r:r>37&&r<41)}))},"498a":function(t,e,i){"use strict";var n=i("23e7"),r=i("58a8").trim,o=i("c8d2");n({target:"String",proto:!0,forced:o("trim")},{trim:function(){return r(this)}})},"4ae1":function(t,e,i){var n=i("23e7"),r=i("d066"),o=i("1c0b"),s=i("825a"),a=i("861d"),A=i("7c73"),c=i("0538"),l=i("d039"),u=r("Reflect","construct"),h=l((function(){function t(){}return!(u((function(){}),[],t)instanceof t)})),f=!l((function(){u((function(){}))})),d=h||f;n({target:"Reflect",stat:!0,forced:d,sham:d},{construct:function(t,e){o(t),s(e);var i=arguments.length<3?t:o(arguments[2]);if(f&&!h)return u(t,e,i);if(t==i){switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3])}var n=[null];return n.push.apply(n,e),new(c.apply(t,n))}var r=i.prototype,l=A(a(r)?r:Object.prototype),d=Function.apply.call(t,l,e);return a(d)?d:l}})},"4b3d":function(t,e,i){var n=i("820c"),r=i("0312"),o=i("0208");n||r(Object.prototype,"toString",o,{unsafe:!0})},"4d64":function(t,e,i){var n=i("fc6a"),r=i("50c4"),o=i("23cb"),s=function(t){return function(e,i,s){var a,A=n(e),c=r(A.length),l=o(s,c);if(t&&i!=i){while(c>l)if(a=A[l++],a!=a)return!0}else for(;c>l;l++)if((t||l in A)&&A[l]===i)return t||l||0;return!t&&-1}};t.exports={includes:s(!0),indexOf:s(!1)}},"4de4":function(t,e,i){"use strict";var n=i("23e7"),r=i("b727").filter,o=i("1dde"),s=o("filter");n({target:"Array",proto:!0,forced:!s},{filter:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}})},"4df4":function(t,e,i){"use strict";var n=i("0366"),r=i("7b0b"),o=i("9bdd"),s=i("e95a"),a=i("50c4"),A=i("8418"),c=i("35a1");t.exports=function(t){var e,i,l,u,h,f,d=r(t),p="function"==typeof this?this:Array,g=arguments.length,v=g>1?arguments[1]:void 0,m=void 0!==v,w=c(d),y=0;if(m&&(v=n(v,g>2?arguments[2]:void 0,2)),void 0==w||p==Array&&s(w))for(e=a(d.length),i=new p(e);e>y;y++)f=m?v(d[y],y):d[y],A(i,y,f);else for(u=w.call(d),h=u.next,i=new p;!(l=h.call(u)).done;y++)f=m?o(u,v,[l.value,y],!0):l.value,A(i,y,f);return i.length=y,i}},"50c4":function(t,e,i){var n=i("a691"),r=Math.min;t.exports=function(t){return t>0?r(n(t),9007199254740991):0}},5135:function(t,e){var i={}.hasOwnProperty;t.exports=function(t,e){return i.call(t,e)}},5319:function(t,e,i){"use strict";var n=i("d784"),r=i("825a"),o=i("50c4"),s=i("a691"),a=i("1d80"),A=i("8aa5"),c=i("0cb2"),l=i("14c3"),u=Math.max,h=Math.min,f=function(t){return void 0===t?t:String(t)};n("replace",2,(function(t,e,i,n){var d=n.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE,p=n.REPLACE_KEEPS_$0,g=d?"$":"$0";return[function(i,n){var r=a(this),o=void 0==i?void 0:i[t];return void 0!==o?o.call(i,r,n):e.call(String(r),i,n)},function(t,n){if(!d&&p||"string"===typeof n&&-1===n.indexOf(g)){var a=i(e,t,this,n);if(a.done)return a.value}var v=r(t),m=String(this),w="function"===typeof n;w||(n=String(n));var y=v.global;if(y){var b=v.unicode;v.lastIndex=0}var B=[];while(1){var C=l(v,m);if(null===C)break;if(B.push(C),!y)break;var E=String(C[0]);""===E&&(v.lastIndex=A(m,o(v.lastIndex),b))}for(var x="",_=0,S=0;S<B.length;S++){C=B[S];for(var T=String(C[0]),F=u(h(s(C.index),m.length),0),Q=[],U=1;U<C.length;U++)Q.push(f(C[U]));var O=C.groups;if(w){var H=[T].concat(Q,F,m);void 0!==O&&H.push(O);var D=String(n.apply(void 0,H))}else D=c(T,m,F,Q,O,n);F>=_&&(x+=m.slice(_,F)+D,_=F+T.length)}return x+m.slice(_)}]}))},5548:function(t,e,i){"use strict";var n=i("2b9c");t.exports=function(t,e){var i=[][t];return!!i&&n((function(){i.call(null,e||function(){throw 1},1)}))}},5692:function(t,e,i){var n=i("c430"),r=i("c6cd");(t.exports=function(t,e){return r[t]||(r[t]=void 0!==e?e:{})})("versions",[]).push({version:"3.10.0",mode:n?"pure":"global",copyright:" 2021 Denis Pushkarev (zloirock.ru)"})},"56ef":function(t,e,i){var n=i("d066"),r=i("241c"),o=i("7418"),s=i("825a");t.exports=n("Reflect","ownKeys")||function(t){var e=r.f(s(t)),i=o.f;return i?e.concat(i(t)):e}},5793:function(t,e,i){var n=i("cab6"),r=i("f2f2");t.exports="process"==n(r.process)},5899:function(t,e){t.exports="\t\n\v\f\r \u2028\u2029\ufeff"},"58a8":function(t,e,i){var n=i("1d80"),r=i("5899"),o="["+r+"]",s=RegExp("^"+o+o+"*"),a=RegExp(o+o+"*$"),A=function(t){return function(e){var i=String(n(e));return 1&t&&(i=i.replace(s,"")),2&t&&(i=i.replace(a,"")),i}};t.exports={start:A(1),end:A(2),trim:A(3)}},"59d3":function(t,e,i){var n=i("f0e4");t.exports=function(t){if(!n(t))throw TypeError(String(t)+" is not an object");return t}},"5a34":function(t,e,i){var n=i("44e7");t.exports=function(t){if(n(t))throw TypeError("The method doesn't accept regular expressions");return t}},"5c6c":function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},"605d":function(t,e,i){var n=i("c6b6"),r=i("da84");t.exports="process"==n(r.process)},6089:function(t,e,i){var n=i("59d3"),r=i("99b3");t.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var t,e=!1,i={};try{t=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set,t.call(i,[]),e=i instanceof Array}catch(o){}return function(i,o){return n(i),r(o),e?t.call(i,o):i.__proto__=o,i}}():void 0)},6540:function(t,e,i){var n=i("c668"),r=i("f2f2"),o=function(t){return"function"==typeof t?t:void 0};t.exports=function(t,e){return arguments.length<2?o(n[t])||o(r[t]):n[t]&&n[t][e]||r[t]&&r[t][e]}},6547:function(t,e,i){var n=i("a691"),r=i("1d80"),o=function(t){return function(e,i){var o,s,a=String(r(e)),A=n(i),c=a.length;return A<0||A>=c?t?"":void 0:(o=a.charCodeAt(A),o<55296||o>56319||A+1===c||(s=a.charCodeAt(A+1))<56320||s>57343?t?a.charAt(A):o:t?a.slice(A,A+2):s-56320+(o-55296<<10)+65536)}};t.exports={codeAt:o(!1),charAt:o(!0)}},"657c":function(t,e,i){var n=i("4013"),r={}.hasOwnProperty;t.exports=function(t,e){return r.call(n(t),e)}},"65f0":function(t,e,i){var n=i("861d"),r=i("e8b5"),o=i("b622"),s=o("species");t.exports=function(t,e){var i;return r(t)&&(i=t.constructor,"function"!=typeof i||i!==Array&&!r(i.prototype)?n(i)&&(i=i[s],null===i&&(i=void 0)):i=void 0),new(void 0===i?Array:i)(0===e?0:e)}},"69f3":function(t,e,i){var n,r,o,s=i("7f9a"),a=i("da84"),A=i("861d"),c=i("9112"),l=i("5135"),u=i("c6cd"),h=i("f772"),f=i("d012"),d=a.WeakMap,p=function(t){return o(t)?r(t):n(t,{})},g=function(t){return function(e){var i;if(!A(e)||(i=r(e)).type!==t)throw TypeError("Incompatible receiver, "+t+" required");return i}};if(s){var v=u.state||(u.state=new d),m=v.get,w=v.has,y=v.set;n=function(t,e){return e.facade=t,y.call(v,t,e),e},r=function(t){return m.call(v,t)||{}},o=function(t){return w.call(v,t)}}else{var b=h("state");f[b]=!0,n=function(t,e){return e.facade=t,c(t,b,e),e},r=function(t){return l(t,b)?t[b]:{}},o=function(t){return l(t,b)}}t.exports={set:n,get:r,has:o,enforce:p,getterFor:g}},"6cea":function(t,e,i){"use strict";var n=i("c48e").charAt;t.exports=function(t,e,i){return e+(i?n(t,e).length:1)}},"6eeb":function(t,e,i){var n=i("da84"),r=i("9112"),o=i("5135"),s=i("ce4e"),a=i("8925"),A=i("69f3"),c=A.get,l=A.enforce,u=String(String).split("String");(t.exports=function(t,e,i,a){var A,c=!!a&&!!a.unsafe,h=!!a&&!!a.enumerable,f=!!a&&!!a.noTargetGet;"function"==typeof i&&("string"!=typeof e||o(i,"name")||r(i,"name",e),A=l(i),A.source||(A.source=u.join("string"==typeof e?e:""))),t!==n?(c?!f&&t[e]&&(h=!0):delete t[e],h?t[e]=i:r(t,e,i)):h?t[e]=i:s(e,i)})(Function.prototype,"toString",(function(){return"function"==typeof this&&c(this).source||a(this)}))},"6f17":function(t,e){var i=Math.ceil,n=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?n:i)(t)}},7035:function(t,e,i){},7037:function(t,e,i){function n(e){return"function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?(t.exports=n=function(t){return typeof t},t.exports["default"]=t.exports,t.exports.__esModule=!0):(t.exports=n=function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},t.exports["default"]=t.exports,t.exports.__esModule=!0),n(e)}i("a4d3"),i("e01a"),i("d3b7"),i("d28b"),i("3ca3"),i("e260"),i("ddb0"),t.exports=n,t.exports["default"]=t.exports,t.exports.__esModule=!0},7083:function(t,e){t.exports=!1},7156:function(t,e,i){var n=i("861d"),r=i("d2bb");t.exports=function(t,e,i){var o,s;return r&&"function"==typeof(o=e.constructor)&&o!==i&&n(s=o.prototype)&&s!==i.prototype&&r(t,s),t}},7418:function(t,e){e.f=Object.getOwnPropertySymbols},"746f":function(t,e,i){var n=i("428f"),r=i("5135"),o=i("e538"),s=i("9bf2").f;t.exports=function(t){var e=n.Symbol||(n.Symbol={});r(e,t)||s(e,t,{value:o.f(t)})}},"75c5":function(t,e,i){"use strict";var n=i("0312"),r=i("59d3"),o=i("2b9c"),s=i("3b51"),a="toString",A=RegExp.prototype,c=A[a],l=o((function(){return"/a/b"!=c.call({source:"a",flags:"b"})})),u=c.name!=a;(l||u)&&n(RegExp.prototype,a,(function(){var t=r(this),e=String(t.source),i=t.flags,n=String(void 0===i&&t instanceof RegExp&&!("flags"in A)?s.call(t):i);return"/"+e+"/"+n}),{unsafe:!0})},"77b9":function(t,e,i){var n=i("4601"),r=i("8814");t.exports=Object.keys||function(t){return n(t,r)}},7839:function(t,e){t.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},"7a94":function(t,e,i){(function(t){
/*! Fabric.js Copyright 2008-2015, Printio (Juriy Zaytsev, Maxim Chernyak) */
var n=n||{version:"4.4.0"};if(e.fabric=n,"undefined"!==typeof document&&"undefined"!==typeof window)document instanceof("undefined"!==typeof HTMLDocument?HTMLDocument:Document)?n.document=document:n.document=document.implementation.createHTMLDocument(""),n.window=window;else{var r=i(0),o=new r.JSDOM(decodeURIComponent("%3C!DOCTYPE%20html%3E%3Chtml%3E%3Chead%3E%3C%2Fhead%3E%3Cbody%3E%3C%2Fbody%3E%3C%2Fhtml%3E"),{features:{FetchExternalResources:["img"]},resources:"usable"}).window;n.document=o.document,n.jsdomImplForWrapper=i(1).implForWrapper,n.nodeCanvas=i(2).Canvas,n.window=o,DOMParser=n.window.DOMParser}function s(t){var e=t.targetCanvas,i=e.width,n=e.height,r=t.destinationWidth,o=t.destinationHeight;i===r&&n===o||(e.width=r,e.height=o)}function a(t,e){var i=t.canvas,n=e.targetCanvas,r=n.getContext("2d");r.translate(0,n.height),r.scale(1,-1);var o=i.height-n.height;r.drawImage(i,0,o,n.width,n.height,0,0,n.width,n.height)}function A(t,e){var i=e.targetCanvas,n=i.getContext("2d"),r=e.destinationWidth,o=e.destinationHeight,s=r*o*4,a=new Uint8Array(this.imageBuffer,0,s),A=new Uint8ClampedArray(this.imageBuffer,0,s);t.readPixels(0,0,r,o,t.RGBA,t.UNSIGNED_BYTE,a);var c=new ImageData(A,r,o);n.putImageData(c,0,0)}n.isTouchSupported="ontouchstart"in n.window||"ontouchstart"in n.document||n.window&&n.window.navigator&&n.window.navigator.maxTouchPoints>0,n.isLikelyNode="undefined"!==typeof t&&"undefined"===typeof window,n.SHARED_ATTRIBUTES=["display","transform","fill","fill-opacity","fill-rule","opacity","stroke","stroke-dasharray","stroke-linecap","stroke-dashoffset","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","id","paint-order","vector-effect","instantiated_by_use","clip-path"],n.DPI=96,n.reNum="(?:[-+]?(?:\\d+|\\d*\\.\\d+)(?:[eE][-+]?\\d+)?)",n.commaWsp="(?:\\s+,?\\s*|,\\s*)",n.rePathCommand=/([-+]?((\d+\.\d+)|((\d+)|(\.\d+)))(?:[eE][-+]?\d+)?)/gi,n.reNonWord=/[ \n\.,;!\?\-]/,n.fontPaths={},n.iMatrix=[1,0,0,1,0,0],n.svgNS="http://www.w3.org/2000/svg",n.perfLimitSizeTotal=2097152,n.maxCacheSideLimit=4096,n.minCacheSideLimit=256,n.charWidthsCache={},n.textureSize=2048,n.disableStyleCopyPaste=!1,n.enableGLFiltering=!0,n.devicePixelRatio=n.window.devicePixelRatio||n.window.webkitDevicePixelRatio||n.window.mozDevicePixelRatio||1,n.browserShadowBlurConstant=1,n.arcToSegmentsCache={},n.boundsOfCurveCache={},n.cachesBoundsOfCurve=!0,n.forceGLPutImageData=!1,n.initFilterBackend=function(){return n.enableGLFiltering&&n.isWebglSupported&&n.isWebglSupported(n.textureSize)?(console.log("max texture size: "+n.maxTextureSize),new n.WebglFilterBackend({tileSize:n.textureSize})):n.Canvas2dFilterBackend?new n.Canvas2dFilterBackend:void 0},"undefined"!==typeof document&&"undefined"!==typeof window&&(window.fabric=n),function(){function t(t,e){if(this.__eventListeners[t]){var i=this.__eventListeners[t];e?i[i.indexOf(e)]=!1:n.util.array.fill(i,!1)}}function e(t,e){if(this.__eventListeners||(this.__eventListeners={}),1===arguments.length)for(var i in t)this.on(i,t[i]);else this.__eventListeners[t]||(this.__eventListeners[t]=[]),this.__eventListeners[t].push(e);return this}function i(e,i){if(!this.__eventListeners)return this;if(0===arguments.length)for(e in this.__eventListeners)t.call(this,e);else if(1===arguments.length&&"object"===typeof arguments[0])for(var n in e)t.call(this,n,e[n]);else t.call(this,e,i);return this}function r(t,e){if(!this.__eventListeners)return this;var i=this.__eventListeners[t];if(!i)return this;for(var n=0,r=i.length;n<r;n++)i[n]&&i[n].call(this,e||{});return this.__eventListeners[t]=i.filter((function(t){return!1!==t})),this}n.Observable={fire:r,on:e,off:i}}(),n.Collection={_objects:[],add:function(){if(this._objects.push.apply(this._objects,arguments),this._onObjectAdded)for(var t=0,e=arguments.length;t<e;t++)this._onObjectAdded(arguments[t]);return this.renderOnAddRemove&&this.requestRenderAll(),this},insertAt:function(t,e,i){var n=this._objects;return i?n[e]=t:n.splice(e,0,t),this._onObjectAdded&&this._onObjectAdded(t),this.renderOnAddRemove&&this.requestRenderAll(),this},remove:function(){for(var t,e=this._objects,i=!1,n=0,r=arguments.length;n<r;n++)t=e.indexOf(arguments[n]),-1!==t&&(i=!0,e.splice(t,1),this._onObjectRemoved&&this._onObjectRemoved(arguments[n]));return this.renderOnAddRemove&&i&&this.requestRenderAll(),this},forEachObject:function(t,e){for(var i=this.getObjects(),n=0,r=i.length;n<r;n++)t.call(e,i[n],n,i);return this},getObjects:function(t){return"undefined"===typeof t?this._objects.concat():this._objects.filter((function(e){return e.type===t}))},item:function(t){return this._objects[t]},isEmpty:function(){return 0===this._objects.length},size:function(){return this._objects.length},contains:function(t){return this._objects.indexOf(t)>-1},complexity:function(){return this._objects.reduce((function(t,e){return t+=e.complexity?e.complexity():0,t}),0)}},n.CommonMethods={_setOptions:function(t){for(var e in t)this.set(e,t[e])},_initGradient:function(t,e){!t||!t.colorStops||t instanceof n.Gradient||this.set(e,new n.Gradient(t))},_initPattern:function(t,e,i){!t||!t.source||t instanceof n.Pattern?i&&i():this.set(e,new n.Pattern(t,i))},_setObject:function(t){for(var e in t)this._set(e,t[e])},set:function(t,e){return"object"===typeof t?this._setObject(t):this._set(t,e),this},_set:function(t,e){this[t]=e},toggle:function(t){var e=this.get(t);return"boolean"===typeof e&&this.set(t,!e),this},get:function(t){return this[t]}},function(t){var e=Math.sqrt,i=Math.atan2,r=Math.pow,o=Math.PI/180,s=Math.PI/2;n.util={cos:function(t){if(0===t)return 1;t<0&&(t=-t);var e=t/s;switch(e){case 1:case 3:return 0;case 2:return-1}return Math.cos(t)},sin:function(t){if(0===t)return 0;var e=t/s,i=1;switch(t<0&&(i=-1),e){case 1:return i;case 2:return 0;case 3:return-i}return Math.sin(t)},removeFromArray:function(t,e){var i=t.indexOf(e);return-1!==i&&t.splice(i,1),t},getRandomInt:function(t,e){return Math.floor(Math.random()*(e-t+1))+t},degreesToRadians:function(t){return t*o},radiansToDegrees:function(t){return t/o},rotatePoint:function(t,e,i){t.subtractEquals(e);var r=n.util.rotateVector(t,i);return new n.Point(r.x,r.y).addEquals(e)},rotateVector:function(t,e){var i=n.util.sin(e),r=n.util.cos(e),o=t.x*r-t.y*i,s=t.x*i+t.y*r;return{x:o,y:s}},transformPoint:function(t,e,i){return i?new n.Point(e[0]*t.x+e[2]*t.y,e[1]*t.x+e[3]*t.y):new n.Point(e[0]*t.x+e[2]*t.y+e[4],e[1]*t.x+e[3]*t.y+e[5])},makeBoundingBoxFromPoints:function(t,e){if(e)for(var i=0;i<t.length;i++)t[i]=n.util.transformPoint(t[i],e);var r=[t[0].x,t[1].x,t[2].x,t[3].x],o=n.util.array.min(r),s=n.util.array.max(r),a=s-o,A=[t[0].y,t[1].y,t[2].y,t[3].y],c=n.util.array.min(A),l=n.util.array.max(A),u=l-c;return{left:o,top:c,width:a,height:u}},invertTransform:function(t){var e=1/(t[0]*t[3]-t[1]*t[2]),i=[e*t[3],-e*t[1],-e*t[2],e*t[0]],r=n.util.transformPoint({x:t[4],y:t[5]},i,!0);return i[4]=-r.x,i[5]=-r.y,i},toFixed:function(t,e){return parseFloat(Number(t).toFixed(e))},parseUnit:function(t,e){var i=/\D{0,2}$/.exec(t),r=parseFloat(t);switch(e||(e=n.Text.DEFAULT_SVG_FONT_SIZE),i[0]){case"mm":return r*n.DPI/25.4;case"cm":return r*n.DPI/2.54;case"in":return r*n.DPI;case"pt":return r*n.DPI/72;case"pc":return r*n.DPI/72*12;case"em":return r*e;default:return r}},falseFunction:function(){return!1},getKlass:function(t,e){return t=n.util.string.camelize(t.charAt(0).toUpperCase()+t.slice(1)),n.util.resolveNamespace(e)[t]},getSvgAttributes:function(t){var e=["instantiated_by_use","style","id","class"];switch(t){case"linearGradient":e=e.concat(["x1","y1","x2","y2","gradientUnits","gradientTransform"]);break;case"radialGradient":e=e.concat(["gradientUnits","gradientTransform","cx","cy","r","fx","fy","fr"]);break;case"stop":e=e.concat(["offset","stop-color","stop-opacity"]);break}return e},resolveNamespace:function(e){if(!e)return n;var i,r=e.split("."),o=r.length,s=t||n.window;for(i=0;i<o;++i)s=s[r[i]];return s},loadImage:function(t,e,i,r){if(t){var o=n.util.createImage(),s=function(){e&&e.call(i,o,!1),o=o.onload=o.onerror=null};o.onload=s,o.onerror=function(){n.log("Error loading "+o.src),e&&e.call(i,null,!0),o=o.onload=o.onerror=null},0!==t.indexOf("data")&&void 0!==r&&null!==r&&(o.crossOrigin=r),"data:image/svg"===t.substring(0,14)&&(o.onload=null,n.util.loadImageInDom(o,s)),o.src=t}else e&&e.call(i,t)},loadImageInDom:function(t,e){var i=n.document.createElement("div");i.style.width=i.style.height="1px",i.style.left=i.style.top="-100%",i.style.position="absolute",i.appendChild(t),n.document.querySelector("body").appendChild(i),t.onload=function(){e(),i.parentNode.removeChild(i),i=null}},enlivenObjects:function(t,e,i,r){t=t||[];var o=[],s=0,a=t.length;function A(){++s===a&&e&&e(o.filter((function(t){return t})))}a?t.forEach((function(t,e){if(t&&t.type){var s=n.util.getKlass(t.type,i);s.fromObject(t,(function(i,n){n||(o[e]=i),r&&r(t,i,n),A()}))}else A()})):e&&e(o)},enlivenPatterns:function(t,e){function i(){++o===s&&e&&e(r)}t=t||[];var r=[],o=0,s=t.length;s?t.forEach((function(t,e){t&&t.source?new n.Pattern(t,(function(t){r[e]=t,i()})):(r[e]=t,i())})):e&&e(r)},groupSVGElements:function(t,e,i){var r;return t&&1===t.length?t[0]:(e&&(e.width&&e.height?e.centerPoint={x:e.width/2,y:e.height/2}:(delete e.width,delete e.height)),r=new n.Group(t,e),"undefined"!==typeof i&&(r.sourcePath=i),r)},populateWithProperties:function(t,e,i){if(i&&"[object Array]"===Object.prototype.toString.call(i))for(var n=0,r=i.length;n<r;n++)i[n]in t&&(e[i[n]]=t[i[n]])},drawDashedLine:function(t,n,r,o,s,a){var A=o-n,c=s-r,l=e(A*A+c*c),u=i(c,A),h=a.length,f=0,d=!0;t.save(),t.translate(n,r),t.moveTo(0,0),t.rotate(u),n=0;while(l>n)n+=a[f++%h],n>l&&(n=l),t[d?"lineTo":"moveTo"](n,0),d=!d;t.restore()},createCanvasElement:function(){return n.document.createElement("canvas")},copyCanvasElement:function(t){var e=n.util.createCanvasElement();return e.width=t.width,e.height=t.height,e.getContext("2d").drawImage(t,0,0),e},toDataURL:function(t,e,i){return t.toDataURL("image/"+e,i)},createImage:function(){return n.document.createElement("img")},multiplyTransformMatrices:function(t,e,i){return[t[0]*e[0]+t[2]*e[1],t[1]*e[0]+t[3]*e[1],t[0]*e[2]+t[2]*e[3],t[1]*e[2]+t[3]*e[3],i?0:t[0]*e[4]+t[2]*e[5]+t[4],i?0:t[1]*e[4]+t[3]*e[5]+t[5]]},qrDecompose:function(t){var n=i(t[1],t[0]),s=r(t[0],2)+r(t[1],2),a=e(s),A=(t[0]*t[3]-t[2]*t[1])/a,c=i(t[0]*t[2]+t[1]*t[3],s);return{angle:n/o,scaleX:a,scaleY:A,skewX:c/o,skewY:0,translateX:t[4],translateY:t[5]}},calcRotateMatrix:function(t){if(!t.angle)return n.iMatrix.concat();var e=n.util.degreesToRadians(t.angle),i=n.util.cos(e),r=n.util.sin(e);return[i,r,-r,i,0,0]},calcDimensionsMatrix:function(t){var e="undefined"===typeof t.scaleX?1:t.scaleX,i="undefined"===typeof t.scaleY?1:t.scaleY,r=[t.flipX?-e:e,0,0,t.flipY?-i:i,0,0],o=n.util.multiplyTransformMatrices,s=n.util.degreesToRadians;return t.skewX&&(r=o(r,[1,0,Math.tan(s(t.skewX)),1],!0)),t.skewY&&(r=o(r,[1,Math.tan(s(t.skewY)),0,1],!0)),r},composeMatrix:function(t){var e=[1,0,0,1,t.translateX||0,t.translateY||0],i=n.util.multiplyTransformMatrices;return t.angle&&(e=i(e,n.util.calcRotateMatrix(t))),(1!==t.scaleX||1!==t.scaleY||t.skewX||t.skewY||t.flipX||t.flipY)&&(e=i(e,n.util.calcDimensionsMatrix(t))),e},resetObjectTransform:function(t){t.scaleX=1,t.scaleY=1,t.skewX=0,t.skewY=0,t.flipX=!1,t.flipY=!1,t.rotate(0)},saveObjectTransform:function(t){return{scaleX:t.scaleX,scaleY:t.scaleY,skewX:t.skewX,skewY:t.skewY,angle:t.angle,left:t.left,flipX:t.flipX,flipY:t.flipY,top:t.top}},isTransparent:function(t,e,i,n){n>0&&(e>n?e-=n:e=0,i>n?i-=n:i=0);var r,o,s=!0,a=t.getImageData(e,i,2*n||1,2*n||1),A=a.data.length;for(r=3;r<A;r+=4)if(o=a.data[r],s=o<=0,!1===s)break;return a=null,s},parsePreserveAspectRatioAttribute:function(t){var e,i="meet",n="Mid",r="Mid",o=t.split(" ");return o&&o.length&&(i=o.pop(),"meet"!==i&&"slice"!==i?(e=i,i="meet"):o.length&&(e=o.pop())),n="none"!==e?e.slice(1,4):"none",r="none"!==e?e.slice(5,8):"none",{meetOrSlice:i,alignX:n,alignY:r}},clearFabricFontCache:function(t){t=(t||"").toLowerCase(),t?n.charWidthsCache[t]&&delete n.charWidthsCache[t]:n.charWidthsCache={}},limitDimsByArea:function(t,e){var i=Math.sqrt(e*t),n=Math.floor(e/i);return{x:Math.floor(i),y:n}},capValue:function(t,e,i){return Math.max(t,Math.min(e,i))},findScaleToFit:function(t,e){return Math.min(e.width/t.width,e.height/t.height)},findScaleToCover:function(t,e){return Math.max(e.width/t.width,e.height/t.height)},matrixToSVG:function(t){return"matrix("+t.map((function(t){return n.util.toFixed(t,n.Object.NUM_FRACTION_DIGITS)})).join(" ")+")"},removeTransformFromObject:function(t,e){var i=n.util.invertTransform(e),r=n.util.multiplyTransformMatrices(i,t.calcOwnMatrix());n.util.applyTransformToObject(t,r)},addTransformToObject:function(t,e){n.util.applyTransformToObject(t,n.util.multiplyTransformMatrices(e,t.calcOwnMatrix()))},applyTransformToObject:function(t,e){var i=n.util.qrDecompose(e),r=new n.Point(i.translateX,i.translateY);t.flipX=!1,t.flipY=!1,t.set("scaleX",i.scaleX),t.set("scaleY",i.scaleY),t.skewX=i.skewX,t.skewY=i.skewY,t.angle=i.angle,t.setPositionByOrigin(r,"center","center")},sizeAfterTransform:function(t,e,i){var r=t/2,o=e/2,s=[{x:-r,y:-o},{x:r,y:-o},{x:-r,y:o},{x:r,y:o}],a=n.util.calcDimensionsMatrix(i),A=n.util.makeBoundingBoxFromPoints(s,a);return{x:A.width,y:A.height}}}}(e),function(){var t=Array.prototype.join,e={m:2,l:2,h:1,v:1,c:6,s:4,q:4,t:2,a:7},i={m:"l",M:"L"};function r(t,e,i,r,o,s,a,A,c,l,u){var h=n.util.cos(t),f=n.util.sin(t),d=n.util.cos(e),p=n.util.sin(e),g=i*o*d-r*s*p+a,v=r*o*d+i*s*p+A,m=l+c*(-i*o*f-r*s*h),w=u+c*(-r*o*f+i*s*h),y=g+c*(i*o*p+r*s*d),b=v+c*(r*o*p-i*s*d);return["C",m,w,y,b,g,v]}function o(t,e,i,o,a,A,c){var l=Math.PI,u=c*l/180,h=n.util.sin(u),f=n.util.cos(u),d=0,p=0;i=Math.abs(i),o=Math.abs(o);var g=-f*t*.5-h*e*.5,v=-f*e*.5+h*t*.5,m=i*i,w=o*o,y=v*v,b=g*g,B=m*w-m*y-w*b,C=0;if(B<0){var E=Math.sqrt(1-B/(m*w));i*=E,o*=E}else C=(a===A?-1:1)*Math.sqrt(B/(m*y+w*b));var x=C*i*v/o,_=-C*o*g/i,S=f*x-h*_+.5*t,T=h*x+f*_+.5*e,F=s(1,0,(g-x)/i,(v-_)/o),Q=s((g-x)/i,(v-_)/o,(-g-x)/i,(-v-_)/o);0===A&&Q>0?Q-=2*l:1===A&&Q<0&&(Q+=2*l);for(var U=Math.ceil(Math.abs(Q/l*2)),O=[],H=Q/U,D=8/3*Math.sin(H/4)*Math.sin(H/4)/Math.sin(H/2),I=F+H,k=0;k<U;k++)O[k]=r(F,I,f,h,i,o,S,T,D,d,p),d=O[k][5],p=O[k][6],F=I,I+=H;return O}function s(t,e,i,n){var r=Math.atan2(e,t),o=Math.atan2(n,i);return o>=r?o-r:2*Math.PI-(r-o)}function a(e,i,r,o,s,a,A,c){var l;if(n.cachesBoundsOfCurve&&(l=t.call(arguments),n.boundsOfCurveCache[l]))return n.boundsOfCurveCache[l];var u,h,f,d,p,g,v,m,w=Math.sqrt,y=Math.min,b=Math.max,B=Math.abs,C=[],E=[[],[]];h=6*e-12*r+6*s,u=-3*e+9*r-9*s+3*A,f=3*r-3*e;for(var x=0;x<2;++x)if(x>0&&(h=6*i-12*o+6*a,u=-3*i+9*o-9*a+3*c,f=3*o-3*i),B(u)<1e-12){if(B(h)<1e-12)continue;d=-f/h,0<d&&d<1&&C.push(d)}else v=h*h-4*f*u,v<0||(m=w(v),p=(-h+m)/(2*u),0<p&&p<1&&C.push(p),g=(-h-m)/(2*u),0<g&&g<1&&C.push(g));var _,S,T,F=C.length,Q=F;while(F--)d=C[F],T=1-d,_=T*T*T*e+3*T*T*d*r+3*T*d*d*s+d*d*d*A,E[0][F]=_,S=T*T*T*i+3*T*T*d*o+3*T*d*d*a+d*d*d*c,E[1][F]=S;E[0][Q]=e,E[1][Q]=i,E[0][Q+1]=A,E[1][Q+1]=c;var U=[{x:y.apply(null,E[0]),y:y.apply(null,E[1])},{x:b.apply(null,E[0]),y:b.apply(null,E[1])}];return n.cachesBoundsOfCurve&&(n.boundsOfCurveCache[l]=U),U}function A(t,e,i){for(var n=i[1],r=i[2],s=i[3],a=i[4],A=i[5],c=i[6],l=i[7],u=o(c-t,l-e,n,r,a,A,s),h=0,f=u.length;h<f;h++)u[h][1]+=t,u[h][2]+=e,u[h][3]+=t,u[h][4]+=e,u[h][5]+=t,u[h][6]+=e;return u}function c(t){var e,i,n,r,o,s,a=0,c=0,l=t.length,u=0,h=0,f=[];for(i=0;i<l;++i){switch(n=!1,e=t[i].slice(0),e[0]){case"l":e[0]="L",e[1]+=a,e[2]+=c;case"L":a=e[1],c=e[2];break;case"h":e[1]+=a;case"H":e[0]="L",e[2]=c,a=e[1];break;case"v":e[1]+=c;case"V":e[0]="L",c=e[1],e[1]=a,e[2]=c;break;case"m":e[0]="M",e[1]+=a,e[2]+=c;case"M":a=e[1],c=e[2],u=e[1],h=e[2];break;case"c":e[0]="C",e[1]+=a,e[2]+=c,e[3]+=a,e[4]+=c,e[5]+=a,e[6]+=c;case"C":o=e[3],s=e[4],a=e[5],c=e[6];break;case"s":e[0]="S",e[1]+=a,e[2]+=c,e[3]+=a,e[4]+=c;case"S":"C"===r?(o=2*a-o,s=2*c-s):(o=a,s=c),a=e[3],c=e[4],e[0]="C",e[5]=e[3],e[6]=e[4],e[3]=e[1],e[4]=e[2],e[1]=o,e[2]=s,o=e[3],s=e[4];break;case"q":e[0]="Q",e[1]+=a,e[2]+=c,e[3]+=a,e[4]+=c;case"Q":o=e[1],s=e[2],a=e[3],c=e[4];break;case"t":e[0]="T",e[1]+=a,e[2]+=c;case"T":"Q"===r?(o=2*a-o,s=2*c-s):(o=a,s=c),e[0]="Q",a=e[1],c=e[2],e[1]=o,e[2]=s,e[3]=a,e[4]=c;break;case"a":e[0]="A",e[6]+=a,e[7]+=c;case"A":n=!0,f=f.concat(A(a,c,e)),a=e[6],c=e[7];break;case"z":case"Z":a=u,c=h;break;default:}n||f.push(e),r=e[0]}return f}function l(t,e,i,n){return Math.sqrt((i-t)*(i-t)+(n-e)*(n-e))}function u(t){return t*t*t}function h(t){return 3*t*t*(1-t)}function f(t){return 3*t*(1-t)*(1-t)}function d(t){return(1-t)*(1-t)*(1-t)}function p(t,e,i,n,r,o,s,a){return function(A){var c=u(A),l=h(A),p=f(A),g=d(A);return{x:s*c+r*l+i*p+t*g,y:a*c+o*l+n*p+e*g}}}function g(t,e,i,n,r,o,s,a){return function(A){var c=1-A,l=3*c*c*(i-t)+6*c*A*(r-i)+3*A*A*(s-r),u=3*c*c*(n-e)+6*c*A*(o-n)+3*A*A*(a-o);return Math.atan2(u,l)}}function v(t){return t*t}function m(t){return 2*t*(1-t)}function w(t){return(1-t)*(1-t)}function y(t,e,i,n,r,o){return function(s){var a=v(s),A=m(s),c=w(s);return{x:r*a+i*A+t*c,y:o*a+n*A+e*c}}}function b(t,e,i,n,r,o){return function(s){var a=1-s,A=2*a*(i-t)+2*s*(r-i),c=2*a*(n-e)+2*s*(o-n);return Math.atan2(c,A)}}function B(t,e,i){var n,r,o={x:e,y:i},s=0;for(r=.01;r<=1;r+=.01)n=t(r),s+=l(o.x,o.y,n.x,n.y),o=n;return s}function C(t,e){var i,n,r,o=0,s=0,a=t.iterator,A={x:t.x,y:t.y},c=.01,u=t.angleFinder;while(s<e&&o<=1&&c>1e-4)i=a(o),r=o,n=l(A.x,A.y,i.x,i.y),n+s>e?(c/=2,o-=c):(A=i,o+=c,s+=n);return i.angle=u(r),i}function E(t){for(var e,i,n,r,o=0,s=t.length,a=0,A=0,c=0,u=0,h=[],f=0;f<s;f++){switch(e=t[f],n={x:a,y:A,command:e[0]},e[0]){case"M":n.length=0,c=a=e[1],u=A=e[2];break;case"L":n.length=l(a,A,e[1],e[2]),a=e[1],A=e[2];break;case"C":i=p(a,A,e[1],e[2],e[3],e[4],e[5],e[6]),r=g(a,A,e[1],e[2],e[3],e[4],e[5],e[6]),n.iterator=i,n.angleFinder=r,n.length=B(i,a,A),a=e[5],A=e[6];break;case"Q":i=y(a,A,e[1],e[2],e[3],e[4]),r=b(a,A,e[1],e[2],e[3],e[4]),n.iterator=i,n.angleFinder=r,n.length=B(i,a,A),a=e[3],A=e[4];break;case"Z":case"z":n.destX=c,n.destY=u,n.length=l(a,A,c,u),a=c,A=u;break}o+=n.length,h.push(n)}return h.push({length:o,x:a,y:A}),h}function x(t,e,i){i||(i=E(t));var r=0;while(e-i[r].length>0&&r<i.length-2)e-=i[r].length,r++;var o,s=i[r],a=e/s.length,A=s.command,c=t[r];switch(A){case"M":return{x:s.x,y:s.y,angle:0};case"Z":case"z":return o=new n.Point(s.x,s.y).lerp(new n.Point(s.destX,s.destY),a),o.angle=Math.atan2(s.destY-s.y,s.destX-s.x),o;case"L":return o=new n.Point(s.x,s.y).lerp(new n.Point(c[1],c[2]),a),o.angle=Math.atan2(c[2]-s.y,c[1]-s.x),o;case"C":return C(s,e);case"Q":return C(s,e)}}function _(t){var r,o,s,a,A,c=[],l=[],u=n.rePathCommand,h="[-+]?(?:\\d*\\.\\d+|\\d+\\.?)(?:[eE][-+]?\\d+)?\\s*",f="("+h+")"+n.commaWsp,d="([01])"+n.commaWsp+"?",p=f+"?"+f+"?"+f+d+d+f+"?("+h+")",g=new RegExp(p,"g");if(!t||!t.match)return c;A=t.match(/[mzlhvcsqta][^mzlhvcsqta]*/gi);for(var v,m=0,w=A.length;m<w;m++){r=A[m],a=r.slice(1).trim(),l.length=0;var y=r.charAt(0);if(v=[y],"a"===y.toLowerCase())for(var b;b=g.exec(a);)for(var B=1;B<b.length;B++)l.push(b[B]);else while(s=u.exec(a))l.push(s[0]);B=0;for(var C=l.length;B<C;B++)o=parseFloat(l[B]),isNaN(o)||v.push(o);var E=e[y.toLowerCase()],x=i[y]||y;if(v.length-1>E)for(var _=1,S=v.length;_<S;_+=E)c.push([y].concat(v.slice(_,_+E))),y=x;else c.push(v)}return c}function S(t,e,i,n,r,s,A,c,l){for(var u,h=0,f=0,d=[],p=o(c-t,l-e,i,n,s,A,r),g=0,v=p.length;g<v;g++)u=a(h,f,p[g][1],p[g][2],p[g][3],p[g][4],p[g][5],p[g][6]),d.push({x:u[0].x+t,y:u[0].y+e}),d.push({x:u[1].x+t,y:u[1].y+e}),h=p[g][5],f=p[g][6];return d}function T(t,e,i,n){n=n.slice(0).unshift("X");var r=A(e,i,n);r.forEach((function(e){t.bezierCurveTo.apply(t,e.slice(1))}))}n.util.parsePath=_,n.util.makePathSimpler=c,n.util.getPathSegmentsInfo=E,n.util.fromArcToBeziers=A,n.util.fromArcToBeizers=A,n.util.getBoundsOfCurve=a,n.util.getPointOnPath=x,n.util.getBoundsOfArc=S,n.util.drawArc=T}(),function(){var t=Array.prototype.slice;function e(e,i){for(var n=t.call(arguments,2),r=[],o=0,s=e.length;o<s;o++)r[o]=n.length?e[o][i].apply(e[o],n):e[o][i].call(e[o]);return r}function i(t,e){return s(t,e,(function(t,e){return t>=e}))}function r(t,e){return s(t,e,(function(t,e){return t<e}))}function o(t,e){var i=t.length;while(i--)t[i]=e;return t}function s(t,e,i){if(t&&0!==t.length){var n=t.length-1,r=e?t[n][e]:t[n];if(e)while(n--)i(t[n][e],r)&&(r=t[n][e]);else while(n--)i(t[n],r)&&(r=t[n]);return r}}n.util.array={fill:o,invoke:e,min:r,max:i}}(),function(){function t(e,i,r){if(r)if(!n.isLikelyNode&&i instanceof Element)e=i;else if(i instanceof Array){e=[];for(var o=0,s=i.length;o<s;o++)e[o]=t({},i[o],r)}else if(i&&"object"===typeof i)for(var a in i)"canvas"===a||"group"===a?e[a]=null:i.hasOwnProperty(a)&&(e[a]=t({},i[a],r));else e=i;else for(var a in i)e[a]=i[a];return e}function e(e,i){return t({},e,i)}n.util.object={extend:t,clone:e},n.util.object.extend(n.util,n.Observable)}(),function(){function t(t){return t.replace(/-+(.)?/g,(function(t,e){return e?e.toUpperCase():""}))}function e(t,e){return t.charAt(0).toUpperCase()+(e?t.slice(1):t.slice(1).toLowerCase())}function i(t){return t.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&apos;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function r(t){var e,i=0,n=[];for(i=0,e;i<t.length;i++)!1!==(e=o(t,i))&&n.push(e);return n}function o(t,e){var i=t.charCodeAt(e);if(isNaN(i))return"";if(i<55296||i>57343)return t.charAt(e);if(55296<=i&&i<=56319){if(t.length<=e+1)throw"High surrogate without following low surrogate";var n=t.charCodeAt(e+1);if(56320>n||n>57343)throw"High surrogate without following low surrogate";return t.charAt(e)+t.charAt(e+1)}if(0===e)throw"Low surrogate without preceding high surrogate";var r=t.charCodeAt(e-1);if(55296>r||r>56319)throw"Low surrogate without preceding high surrogate";return!1}n.util.string={camelize:t,capitalize:e,escapeXml:i,graphemeSplit:r}}(),function(){var t=Array.prototype.slice,e=function(){},i=function(){for(var t in{toString:1})if("toString"===t)return!1;return!0}(),r=function(t,e,n){for(var r in e)r in t.prototype&&"function"===typeof t.prototype[r]&&(e[r]+"").indexOf("callSuper")>-1?t.prototype[r]=function(t){return function(){var i=this.constructor.superclass;this.constructor.superclass=n;var r=e[t].apply(this,arguments);if(this.constructor.superclass=i,"initialize"!==t)return r}}(r):t.prototype[r]=e[r],i&&(e.toString!==Object.prototype.toString&&(t.prototype.toString=e.toString),e.valueOf!==Object.prototype.valueOf&&(t.prototype.valueOf=e.valueOf))};function o(){}function s(e){var i=null,n=this;while(n.constructor.superclass){var r=n.constructor.superclass.prototype[e];if(n[e]!==r){i=r;break}n=n.constructor.superclass.prototype}return i?arguments.length>1?i.apply(this,t.call(arguments,1)):i.call(this):console.log("tried to callSuper "+e+", method not found in prototype chain",this)}function a(){var i=null,n=t.call(arguments,0);function a(){this.initialize.apply(this,arguments)}"function"===typeof n[0]&&(i=n.shift()),a.superclass=i,a.subclasses=[],i&&(o.prototype=i.prototype,a.prototype=new o,i.subclasses.push(a));for(var A=0,c=n.length;A<c;A++)r(a,n[A],i);return a.prototype.initialize||(a.prototype.initialize=e),a.prototype.constructor=a,a.prototype.callSuper=s,a}n.util.createClass=a}(),function(){var t=!!n.document.createElement("div").attachEvent,e=["touchstart","touchmove","touchend"];function i(t){var e=t.changedTouches;return e&&e[0]?e[0]:t}n.util.addListener=function(e,i,n,r){e&&e.addEventListener(i,n,!t&&r)},n.util.removeListener=function(e,i,n,r){e&&e.removeEventListener(i,n,!t&&r)},n.util.getPointer=function(t){var e=t.target,r=n.util.getScrollLeftTop(e),o=i(t);return{x:o.clientX+r.left,y:o.clientY+r.top}},n.util.isTouchEvent=function(t){return e.indexOf(t.type)>-1||"touch"===t.pointerType}}(),function(){function t(t,e){var i=t.style;if(!i)return t;if("string"===typeof e)return t.style.cssText+=";"+e,e.indexOf("opacity")>-1?s(t,e.match(/opacity:\s*(\d?\.?\d*)/)[1]):t;for(var n in e)if("opacity"===n)s(t,e[n]);else{var r="float"===n||"cssFloat"===n?"undefined"===typeof i.styleFloat?"cssFloat":"styleFloat":n;i[r]=e[n]}return t}var e=n.document.createElement("div"),i="string"===typeof e.style.opacity,r="string"===typeof e.style.filter,o=/alpha\s*\(\s*opacity\s*=\s*([^\)]+)\)/,s=function(t){return t};i?s=function(t,e){return t.style.opacity=e,t}:r&&(s=function(t,e){var i=t.style;return t.currentStyle&&!t.currentStyle.hasLayout&&(i.zoom=1),o.test(i.filter)?(e=e>=.9999?"":"alpha(opacity="+100*e+")",i.filter=i.filter.replace(o,e)):i.filter+=" alpha(opacity="+100*e+")",t}),n.util.setStyle=t}(),function(){var t=Array.prototype.slice;function e(t){return"string"===typeof t?n.document.getElementById(t):t}var i,r,o=function(e){return t.call(e,0)};try{i=o(n.document.childNodes)instanceof Array}catch(d){}function s(t,e){var i=n.document.createElement(t);for(var r in e)"class"===r?i.className=e[r]:"for"===r?i.htmlFor=e[r]:i.setAttribute(r,e[r]);return i}function a(t,e){t&&-1===(" "+t.className+" ").indexOf(" "+e+" ")&&(t.className+=(t.className?" ":"")+e)}function A(t,e,i){return"string"===typeof e&&(e=s(e,i)),t.parentNode&&t.parentNode.replaceChild(e,t),e.appendChild(t),e}function c(t){var e=0,i=0,r=n.document.documentElement,o=n.document.body||{scrollLeft:0,scrollTop:0};while(t&&(t.parentNode||t.host))if(t=t.parentNode||t.host,t===n.document?(e=o.scrollLeft||r.scrollLeft||0,i=o.scrollTop||r.scrollTop||0):(e+=t.scrollLeft||0,i+=t.scrollTop||0),1===t.nodeType&&"fixed"===t.style.position)break;return{left:e,top:i}}function l(t){var e,i,n=t&&t.ownerDocument,o={left:0,top:0},s={left:0,top:0},a={borderLeftWidth:"left",borderTopWidth:"top",paddingLeft:"left",paddingTop:"top"};if(!n)return s;for(var A in a)s[a[A]]+=parseInt(r(t,A),10)||0;return e=n.documentElement,"undefined"!==typeof t.getBoundingClientRect&&(o=t.getBoundingClientRect()),i=c(t),{left:o.left+i.left-(e.clientLeft||0)+s.left,top:o.top+i.top-(e.clientTop||0)+s.top}}function u(t){var e=n.jsdomImplForWrapper(t);return e._canvas||e._image}function h(t){if(n.isLikelyNode){var e=n.jsdomImplForWrapper(t);e&&(e._image=null,e._canvas=null,e._currentSrc=null,e._attributes=null,e._classList=null)}}function f(t,e){t.imageSmoothingEnabled=t.imageSmoothingEnabled||t.webkitImageSmoothingEnabled||t.mozImageSmoothingEnabled||t.msImageSmoothingEnabled||t.oImageSmoothingEnabled,t.imageSmoothingEnabled=e}i||(o=function(t){var e=new Array(t.length),i=t.length;while(i--)e[i]=t[i];return e}),r=n.document.defaultView&&n.document.defaultView.getComputedStyle?function(t,e){var i=n.document.defaultView.getComputedStyle(t,null);return i?i[e]:void 0}:function(t,e){var i=t.style[e];return!i&&t.currentStyle&&(i=t.currentStyle[e]),i},function(){var t=n.document.documentElement.style,e="userSelect"in t?"userSelect":"MozUserSelect"in t?"MozUserSelect":"WebkitUserSelect"in t?"WebkitUserSelect":"KhtmlUserSelect"in t?"KhtmlUserSelect":"";function i(t){return"undefined"!==typeof t.onselectstart&&(t.onselectstart=n.util.falseFunction),e?t.style[e]="none":"string"===typeof t.unselectable&&(t.unselectable="on"),t}function r(t){return"undefined"!==typeof t.onselectstart&&(t.onselectstart=null),e?t.style[e]="":"string"===typeof t.unselectable&&(t.unselectable=""),t}n.util.makeElementUnselectable=i,n.util.makeElementSelectable=r}(),n.util.setImageSmoothing=f,n.util.getById=e,n.util.toArray=o,n.util.addClass=a,n.util.makeElement=s,n.util.wrapElement=A,n.util.getScrollLeftTop=c,n.util.getElementOffset=l,n.util.getNodeCanvas=u,n.util.cleanUpJsdomNode=h}(),function(){function t(t,e){return t+(/\?/.test(t)?"&":"?")+e}function e(){}function i(i,r){r||(r={});var o=r.method?r.method.toUpperCase():"GET",s=r.onComplete||function(){},a=new n.window.XMLHttpRequest,A=r.body||r.parameters;return a.onreadystatechange=function(){4===a.readyState&&(s(a),a.onreadystatechange=e)},"GET"===o&&(A=null,"string"===typeof r.parameters&&(i=t(i,r.parameters))),a.open(o,i,!0),"POST"!==o&&"PUT"!==o||a.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),a.send(A),a}n.util.request=i}(),n.log=console.log,n.warn=console.warn,function(){function t(){return!1}function e(t,e,i,n){return-i*Math.cos(t/n*(Math.PI/2))+i+e}function i(i){s((function(n){i||(i={});var r,o=n||+new Date,a=i.duration||500,A=o+a,c=i.onChange||t,l=i.abort||t,u=i.onComplete||t,h=i.easing||e,f="startValue"in i?i.startValue:0,d="endValue"in i?i.endValue:100,p=i.byValue||d-f;i.onStart&&i.onStart(),function t(e){r=e||+new Date;var i=r>A?a:r-o,n=i/a,g=h(i,f,p,a),v=Math.abs((g-f)/p);if(!l())return r>A?(c(d,1,1),void u(d,1,1)):(c(g,v,n),void s(t));u(d,1,1)}(o)}))}var r=n.window.requestAnimationFrame||n.window.webkitRequestAnimationFrame||n.window.mozRequestAnimationFrame||n.window.oRequestAnimationFrame||n.window.msRequestAnimationFrame||function(t){return n.window.setTimeout(t,1e3/60)},o=n.window.cancelAnimationFrame||n.window.clearTimeout;function s(){return r.apply(n.window,arguments)}function a(){return o.apply(n.window,arguments)}n.util.animate=i,n.util.requestAnimFrame=s,n.util.cancelAnimFrame=a}(),function(){function t(t,e,i){var n="rgba("+parseInt(t[0]+i*(e[0]-t[0]),10)+","+parseInt(t[1]+i*(e[1]-t[1]),10)+","+parseInt(t[2]+i*(e[2]-t[2]),10);return n+=","+(t&&e?parseFloat(t[3]+i*(e[3]-t[3])):1),n+=")",n}function e(e,i,r,o){var s=new n.Color(e).getSource(),a=new n.Color(i).getSource(),A=o.onComplete,c=o.onChange;o=o||{},n.util.animate(n.util.object.extend(o,{duration:r||500,startValue:s,endValue:a,byValue:a,easing:function(e,i,n,r){var s=o.colorEasing?o.colorEasing(e,r):1-Math.cos(e/r*(Math.PI/2));return t(i,n,s)},onComplete:function(e,i,n){if(A)return A(t(a,a,0),i,n)},onChange:function(e,i,n){if(c){if(Array.isArray(e))return c(t(e,e,0),i,n);c(e,i,n)}}}))}n.util.animateColor=e}(),function(){function t(t,e,i,n){return t<Math.abs(e)?(t=e,n=i/4):n=0===e&&0===t?i/(2*Math.PI)*Math.asin(1):i/(2*Math.PI)*Math.asin(e/t),{a:t,c:e,p:i,s:n}}function e(t,e,i){return t.a*Math.pow(2,10*(e-=1))*Math.sin((e*i-t.s)*(2*Math.PI)/t.p)}function i(t,e,i,n){return i*((t=t/n-1)*t*t+1)+e}function r(t,e,i,n){return t/=n/2,t<1?i/2*t*t*t+e:i/2*((t-=2)*t*t+2)+e}function o(t,e,i,n){return i*(t/=n)*t*t*t+e}function s(t,e,i,n){return-i*((t=t/n-1)*t*t*t-1)+e}function a(t,e,i,n){return t/=n/2,t<1?i/2*t*t*t*t+e:-i/2*((t-=2)*t*t*t-2)+e}function A(t,e,i,n){return i*(t/=n)*t*t*t*t+e}function c(t,e,i,n){return i*((t=t/n-1)*t*t*t*t+1)+e}function l(t,e,i,n){return t/=n/2,t<1?i/2*t*t*t*t*t+e:i/2*((t-=2)*t*t*t*t+2)+e}function u(t,e,i,n){return-i*Math.cos(t/n*(Math.PI/2))+i+e}function h(t,e,i,n){return i*Math.sin(t/n*(Math.PI/2))+e}function f(t,e,i,n){return-i/2*(Math.cos(Math.PI*t/n)-1)+e}function d(t,e,i,n){return 0===t?e:i*Math.pow(2,10*(t/n-1))+e}function p(t,e,i,n){return t===n?e+i:i*(1-Math.pow(2,-10*t/n))+e}function g(t,e,i,n){return 0===t?e:t===n?e+i:(t/=n/2,t<1?i/2*Math.pow(2,10*(t-1))+e:i/2*(2-Math.pow(2,-10*--t))+e)}function v(t,e,i,n){return-i*(Math.sqrt(1-(t/=n)*t)-1)+e}function m(t,e,i,n){return i*Math.sqrt(1-(t=t/n-1)*t)+e}function w(t,e,i,n){return t/=n/2,t<1?-i/2*(Math.sqrt(1-t*t)-1)+e:i/2*(Math.sqrt(1-(t-=2)*t)+1)+e}function y(i,n,r,o){var s=1.70158,a=0,A=r;if(0===i)return n;if(i/=o,1===i)return n+r;a||(a=.3*o);var c=t(A,r,a,s);return-e(c,i,o)+n}function b(e,i,n,r){var o=1.70158,s=0,a=n;if(0===e)return i;if(e/=r,1===e)return i+n;s||(s=.3*r);var A=t(a,n,s,o);return A.a*Math.pow(2,-10*e)*Math.sin((e*r-A.s)*(2*Math.PI)/A.p)+A.c+i}function B(i,n,r,o){var s=1.70158,a=0,A=r;if(0===i)return n;if(i/=o/2,2===i)return n+r;a||(a=o*(.3*1.5));var c=t(A,r,a,s);return i<1?-.5*e(c,i,o)+n:c.a*Math.pow(2,-10*(i-=1))*Math.sin((i*o-c.s)*(2*Math.PI)/c.p)*.5+c.c+n}function C(t,e,i,n,r){return void 0===r&&(r=1.70158),i*(t/=n)*t*((r+1)*t-r)+e}function E(t,e,i,n,r){return void 0===r&&(r=1.70158),i*((t=t/n-1)*t*((r+1)*t+r)+1)+e}function x(t,e,i,n,r){return void 0===r&&(r=1.70158),t/=n/2,t<1?i/2*(t*t*((1+(r*=1.525))*t-r))+e:i/2*((t-=2)*t*((1+(r*=1.525))*t+r)+2)+e}function _(t,e,i,n){return i-S(n-t,0,i,n)+e}function S(t,e,i,n){return(t/=n)<1/2.75?i*(7.5625*t*t)+e:t<2/2.75?i*(7.5625*(t-=1.5/2.75)*t+.75)+e:t<2.5/2.75?i*(7.5625*(t-=2.25/2.75)*t+.9375)+e:i*(7.5625*(t-=2.625/2.75)*t+.984375)+e}function T(t,e,i,n){return t<n/2?.5*_(2*t,0,i,n)+e:.5*S(2*t-n,0,i,n)+.5*i+e}n.util.ease={easeInQuad:function(t,e,i,n){return i*(t/=n)*t+e},easeOutQuad:function(t,e,i,n){return-i*(t/=n)*(t-2)+e},easeInOutQuad:function(t,e,i,n){return t/=n/2,t<1?i/2*t*t+e:-i/2*(--t*(t-2)-1)+e},easeInCubic:function(t,e,i,n){return i*(t/=n)*t*t+e},easeOutCubic:i,easeInOutCubic:r,easeInQuart:o,easeOutQuart:s,easeInOutQuart:a,easeInQuint:A,easeOutQuint:c,easeInOutQuint:l,easeInSine:u,easeOutSine:h,easeInOutSine:f,easeInExpo:d,easeOutExpo:p,easeInOutExpo:g,easeInCirc:v,easeOutCirc:m,easeInOutCirc:w,easeInElastic:y,easeOutElastic:b,easeInOutElastic:B,easeInBack:C,easeOutBack:E,easeInOutBack:x,easeInBounce:_,easeOutBounce:S,easeInOutBounce:T}}(),function(t){"use strict";var e=t.fabric||(t.fabric={}),i=e.util.object.extend,n=e.util.object.clone,r=e.util.toFixed,o=e.util.parseUnit,s=e.util.multiplyTransformMatrices,a=["path","circle","polygon","polyline","ellipse","rect","line","image","text"],A=["symbol","image","marker","pattern","view","svg"],c=["pattern","defs","symbol","metadata","clipPath","mask","desc"],l=["symbol","g","a","svg","clipPath","defs"],u={cx:"left",x:"left",r:"radius",cy:"top",y:"top",display:"visible",visibility:"visible",transform:"transformMatrix","fill-opacity":"fillOpacity","fill-rule":"fillRule","font-family":"fontFamily","font-size":"fontSize","font-style":"fontStyle","font-weight":"fontWeight","letter-spacing":"charSpacing","paint-order":"paintFirst","stroke-dasharray":"strokeDashArray","stroke-dashoffset":"strokeDashOffset","stroke-linecap":"strokeLineCap","stroke-linejoin":"strokeLineJoin","stroke-miterlimit":"strokeMiterLimit","stroke-opacity":"strokeOpacity","stroke-width":"strokeWidth","text-decoration":"textDecoration","text-anchor":"textAnchor",opacity:"opacity","clip-path":"clipPath","clip-rule":"clipRule","vector-effect":"strokeUniform","image-rendering":"imageSmoothing"},h={stroke:"strokeOpacity",fill:"fillOpacity"},f="font-size",d="clip-path";function p(t){return t in u?u[t]:t}function g(t,i,n,r){var a,A="[object Array]"===Object.prototype.toString.call(i);if("fill"!==t&&"stroke"!==t||"none"!==i){if("strokeUniform"===t)return"non-scaling-stroke"===i;if("strokeDashArray"===t)i="none"===i?null:i.replace(/,/g," ").split(/\s+/).map(parseFloat);else if("transformMatrix"===t)i=n&&n.transformMatrix?s(n.transformMatrix,e.parseTransformAttribute(i)):e.parseTransformAttribute(i);else if("visible"===t)i="none"!==i&&"hidden"!==i,n&&!1===n.visible&&(i=!1);else if("opacity"===t)i=parseFloat(i),n&&"undefined"!==typeof n.opacity&&(i*=n.opacity);else if("textAnchor"===t)i="start"===i?"left":"end"===i?"right":"center";else if("charSpacing"===t)a=o(i,r)/r*1e3;else if("paintFirst"===t){var c=i.indexOf("fill"),l=i.indexOf("stroke");i="fill";(c>-1&&l>-1&&l<c||-1===c&&l>-1)&&(i="stroke")}else{if("href"===t||"xlink:href"===t||"font"===t)return i;if("imageSmoothing"===t)return"optimizeQuality"===i;a=A?i.map(o):o(i,r)}}else i="";return!A&&isNaN(a)?i:a}function v(t){return new RegExp("^("+t.join("|")+")\\b","i")}function m(t){for(var i in h)if("undefined"!==typeof t[h[i]]&&""!==t[i]){if("undefined"===typeof t[i]){if(!e.Object.prototype[i])continue;t[i]=e.Object.prototype[i]}if(0!==t[i].indexOf("url(")){var n=new e.Color(t[i]);t[i]=n.setAlpha(r(n.getAlpha()*t[h[i]],2)).toRgba()}}return t}function w(t,e){var i,n,r,o,s=[];for(r=0,o=e.length;r<o;r++)i=e[r],n=t.getElementsByTagName(i),s=s.concat(Array.prototype.slice.call(n));return s}function y(t,e){var i,n;t.replace(/;\s*$/,"").split(";").forEach((function(t){var r=t.split(":");i=r[0].trim().toLowerCase(),n=r[1].trim(),e[i]=n}))}function b(t,e){var i,n;for(var r in t)"undefined"!==typeof t[r]&&(i=r.toLowerCase(),n=t[r],e[i]=n)}function B(t,i){var n={};for(var r in e.cssRules[i])if(C(t,r.split(" ")))for(var o in e.cssRules[i][r])n[o]=e.cssRules[i][r][o];return n}function C(t,e){var i,n=!0;return i=x(t,e.pop()),i&&e.length&&(n=E(t,e)),i&&n&&0===e.length}function E(t,e){var i,n=!0;while(t.parentNode&&1===t.parentNode.nodeType&&e.length)n&&(i=e.pop()),t=t.parentNode,n=x(t,i);return 0===e.length}function x(t,e){var i,n,r=t.nodeName,o=t.getAttribute("class"),s=t.getAttribute("id");if(i=new RegExp("^"+r,"i"),e=e.replace(i,""),s&&e.length&&(i=new RegExp("#"+s+"(?![a-zA-Z\\-]+)","i"),e=e.replace(i,"")),o&&e.length)for(o=o.split(" "),n=o.length;n--;)i=new RegExp("\\."+o[n]+"(?![a-zA-Z\\-]+)","i"),e=e.replace(i,"");return 0===e.length}function _(t,e){var i;if(t.getElementById&&(i=t.getElementById(e)),i)return i;var n,r,o,s=t.getElementsByTagName("*");for(r=0,o=s.length;r<o;r++)if(n=s[r],e===n.getAttribute("id"))return n}function S(t){var i=w(t,["use","svg:use"]),n=0;while(i.length&&n<i.length){var r,o,s,a,A,c=i[n],l=(c.getAttribute("xlink:href")||c.getAttribute("href")).substr(1),u=c.getAttribute("x")||0,h=c.getAttribute("y")||0,f=_(t,l).cloneNode(!0),d=(f.getAttribute("transform")||"")+" translate("+u+", "+h+")",p=i.length,g=e.svgNS;if(F(f),/^svg$/i.test(f.nodeName)){var v=f.ownerDocument.createElementNS(g,"g");for(s=0,a=f.attributes,A=a.length;s<A;s++)o=a.item(s),v.setAttributeNS(g,o.nodeName,o.nodeValue);while(f.firstChild)v.appendChild(f.firstChild);f=v}for(s=0,a=c.attributes,A=a.length;s<A;s++)o=a.item(s),"x"!==o.nodeName&&"y"!==o.nodeName&&"xlink:href"!==o.nodeName&&"href"!==o.nodeName&&("transform"===o.nodeName?d=o.nodeValue+" "+d:f.setAttribute(o.nodeName,o.nodeValue));f.setAttribute("transform",d),f.setAttribute("instantiated_by_use","1"),f.removeAttribute("id"),r=c.parentNode,r.replaceChild(f,c),i.length===p&&n++}}e.svgValidTagNamesRegEx=v(a),e.svgViewBoxElementsRegEx=v(A),e.svgInvalidAncestorsRegEx=v(c),e.svgValidParentsRegEx=v(l),e.cssRules={},e.gradientDefs={},e.clipPaths={},e.parseTransformAttribute=function(){function t(t,i){var n=e.util.cos(i[0]),r=e.util.sin(i[0]),o=0,s=0;3===i.length&&(o=i[1],s=i[2]),t[0]=n,t[1]=r,t[2]=-r,t[3]=n,t[4]=o-(n*o-r*s),t[5]=s-(r*o+n*s)}function i(t,e){var i=e[0],n=2===e.length?e[1]:e[0];t[0]=i,t[3]=n}function n(t,i,n){t[n]=Math.tan(e.util.degreesToRadians(i[0]))}function r(t,e){t[4]=e[0],2===e.length&&(t[5]=e[1])}var o=e.iMatrix,s=e.reNum,a=e.commaWsp,A="(?:(skewX)\\s*\\(\\s*("+s+")\\s*\\))",c="(?:(skewY)\\s*\\(\\s*("+s+")\\s*\\))",l="(?:(rotate)\\s*\\(\\s*("+s+")(?:"+a+"("+s+")"+a+"("+s+"))?\\s*\\))",u="(?:(scale)\\s*\\(\\s*("+s+")(?:"+a+"("+s+"))?\\s*\\))",h="(?:(translate)\\s*\\(\\s*("+s+")(?:"+a+"("+s+"))?\\s*\\))",f="(?:(matrix)\\s*\\(\\s*("+s+")"+a+"("+s+")"+a+"("+s+")"+a+"("+s+")"+a+"("+s+")"+a+"("+s+")\\s*\\))",d="(?:"+f+"|"+h+"|"+u+"|"+l+"|"+A+"|"+c+")",p="(?:"+d+"(?:"+a+"*"+d+")*)",g="^\\s*(?:"+p+"?)\\s*$",v=new RegExp(g),m=new RegExp(d,"g");return function(s){var a=o.concat(),A=[];if(!s||s&&!v.test(s))return a;s.replace(m,(function(s){var c=new RegExp(d).exec(s).filter((function(t){return!!t})),l=c[1],u=c.slice(2).map(parseFloat);switch(l){case"translate":r(a,u);break;case"rotate":u[0]=e.util.degreesToRadians(u[0]),t(a,u);break;case"scale":i(a,u);break;case"skewX":n(a,u,2);break;case"skewY":n(a,u,1);break;case"matrix":a=u;break}A.push(a.concat()),a=o.concat()}));var c=A[0];while(A.length>1)A.shift(),c=e.util.multiplyTransformMatrices(c,A[0]);return c}}();var T=new RegExp("^\\s*("+e.reNum+"+)\\s*,?\\s*("+e.reNum+"+)\\s*,?\\s*("+e.reNum+"+)\\s*,?\\s*("+e.reNum+"+)\\s*$");function F(t){if(e.svgViewBoxElementsRegEx.test(t.nodeName)){var i,n,r,s,a=t.getAttribute("viewBox"),A=1,c=1,l=0,u=0,h=t.getAttribute("width"),f=t.getAttribute("height"),d=t.getAttribute("x")||0,p=t.getAttribute("y")||0,g=t.getAttribute("preserveAspectRatio")||"",v=!a||!(a=a.match(T)),m=!h||!f||"100%"===h||"100%"===f,w=v&&m,y={},b="",B=0,C=0;if(y.width=0,y.height=0,y.toBeParsed=w,v&&(d||p)&&"#document"!==t.parentNode.nodeName&&(b=" translate("+o(d)+" "+o(p)+") ",r=(t.getAttribute("transform")||"")+b,t.setAttribute("transform",r),t.removeAttribute("x"),t.removeAttribute("y")),w)return y;if(v)return y.width=o(h),y.height=o(f),y;if(l=-parseFloat(a[1]),u=-parseFloat(a[2]),i=parseFloat(a[3]),n=parseFloat(a[4]),y.minX=l,y.minY=u,y.viewBoxWidth=i,y.viewBoxHeight=n,m?(y.width=i,y.height=n):(y.width=o(h),y.height=o(f),A=y.width/i,c=y.height/n),g=e.util.parsePreserveAspectRatioAttribute(g),"none"!==g.alignX&&("meet"===g.meetOrSlice&&(c=A=A>c?c:A),"slice"===g.meetOrSlice&&(c=A=A>c?A:c),B=y.width-i*A,C=y.height-n*A,"Mid"===g.alignX&&(B/=2),"Mid"===g.alignY&&(C/=2),"Min"===g.alignX&&(B=0),"Min"===g.alignY&&(C=0)),1===A&&1===c&&0===l&&0===u&&0===d&&0===p)return y;if((d||p)&&"#document"!==t.parentNode.nodeName&&(b=" translate("+o(d)+" "+o(p)+") "),r=b+" matrix("+A+" 0 0 "+c+" "+(l*A+B)+" "+(u*c+C)+") ","svg"===t.nodeName){s=t.ownerDocument.createElementNS(e.svgNS,"g");while(t.firstChild)s.appendChild(t.firstChild);t.appendChild(s)}else s=t,s.removeAttribute("x"),s.removeAttribute("y"),r=s.getAttribute("transform")+r;return s.setAttribute("transform",r),y}}function Q(t,e){while(t&&(t=t.parentNode))if(t.nodeName&&e.test(t.nodeName.replace("svg:",""))&&!t.getAttribute("instantiated_by_use"))return!0;return!1}function U(t,e){var i=["gradientTransform","x1","x2","y1","y2","gradientUnits","cx","cy","r","fx","fy"],n="xlink:href",r=e.getAttribute(n).substr(1),o=_(t,r);if(o&&o.getAttribute(n)&&U(t,o),i.forEach((function(t){o&&!e.hasAttribute(t)&&o.hasAttribute(t)&&e.setAttribute(t,o.getAttribute(t))})),!e.children.length){var s=o.cloneNode(!0);while(s.firstChild)e.appendChild(s.firstChild)}e.removeAttribute(n)}e.parseSVGDocument=function(t,i,r,o){if(t){S(t);var s,a,A=e.Object.__uid++,c=F(t),l=e.util.toArray(t.getElementsByTagName("*"));if(c.crossOrigin=o&&o.crossOrigin,c.svgUid=A,0===l.length&&e.isLikelyNode){l=t.selectNodes('//*[name(.)!="svg"]');var u=[];for(s=0,a=l.length;s<a;s++)u[s]=l[s];l=u}var h=l.filter((function(t){return F(t),e.svgValidTagNamesRegEx.test(t.nodeName.replace("svg:",""))&&!Q(t,e.svgInvalidAncestorsRegEx)}));if(!h||h&&!h.length)i&&i([],{});else{var f={};l.filter((function(t){return"clipPath"===t.nodeName.replace("svg:","")})).forEach((function(t){var i=t.getAttribute("id");f[i]=e.util.toArray(t.getElementsByTagName("*")).filter((function(t){return e.svgValidTagNamesRegEx.test(t.nodeName.replace("svg:",""))}))})),e.gradientDefs[A]=e.getGradientDefs(t),e.cssRules[A]=e.getCSSRules(t),e.clipPaths[A]=f,e.parseElements(h,(function(t,n){i&&(i(t,c,n,l),delete e.gradientDefs[A],delete e.cssRules[A],delete e.clipPaths[A])}),n(c),r,o)}}};var O=new RegExp("(normal|italic)?\\s*(normal|small-caps)?\\s*(normal|bold|bolder|lighter|100|200|300|400|500|600|700|800|900)?\\s*("+e.reNum+"(?:px|cm|mm|em|pt|pc|in)*)(?:\\/(normal|"+e.reNum+"))?\\s+(.*)");i(e,{parseFontDeclaration:function(t,e){var i=t.match(O);if(i){var n=i[1],r=i[3],s=i[4],a=i[5],A=i[6];n&&(e.fontStyle=n),r&&(e.fontWeight=isNaN(parseFloat(r))?r:parseFloat(r)),s&&(e.fontSize=o(s)),A&&(e.fontFamily=A),a&&(e.lineHeight="normal"===a?1:a)}},getGradientDefs:function(t){var e,i=["linearGradient","radialGradient","svg:linearGradient","svg:radialGradient"],n=w(t,i),r=0,o={};r=n.length;while(r--)e=n[r],e.getAttribute("xlink:href")&&U(t,e),o[e.getAttribute("id")]=e;return o},parseAttributes:function(t,n,r){if(t){var s,a,A,c={};"undefined"===typeof r&&(r=t.getAttribute("svgUid")),t.parentNode&&e.svgValidParentsRegEx.test(t.parentNode.nodeName)&&(c=e.parseAttributes(t.parentNode,n,r));var l=n.reduce((function(e,i){return s=t.getAttribute(i),s&&(e[i]=s),e}),{}),u=i(B(t,r),e.parseStyleAttribute(t));l=i(l,u),u[d]&&t.setAttribute(d,u[d]),a=A=c.fontSize||e.Text.DEFAULT_SVG_FONT_SIZE,l[f]&&(l[f]=a=o(l[f],A));var h,v,w={};for(var y in l)h=p(y),v=g(h,l[y],c,a),w[h]=v;w&&w.font&&e.parseFontDeclaration(w.font,w);var b=i(c,w);return e.svgValidParentsRegEx.test(t.nodeName)?b:m(b)}},parseElements:function(t,i,n,r,o){new e.ElementsParser(t,i,n,r,o).parse()},parseStyleAttribute:function(t){var e={},i=t.getAttribute("style");return i?("string"===typeof i?y(i,e):b(i,e),e):e},parsePointsAttribute:function(t){if(!t)return null;t=t.replace(/,/g," ").trim(),t=t.split(/\s+/);var e,i,n=[];for(e=0,i=t.length;e<i;e+=2)n.push({x:parseFloat(t[e]),y:parseFloat(t[e+1])});return n},getCSSRules:function(t){var i,n,r,o=t.getElementsByTagName("style"),s={};for(i=0,n=o.length;i<n;i++){var a=o[i].textContent;a=a.replace(/\/\*[\s\S]*?\*\//g,""),""!==a.trim()&&(r=a.match(/[^{]*\{[\s\S]*?\}/g),r=r.map((function(t){return t.trim()})),r.forEach((function(t){var r=t.match(/([\s\S]*?)\s*\{([^}]*)\}/),o={},a=r[2].trim(),A=a.replace(/;$/,"").split(/\s*;\s*/);for(i=0,n=A.length;i<n;i++){var c=A[i].split(/\s*:\s*/),l=c[0],u=c[1];o[l]=u}t=r[1],t.split(",").forEach((function(t){t=t.replace(/^svg/i,"").trim(),""!==t&&(s[t]?e.util.object.extend(s[t],o):s[t]=e.util.object.clone(o))}))})))}return s},loadSVGFromURL:function(t,i,n,r){function o(t){var o=t.responseXML;if(!o||!o.documentElement)return i&&i(null),!1;e.parseSVGDocument(o.documentElement,(function(t,e,n,r){i&&i(t,e,n,r)}),n,r)}t=t.replace(/^\n\s*/,"").trim(),new e.util.request(t,{method:"get",onComplete:o})},loadSVGFromString:function(t,i,n,r){var o=new e.window.DOMParser,s=o.parseFromString(t.trim(),"text/xml");e.parseSVGDocument(s.documentElement,(function(t,e,n,r){i(t,e,n,r)}),n,r)}})}(e),n.ElementsParser=function(t,e,i,n,r,o){this.elements=t,this.callback=e,this.options=i,this.reviver=n,this.svgUid=i&&i.svgUid||0,this.parsingOptions=r,this.regexUrl=/^url\(['"]?#([^'"]+)['"]?\)/g,this.doc=o},function(t){t.parse=function(){this.instances=new Array(this.elements.length),this.numElements=this.elements.length,this.createObjects()},t.createObjects=function(){var t=this;this.elements.forEach((function(e,i){e.setAttribute("svgUid",t.svgUid),t.createObject(e,i)}))},t.findTag=function(t){return n[n.util.string.capitalize(t.tagName.replace("svg:",""))]},t.createObject=function(t,e){var i=this.findTag(t);if(i&&i.fromElement)try{i.fromElement(t,this.createCallback(e,t),this.options)}catch(r){n.log(r)}else this.checkIfDone()},t.createCallback=function(t,e){var i=this;return function(r){var o;i.resolveGradient(r,e,"fill"),i.resolveGradient(r,e,"stroke"),r instanceof n.Image&&r._originalElement&&(o=r.parsePreserveAspectRatioAttribute(e)),r._removeTransformMatrix(o),i.resolveClipPath(r,e),i.reviver&&i.reviver(e,r),i.instances[t]=r,i.checkIfDone()}},t.extractPropertyDefinition=function(t,e,i){var r=t[e],o=this.regexUrl;if(o.test(r)){o.lastIndex=0;var s=o.exec(r)[1];return o.lastIndex=0,n[i][this.svgUid][s]}},t.resolveGradient=function(t,e,i){var r=this.extractPropertyDefinition(t,i,"gradientDefs");if(r){var o=e.getAttribute(i+"-opacity"),s=n.Gradient.fromElement(r,t,o,this.options);t.set(i,s)}},t.createClipPathCallback=function(t,e){return function(t){t._removeTransformMatrix(),t.fillRule=t.clipRule,e.push(t)}},t.resolveClipPath=function(t,e){var i,r,o,s,a,A=this.extractPropertyDefinition(t,"clipPath","clipPaths");if(A){s=[],o=n.util.invertTransform(t.calcTransformMatrix());var c=A[0].parentNode,l=e;while(l.parentNode&&l.getAttribute("clip-path")!==t.clipPath)l=l.parentNode;l.parentNode.appendChild(c);for(var u=0;u<A.length;u++)i=A[u],r=this.findTag(i),r.fromElement(i,this.createClipPathCallback(t,s),this.options);A=1===s.length?s[0]:new n.Group(s),a=n.util.multiplyTransformMatrices(o,A.calcTransformMatrix()),A.clipPath&&this.resolveClipPath(A,l);var h=n.util.qrDecompose(a);A.flipX=!1,A.flipY=!1,A.set("scaleX",h.scaleX),A.set("scaleY",h.scaleY),A.angle=h.angle,A.skewX=h.skewX,A.skewY=0,A.setPositionByOrigin({x:h.translateX,y:h.translateY},"center","center"),t.clipPath=A}else delete t.clipPath},t.checkIfDone=function(){0===--this.numElements&&(this.instances=this.instances.filter((function(t){return null!=t})),this.callback(this.instances,this.elements))}}(n.ElementsParser.prototype),function(t){"use strict";var e=t.fabric||(t.fabric={});function i(t,e){this.x=t,this.y=e}e.Point?e.warn("fabric.Point is already defined"):(e.Point=i,i.prototype={type:"point",constructor:i,add:function(t){return new i(this.x+t.x,this.y+t.y)},addEquals:function(t){return this.x+=t.x,this.y+=t.y,this},scalarAdd:function(t){return new i(this.x+t,this.y+t)},scalarAddEquals:function(t){return this.x+=t,this.y+=t,this},subtract:function(t){return new i(this.x-t.x,this.y-t.y)},subtractEquals:function(t){return this.x-=t.x,this.y-=t.y,this},scalarSubtract:function(t){return new i(this.x-t,this.y-t)},scalarSubtractEquals:function(t){return this.x-=t,this.y-=t,this},multiply:function(t){return new i(this.x*t,this.y*t)},multiplyEquals:function(t){return this.x*=t,this.y*=t,this},divide:function(t){return new i(this.x/t,this.y/t)},divideEquals:function(t){return this.x/=t,this.y/=t,this},eq:function(t){return this.x===t.x&&this.y===t.y},lt:function(t){return this.x<t.x&&this.y<t.y},lte:function(t){return this.x<=t.x&&this.y<=t.y},gt:function(t){return this.x>t.x&&this.y>t.y},gte:function(t){return this.x>=t.x&&this.y>=t.y},lerp:function(t,e){return"undefined"===typeof e&&(e=.5),e=Math.max(Math.min(1,e),0),new i(this.x+(t.x-this.x)*e,this.y+(t.y-this.y)*e)},distanceFrom:function(t){var e=this.x-t.x,i=this.y-t.y;return Math.sqrt(e*e+i*i)},midPointFrom:function(t){return this.lerp(t)},min:function(t){return new i(Math.min(this.x,t.x),Math.min(this.y,t.y))},max:function(t){return new i(Math.max(this.x,t.x),Math.max(this.y,t.y))},toString:function(){return this.x+","+this.y},setXY:function(t,e){return this.x=t,this.y=e,this},setX:function(t){return this.x=t,this},setY:function(t){return this.y=t,this},setFromPoint:function(t){return this.x=t.x,this.y=t.y,this},swap:function(t){var e=this.x,i=this.y;this.x=t.x,this.y=t.y,t.x=e,t.y=i},clone:function(){return new i(this.x,this.y)}})}(e),function(t){"use strict";var e=t.fabric||(t.fabric={});function i(t){this.status=t,this.points=[]}e.Intersection?e.warn("fabric.Intersection is already defined"):(e.Intersection=i,e.Intersection.prototype={constructor:i,appendPoint:function(t){return this.points.push(t),this},appendPoints:function(t){return this.points=this.points.concat(t),this}},e.Intersection.intersectLineLine=function(t,n,r,o){var s,a=(o.x-r.x)*(t.y-r.y)-(o.y-r.y)*(t.x-r.x),A=(n.x-t.x)*(t.y-r.y)-(n.y-t.y)*(t.x-r.x),c=(o.y-r.y)*(n.x-t.x)-(o.x-r.x)*(n.y-t.y);if(0!==c){var l=a/c,u=A/c;0<=l&&l<=1&&0<=u&&u<=1?(s=new i("Intersection"),s.appendPoint(new e.Point(t.x+l*(n.x-t.x),t.y+l*(n.y-t.y)))):s=new i}else s=new i(0===a||0===A?"Coincident":"Parallel");return s},e.Intersection.intersectLinePolygon=function(t,e,n){var r,o,s,a,A=new i,c=n.length;for(a=0;a<c;a++)r=n[a],o=n[(a+1)%c],s=i.intersectLineLine(t,e,r,o),A.appendPoints(s.points);return A.points.length>0&&(A.status="Intersection"),A},e.Intersection.intersectPolygonPolygon=function(t,e){var n,r=new i,o=t.length;for(n=0;n<o;n++){var s=t[n],a=t[(n+1)%o],A=i.intersectLinePolygon(s,a,e);r.appendPoints(A.points)}return r.points.length>0&&(r.status="Intersection"),r},e.Intersection.intersectPolygonRectangle=function(t,n,r){var o=n.min(r),s=n.max(r),a=new e.Point(s.x,o.y),A=new e.Point(o.x,s.y),c=i.intersectLinePolygon(o,a,t),l=i.intersectLinePolygon(a,s,t),u=i.intersectLinePolygon(s,A,t),h=i.intersectLinePolygon(A,o,t),f=new i;return f.appendPoints(c.points),f.appendPoints(l.points),f.appendPoints(u.points),f.appendPoints(h.points),f.points.length>0&&(f.status="Intersection"),f})}(e),function(t){"use strict";var e=t.fabric||(t.fabric={});function i(t){t?this._tryParsingColor(t):this.setSource([0,0,0,1])}function n(t,e,i){return i<0&&(i+=1),i>1&&(i-=1),i<1/6?t+6*(e-t)*i:i<.5?e:i<2/3?t+(e-t)*(2/3-i)*6:t}e.Color?e.warn("fabric.Color is already defined."):(e.Color=i,e.Color.prototype={_tryParsingColor:function(t){var e;t in i.colorNameMap&&(t=i.colorNameMap[t]),"transparent"===t&&(e=[255,255,255,0]),e||(e=i.sourceFromHex(t)),e||(e=i.sourceFromRgb(t)),e||(e=i.sourceFromHsl(t)),e||(e=[0,0,0,1]),e&&this.setSource(e)},_rgbToHsl:function(t,i,n){t/=255,i/=255,n/=255;var r,o,s,a=e.util.array.max([t,i,n]),A=e.util.array.min([t,i,n]);if(s=(a+A)/2,a===A)r=o=0;else{var c=a-A;switch(o=s>.5?c/(2-a-A):c/(a+A),a){case t:r=(i-n)/c+(i<n?6:0);break;case i:r=(n-t)/c+2;break;case n:r=(t-i)/c+4;break}r/=6}return[Math.round(360*r),Math.round(100*o),Math.round(100*s)]},getSource:function(){return this._source},setSource:function(t){this._source=t},toRgb:function(){var t=this.getSource();return"rgb("+t[0]+","+t[1]+","+t[2]+")"},toRgba:function(){var t=this.getSource();return"rgba("+t[0]+","+t[1]+","+t[2]+","+t[3]+")"},toHsl:function(){var t=this.getSource(),e=this._rgbToHsl(t[0],t[1],t[2]);return"hsl("+e[0]+","+e[1]+"%,"+e[2]+"%)"},toHsla:function(){var t=this.getSource(),e=this._rgbToHsl(t[0],t[1],t[2]);return"hsla("+e[0]+","+e[1]+"%,"+e[2]+"%,"+t[3]+")"},toHex:function(){var t,e,i,n=this.getSource();return t=n[0].toString(16),t=1===t.length?"0"+t:t,e=n[1].toString(16),e=1===e.length?"0"+e:e,i=n[2].toString(16),i=1===i.length?"0"+i:i,t.toUpperCase()+e.toUpperCase()+i.toUpperCase()},toHexa:function(){var t,e=this.getSource();return t=Math.round(255*e[3]),t=t.toString(16),t=1===t.length?"0"+t:t,this.toHex()+t.toUpperCase()},getAlpha:function(){return this.getSource()[3]},setAlpha:function(t){var e=this.getSource();return e[3]=t,this.setSource(e),this},toGrayscale:function(){var t=this.getSource(),e=parseInt((.3*t[0]+.59*t[1]+.11*t[2]).toFixed(0),10),i=t[3];return this.setSource([e,e,e,i]),this},toBlackWhite:function(t){var e=this.getSource(),i=(.3*e[0]+.59*e[1]+.11*e[2]).toFixed(0),n=e[3];return t=t||127,i=Number(i)<Number(t)?0:255,this.setSource([i,i,i,n]),this},overlayWith:function(t){t instanceof i||(t=new i(t));var e,n=[],r=this.getAlpha(),o=.5,s=this.getSource(),a=t.getSource();for(e=0;e<3;e++)n.push(Math.round(s[e]*(1-o)+a[e]*o));return n[3]=r,this.setSource(n),this}},e.Color.reRGBa=/^rgba?\(\s*(\d{1,3}(?:\.\d+)?\%?)\s*,\s*(\d{1,3}(?:\.\d+)?\%?)\s*,\s*(\d{1,3}(?:\.\d+)?\%?)\s*(?:\s*,\s*((?:\d*\.?\d+)?)\s*)?\)$/i,e.Color.reHSLa=/^hsla?\(\s*(\d{1,3})\s*,\s*(\d{1,3}\%)\s*,\s*(\d{1,3}\%)\s*(?:\s*,\s*(\d+(?:\.\d+)?)\s*)?\)$/i,e.Color.reHex=/^#?([0-9a-f]{8}|[0-9a-f]{6}|[0-9a-f]{4}|[0-9a-f]{3})$/i,e.Color.colorNameMap={aliceblue:"#F0F8FF",antiquewhite:"#FAEBD7",aqua:"#00FFFF",aquamarine:"#7FFFD4",azure:"#F0FFFF",beige:"#F5F5DC",bisque:"#FFE4C4",black:"#000000",blanchedalmond:"#FFEBCD",blue:"#0000FF",blueviolet:"#8A2BE2",brown:"#A52A2A",burlywood:"#DEB887",cadetblue:"#5F9EA0",chartreuse:"#7FFF00",chocolate:"#D2691E",coral:"#FF7F50",cornflowerblue:"#6495ED",cornsilk:"#FFF8DC",crimson:"#DC143C",cyan:"#00FFFF",darkblue:"#00008B",darkcyan:"#008B8B",darkgoldenrod:"#B8860B",darkgray:"#A9A9A9",darkgrey:"#A9A9A9",darkgreen:"#006400",darkkhaki:"#BDB76B",darkmagenta:"#8B008B",darkolivegreen:"#556B2F",darkorange:"#FF8C00",darkorchid:"#9932CC",darkred:"#8B0000",darksalmon:"#E9967A",darkseagreen:"#8FBC8F",darkslateblue:"#483D8B",darkslategray:"#2F4F4F",darkslategrey:"#2F4F4F",darkturquoise:"#00CED1",darkviolet:"#9400D3",deeppink:"#FF1493",deepskyblue:"#00BFFF",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1E90FF",firebrick:"#B22222",floralwhite:"#FFFAF0",forestgreen:"#228B22",fuchsia:"#FF00FF",gainsboro:"#DCDCDC",ghostwhite:"#F8F8FF",gold:"#FFD700",goldenrod:"#DAA520",gray:"#808080",grey:"#808080",green:"#008000",greenyellow:"#ADFF2F",honeydew:"#F0FFF0",hotpink:"#FF69B4",indianred:"#CD5C5C",indigo:"#4B0082",ivory:"#FFFFF0",khaki:"#F0E68C",lavender:"#E6E6FA",lavenderblush:"#FFF0F5",lawngreen:"#7CFC00",lemonchiffon:"#FFFACD",lightblue:"#ADD8E6",lightcoral:"#F08080",lightcyan:"#E0FFFF",lightgoldenrodyellow:"#FAFAD2",lightgray:"#D3D3D3",lightgrey:"#D3D3D3",lightgreen:"#90EE90",lightpink:"#FFB6C1",lightsalmon:"#FFA07A",lightseagreen:"#20B2AA",lightskyblue:"#87CEFA",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#B0C4DE",lightyellow:"#FFFFE0",lime:"#00FF00",limegreen:"#32CD32",linen:"#FAF0E6",magenta:"#FF00FF",maroon:"#800000",mediumaquamarine:"#66CDAA",mediumblue:"#0000CD",mediumorchid:"#BA55D3",mediumpurple:"#9370DB",mediumseagreen:"#3CB371",mediumslateblue:"#7B68EE",mediumspringgreen:"#00FA9A",mediumturquoise:"#48D1CC",mediumvioletred:"#C71585",midnightblue:"#191970",mintcream:"#F5FFFA",mistyrose:"#FFE4E1",moccasin:"#FFE4B5",navajowhite:"#FFDEAD",navy:"#000080",oldlace:"#FDF5E6",olive:"#808000",olivedrab:"#6B8E23",orange:"#FFA500",orangered:"#FF4500",orchid:"#DA70D6",palegoldenrod:"#EEE8AA",palegreen:"#98FB98",paleturquoise:"#AFEEEE",palevioletred:"#DB7093",papayawhip:"#FFEFD5",peachpuff:"#FFDAB9",peru:"#CD853F",pink:"#FFC0CB",plum:"#DDA0DD",powderblue:"#B0E0E6",purple:"#800080",rebeccapurple:"#663399",red:"#FF0000",rosybrown:"#BC8F8F",royalblue:"#4169E1",saddlebrown:"#8B4513",salmon:"#FA8072",sandybrown:"#F4A460",seagreen:"#2E8B57",seashell:"#FFF5EE",sienna:"#A0522D",silver:"#C0C0C0",skyblue:"#87CEEB",slateblue:"#6A5ACD",slategray:"#708090",slategrey:"#708090",snow:"#FFFAFA",springgreen:"#00FF7F",steelblue:"#4682B4",tan:"#D2B48C",teal:"#008080",thistle:"#D8BFD8",tomato:"#FF6347",turquoise:"#40E0D0",violet:"#EE82EE",wheat:"#F5DEB3",white:"#FFFFFF",whitesmoke:"#F5F5F5",yellow:"#FFFF00",yellowgreen:"#9ACD32"},e.Color.fromRgb=function(t){return i.fromSource(i.sourceFromRgb(t))},e.Color.sourceFromRgb=function(t){var e=t.match(i.reRGBa);if(e){var n=parseInt(e[1],10)/(/%$/.test(e[1])?100:1)*(/%$/.test(e[1])?255:1),r=parseInt(e[2],10)/(/%$/.test(e[2])?100:1)*(/%$/.test(e[2])?255:1),o=parseInt(e[3],10)/(/%$/.test(e[3])?100:1)*(/%$/.test(e[3])?255:1);return[parseInt(n,10),parseInt(r,10),parseInt(o,10),e[4]?parseFloat(e[4]):1]}},e.Color.fromRgba=i.fromRgb,e.Color.fromHsl=function(t){return i.fromSource(i.sourceFromHsl(t))},e.Color.sourceFromHsl=function(t){var e=t.match(i.reHSLa);if(e){var r,o,s,a=(parseFloat(e[1])%360+360)%360/360,A=parseFloat(e[2])/(/%$/.test(e[2])?100:1),c=parseFloat(e[3])/(/%$/.test(e[3])?100:1);if(0===A)r=o=s=c;else{var l=c<=.5?c*(A+1):c+A-c*A,u=2*c-l;r=n(u,l,a+1/3),o=n(u,l,a),s=n(u,l,a-1/3)}return[Math.round(255*r),Math.round(255*o),Math.round(255*s),e[4]?parseFloat(e[4]):1]}},e.Color.fromHsla=i.fromHsl,e.Color.fromHex=function(t){return i.fromSource(i.sourceFromHex(t))},e.Color.sourceFromHex=function(t){if(t.match(i.reHex)){var e=t.slice(t.indexOf("#")+1),n=3===e.length||4===e.length,r=8===e.length||4===e.length,o=n?e.charAt(0)+e.charAt(0):e.substring(0,2),s=n?e.charAt(1)+e.charAt(1):e.substring(2,4),a=n?e.charAt(2)+e.charAt(2):e.substring(4,6),A=r?n?e.charAt(3)+e.charAt(3):e.substring(6,8):"FF";return[parseInt(o,16),parseInt(s,16),parseInt(a,16),parseFloat((parseInt(A,16)/255).toFixed(2))]}},e.Color.fromSource=function(t){var e=new i;return e.setSource(t),e})}(e),function(t){"use strict";var e=t.fabric||(t.fabric={}),i=["e","se","s","sw","w","nw","n","ne","e"],n=["ns","nesw","ew","nwse"],r={},o="left",s="top",a="right",A="bottom",c="center",l={top:A,bottom:s,left:a,right:o,center:c},u=e.util.radiansToDegrees,h=Math.sign||function(t){return(t>0)-(t<0)||+t};function f(t,e){var i=t.angle+u(Math.atan2(e.y,e.x))+360;return Math.round(i%360/45)}function d(t,i){var n=i.transform.target,r=n.canvas,o=e.util.object.clone(i);o.target=n,r&&r.fire("object:"+t,o),n.fire(t,i)}function p(t,e){var i=e.canvas,n=i.uniScaleKey,r=t[n];return i.uniformScaling&&!r||!i.uniformScaling&&r}function g(t){return t.originX===c&&t.originY===c}function v(t,e,i){var n=t.lockScalingX,r=t.lockScalingY;return!(!n||!r)||(!(e||!n&&!r||!i)||(!(!n||"x"!==e)||!(!r||"y"!==e)))}function m(t,e,n){var r="not-allowed",o=p(t,n),s="";if(0!==e.x&&0===e.y?s="x":0===e.x&&0!==e.y&&(s="y"),v(n,s,o))return r;var a=f(n,e);return i[a]+"-resize"}function w(t,e,i){var r="not-allowed";if(0!==e.x&&i.lockSkewingY)return r;if(0!==e.y&&i.lockSkewingX)return r;var o=f(i,e)%4;return n[o]+"-resize"}function y(t,e,i){return t[i.canvas.altActionKey]?r.skewCursorStyleHandler(t,e,i):r.scaleCursorStyleHandler(t,e,i)}function b(t,e,i){var n=t[i.canvas.altActionKey];return 0===e.x?n?"skewX":"scaleY":0===e.y?n?"skewY":"scaleX":void 0}function B(t,e,i){return i.lockRotation?"not-allowed":e.cursorStyle}function C(t,e,i,n){return{e:t,transform:e,pointer:{x:i,y:n}}}function E(t){return function(e,i,n,r){var o=i.target,s=o.getCenterPoint(),a=o.translateToOriginPoint(s,i.originX,i.originY),A=t(e,i,n,r);return o.setPositionByOrigin(a,i.originX,i.originY),A}}function x(t,i,n,r,o){var s=t.target,a=s.controls[t.corner],A=s.canvas.getZoom(),c=s.padding/A,l=s.toLocalPoint(new e.Point(r,o),i,n);return l.x>=c&&(l.x-=c),l.x<=-c&&(l.x+=c),l.y>=c&&(l.y-=c),l.y<=c&&(l.y+=c),l.x-=a.offsetX,l.y-=a.offsetY,l}function _(t){return t.flipX!==t.flipY}function S(t,e,i,n,r){if(0!==t[e]){var o=t._getTransformedDimensions()[n],s=r/o*t[i];t.set(i,s)}}function T(t,e,i,n){var r,c=e.target,l=c._getTransformedDimensions(0,c.skewY),h=x(e,e.originX,e.originY,i,n),f=Math.abs(2*h.x)-l.x,p=c.skewX;f<2?r=0:(r=u(Math.atan2(f/c.scaleX,l.y/c.scaleY)),e.originX===o&&e.originY===A&&(r=-r),e.originX===a&&e.originY===s&&(r=-r),_(c)&&(r=-r));var g=p!==r;if(g){var v=c._getTransformedDimensions().y;c.set("skewX",r),S(c,"skewY","scaleY","y",v),d("skewing",C(t,e,i,n))}return g}function F(t,e,i,n){var r,c=e.target,l=c._getTransformedDimensions(c.skewX,0),h=x(e,e.originX,e.originY,i,n),f=Math.abs(2*h.y)-l.y,p=c.skewY;f<2?r=0:(r=u(Math.atan2(f/c.scaleY,l.x/c.scaleX)),e.originX===o&&e.originY===A&&(r=-r),e.originX===a&&e.originY===s&&(r=-r),_(c)&&(r=-r));var g=p!==r;if(g){var v=c._getTransformedDimensions().x;c.set("skewY",r),S(c,"skewX","scaleX","x",v),d("skewing",C(t,e,i,n))}return g}function Q(t,e,i,n){var r,A=e.target,l=A.skewX,u=e.originY;if(A.lockSkewingX)return!1;if(0===l){var h=x(e,c,c,i,n);r=h.x>0?o:a}else l>0&&(r=u===s?o:a),l<0&&(r=u===s?a:o),_(A)&&(r=r===o?a:o);e.originX=r;var f=E(T);return f(t,e,i,n)}function U(t,e,i,n){var r,a=e.target,l=a.skewY,u=e.originX;if(a.lockSkewingY)return!1;if(0===l){var h=x(e,c,c,i,n);r=h.y>0?s:A}else l>0&&(r=u===o?s:A),l<0&&(r=u===o?A:s),_(a)&&(r=r===s?A:s);e.originY=r;var f=E(F);return f(t,e,i,n)}function O(t,e,i,n){var r=e,o=r.target,s=o.translateToOriginPoint(o.getCenterPoint(),r.originX,r.originY);if(o.lockRotation)return!1;var a=Math.atan2(r.ey-s.y,r.ex-s.x),A=Math.atan2(n-s.y,i-s.x),c=u(A-a+r.theta),l=!0;if(o.snapAngle>0){var h=o.snapAngle,f=o.snapThreshold||h,p=Math.ceil(c/h)*h,g=Math.floor(c/h)*h;Math.abs(c-g)<f?c=g:Math.abs(c-p)<f&&(c=p)}return c<0&&(c=360+c),c%=360,l=o.angle!==c,o.angle=c,l&&d("rotating",C(t,e,i,n)),l}function H(t,e,i,n,r){r=r||{};var o,s,a,A,c,u,f=e.target,m=f.lockScalingX,w=f.lockScalingY,y=r.by,b=p(t,f),B=v(f,y,b),E=e.gestureScale;if(B)return!1;if(E)s=e.scaleX*E,a=e.scaleY*E;else{if(o=x(e,e.originX,e.originY,i,n),c="y"!==y?h(o.x):1,u="x"!==y?h(o.y):1,e.signX||(e.signX=c),e.signY||(e.signY=u),f.lockScalingFlip&&(e.signX!==c||e.signY!==u))return!1;if(A=f._getTransformedDimensions(),b&&!y){var _,S=Math.abs(o.x)+Math.abs(o.y),T=e.original,F=Math.abs(A.x*T.scaleX/f.scaleX)+Math.abs(A.y*T.scaleY/f.scaleY),Q=S/F;s=T.scaleX*Q,a=T.scaleY*Q}else s=Math.abs(o.x*f.scaleX/A.x),a=Math.abs(o.y*f.scaleY/A.y);g(e)&&(s*=2,a*=2),e.signX!==c&&"y"!==y&&(e.originX=l[e.originX],s*=-1,e.signX=c),e.signY!==u&&"x"!==y&&(e.originY=l[e.originY],a*=-1,e.signY=u)}var U=f.scaleX,O=f.scaleY;return y?("x"===y&&f.set("scaleX",s),"y"===y&&f.set("scaleY",a)):(!m&&f.set("scaleX",s),!w&&f.set("scaleY",a)),_=U!==f.scaleX||O!==f.scaleY,_&&d("scaling",C(t,e,i,n)),_}function D(t,e,i,n){return H(t,e,i,n)}function I(t,e,i,n){return H(t,e,i,n,{by:"x"})}function k(t,e,i,n){return H(t,e,i,n,{by:"y"})}function R(t,e,i,n){return t[e.target.canvas.altActionKey]?r.skewHandlerX(t,e,i,n):r.scalingY(t,e,i,n)}function M(t,e,i,n){return t[e.target.canvas.altActionKey]?r.skewHandlerY(t,e,i,n):r.scalingX(t,e,i,n)}function P(t,e,i,n){var r,o=e.target,s=x(e,e.originX,e.originY,i,n),a=o.strokeWidth/(o.strokeUniform?o.scaleX:1),A=g(e)?2:1,c=o.width,l=Math.abs(s.x*A/o.scaleX)-a;return o.set("width",Math.max(l,0)),r=c!==l,r&&d("resizing",C(t,e,i,n)),r}function N(t,e,i,n){var r=e.target,o=i-e.offsetX,s=n-e.offsetY,a=!r.get("lockMovementX")&&r.left!==o,A=!r.get("lockMovementY")&&r.top!==s;return a&&r.set("left",o),A&&r.set("top",s),(a||A)&&d("moving",C(t,e,i,n)),a||A}r.scaleCursorStyleHandler=m,r.skewCursorStyleHandler=w,r.scaleSkewCursorStyleHandler=y,r.rotationWithSnapping=E(O),r.scalingEqually=E(D),r.scalingX=E(I),r.scalingY=E(k),r.scalingYOrSkewingX=R,r.scalingXOrSkewingY=M,r.changeWidth=E(P),r.skewHandlerX=Q,r.skewHandlerY=U,r.dragHandler=N,r.scaleOrSkewActionName=b,r.rotationStyleHandler=B,r.fireEvent=d,r.wrapWithFixedAnchor=E,r.getLocalPoint=x,e.controlsUtils=r}(e),function(t){"use strict";var e=t.fabric||(t.fabric={}),i=e.util.degreesToRadians,n=e.controlsUtils;function r(t,e,i,n,r){n=n||{};var o,s=this.sizeX||n.cornerSize||r.cornerSize,a=this.sizeY||n.cornerSize||r.cornerSize,A="undefined"!==typeof n.transparentCorners?n.transparentCorners:this.transparentCorners,c=A?"stroke":"fill",l=!A&&(n.cornerStrokeColor||r.cornerStrokeColor),u=e,h=i;t.save(),t.fillStyle=n.cornerColor||r.cornerColor,t.strokeStyle=n.cornerStrokeColor||r.cornerStrokeColor,s>a?(o=s,t.scale(1,a/s),h=i*s/a):a>s?(o=a,t.scale(s/a,1),u=e*a/s):o=s,t.lineWidth=1,t.beginPath(),t.arc(u,h,o/2,0,2*Math.PI,!1),t[c](),l&&t.stroke(),t.restore()}function o(t,e,n,r,o){r=r||{};var s=this.sizeX||r.cornerSize||o.cornerSize,a=this.sizeY||r.cornerSize||o.cornerSize,A="undefined"!==typeof r.transparentCorners?r.transparentCorners:o.transparentCorners,c=A?"stroke":"fill",l=!A&&(r.cornerStrokeColor||o.cornerStrokeColor),u=s/2,h=a/2;t.save(),t.fillStyle=r.cornerColor||o.cornerColor,t.strokeStyle=r.cornerStrokeColor||o.cornerStrokeColor,t.lineWidth=1,t.translate(e,n),t.rotate(i(o.angle)),t[c+"Rect"](-u,-h,s,a),l&&t.strokeRect(-u,-h,s,a),t.restore()}n.renderCircleControl=r,n.renderSquareControl=o}(e),function(t){"use strict";var e=t.fabric||(t.fabric={});function i(t){for(var e in t)this[e]=t[e]}e.Control=i,e.Control.prototype={visible:!0,actionName:"scale",angle:0,x:0,y:0,offsetX:0,offsetY:0,sizeX:null,sizeY:null,touchSizeX:null,touchSizeY:null,cursorStyle:"crosshair",withConnection:!1,actionHandler:function(){},mouseDownHandler:function(){},mouseUpHandler:function(){},getActionHandler:function(){return this.actionHandler},getMouseDownHandler:function(){return this.mouseDownHandler},getMouseUpHandler:function(){return this.mouseUpHandler},cursorStyleHandler:function(t,e){return e.cursorStyle},getActionName:function(t,e){return e.actionName},getVisibility:function(t,e){var i=t._controlsVisibility;return i&&"undefined"!==typeof i[e]?i[e]:this.visible},setVisibility:function(t){this.visible=t},positionHandler:function(t,i){var n=e.util.transformPoint({x:this.x*t.x+this.offsetX,y:this.y*t.y+this.offsetY},i);return n},calcCornerCoords:function(t,i,n,r,o){var s,a,A,c,l=o?this.touchSizeX:this.sizeX,u=o?this.touchSizeY:this.sizeY;if(l&&u&&l!==u){var h=Math.atan2(u,l),f=Math.sqrt(l*l+u*u)/2,d=h-e.util.degreesToRadians(t),p=Math.PI/2-h-e.util.degreesToRadians(t);s=f*e.util.cos(d),a=f*e.util.sin(d),A=f*e.util.cos(p),c=f*e.util.sin(p)}else{var g=l&&u?l:i;f=.7071067812*g;d=e.util.degreesToRadians(45-t);s=A=f*e.util.cos(d),a=c=f*e.util.sin(d)}return{tl:{x:n-c,y:r-A},tr:{x:n+s,y:r-a},bl:{x:n-s,y:r+a},br:{x:n+c,y:r+A}}},render:function(t,i,n,r,o){switch(r=r||{},r.cornerStyle||o.cornerStyle){case"circle":e.controlsUtils.renderCircleControl.call(this,t,i,n,r,o);break;default:e.controlsUtils.renderSquareControl.call(this,t,i,n,r,o)}}}}(e),function(){function t(t,e){var i,r,o,s,a=t.getAttribute("style"),A=t.getAttribute("offset")||0;if(A=parseFloat(A)/(/%$/.test(A)?100:1),A=A<0?0:A>1?1:A,a){var c=a.split(/\s*;\s*/);for(""===c[c.length-1]&&c.pop(),s=c.length;s--;){var l=c[s].split(/\s*:\s*/),u=l[0].trim(),h=l[1].trim();"stop-color"===u?i=h:"stop-opacity"===u&&(o=h)}}return i||(i=t.getAttribute("stop-color")||"rgb(0,0,0)"),o||(o=t.getAttribute("stop-opacity")),i=new n.Color(i),r=i.getAlpha(),o=isNaN(parseFloat(o))?1:parseFloat(o),o*=r*e,{offset:A,color:i.toRgb(),opacity:o}}function e(t){return{x1:t.getAttribute("x1")||0,y1:t.getAttribute("y1")||0,x2:t.getAttribute("x2")||"100%",y2:t.getAttribute("y2")||0}}function i(t){return{x1:t.getAttribute("fx")||t.getAttribute("cx")||"50%",y1:t.getAttribute("fy")||t.getAttribute("cy")||"50%",r1:0,x2:t.getAttribute("cx")||"50%",y2:t.getAttribute("cy")||"50%",r2:t.getAttribute("r")||"50%"}}var r=n.util.object.clone;function o(t,e,i,n){var r,o;Object.keys(e).forEach((function(t){r=e[t],"Infinity"===r?o=1:"-Infinity"===r?o=0:(o=parseFloat(e[t],10),"string"===typeof r&&/^(\d+\.\d+)%|(\d+)%$/.test(r)&&(o*=.01,"pixels"===n&&("x1"!==t&&"x2"!==t&&"r2"!==t||(o*=i.viewBoxWidth||i.width),"y1"!==t&&"y2"!==t||(o*=i.viewBoxHeight||i.height)))),e[t]=o}))}n.Gradient=n.util.createClass({offsetX:0,offsetY:0,gradientTransform:null,gradientUnits:"pixels",type:"linear",initialize:function(t){t||(t={}),t.coords||(t.coords={});var e,i=this;Object.keys(t).forEach((function(e){i[e]=t[e]})),this.id?this.id+="_"+n.Object.__uid++:this.id=n.Object.__uid++,e={x1:t.coords.x1||0,y1:t.coords.y1||0,x2:t.coords.x2||0,y2:t.coords.y2||0},"radial"===this.type&&(e.r1=t.coords.r1||0,e.r2=t.coords.r2||0),this.coords=e,this.colorStops=t.colorStops.slice()},addColorStop:function(t){for(var e in t){var i=new n.Color(t[e]);this.colorStops.push({offset:parseFloat(e),color:i.toRgb(),opacity:i.getAlpha()})}return this},toObject:function(t){var e={type:this.type,coords:this.coords,colorStops:this.colorStops,offsetX:this.offsetX,offsetY:this.offsetY,gradientUnits:this.gradientUnits,gradientTransform:this.gradientTransform?this.gradientTransform.concat():this.gradientTransform};return n.util.populateWithProperties(this,e,t),e},toSVG:function(t,e){var i,o,s,a,A=r(this.coords,!0),c=(e=e||{},r(this.colorStops,!0)),l=A.r1>A.r2,u=this.gradientTransform?this.gradientTransform.concat():n.iMatrix.concat(),h=-this.offsetX,f=-this.offsetY,d=!!e.additionalTransform,p="pixels"===this.gradientUnits?"userSpaceOnUse":"objectBoundingBox";if(c.sort((function(t,e){return t.offset-e.offset})),"objectBoundingBox"===p?(h/=t.width,f/=t.height):(h+=t.width/2,f+=t.height/2),"path"===t.type&&"percentage"!==this.gradientUnits&&(h-=t.pathOffset.x,f-=t.pathOffset.y),u[4]-=h,u[5]-=f,a='id="SVGID_'+this.id+'" gradientUnits="'+p+'"',a+=' gradientTransform="'+(d?e.additionalTransform+" ":"")+n.util.matrixToSVG(u)+'" ',"linear"===this.type?s=["<linearGradient ",a,' x1="',A.x1,'" y1="',A.y1,'" x2="',A.x2,'" y2="',A.y2,'">\n']:"radial"===this.type&&(s=["<radialGradient ",a,' cx="',l?A.x1:A.x2,'" cy="',l?A.y1:A.y2,'" r="',l?A.r1:A.r2,'" fx="',l?A.x2:A.x1,'" fy="',l?A.y2:A.y1,'">\n']),"radial"===this.type){if(l)for(c=c.concat(),c.reverse(),i=0,o=c.length;i<o;i++)c[i].offset=1-c[i].offset;var g=Math.min(A.r1,A.r2);if(g>0){var v=Math.max(A.r1,A.r2),m=g/v;for(i=0,o=c.length;i<o;i++)c[i].offset+=m*(1-c[i].offset)}}for(i=0,o=c.length;i<o;i++){var w=c[i];s.push("<stop ",'offset="',100*w.offset+"%",'" style="stop-color:',w.color,"undefined"!==typeof w.opacity?";stop-opacity: "+w.opacity:";",'"/>\n')}return s.push("linear"===this.type?"</linearGradient>\n":"</radialGradient>\n"),s.join("")},toLive:function(t){var e,i,r,o=n.util.object.clone(this.coords);if(this.type){for("linear"===this.type?e=t.createLinearGradient(o.x1,o.y1,o.x2,o.y2):"radial"===this.type&&(e=t.createRadialGradient(o.x1,o.y1,o.r1,o.x2,o.y2,o.r2)),i=0,r=this.colorStops.length;i<r;i++){var s=this.colorStops[i].color,a=this.colorStops[i].opacity,A=this.colorStops[i].offset;"undefined"!==typeof a&&(s=new n.Color(s).setAlpha(a).toRgba()),e.addColorStop(A,s)}return e}}}),n.util.object.extend(n.Gradient,{fromElement:function(r,s,a,A){var c=parseFloat(a)/(/%$/.test(a)?100:1);c=c<0?0:c>1?1:c,isNaN(c)&&(c=1);var l,u,h,f,d=r.getElementsByTagName("stop"),p="userSpaceOnUse"===r.getAttribute("gradientUnits")?"pixels":"percentage",g=r.getAttribute("gradientTransform")||"",v=[],m=0,w=0;for("linearGradient"===r.nodeName||"LINEARGRADIENT"===r.nodeName?(l="linear",u=e(r)):(l="radial",u=i(r)),h=d.length;h--;)v.push(t(d[h],c));f=n.parseTransformAttribute(g),o(s,u,A,p),"pixels"===p&&(m=-s.left,w=-s.top);var y=new n.Gradient({id:r.getAttribute("id"),type:l,coords:u,colorStops:v,gradientUnits:p,gradientTransform:f,offsetX:m,offsetY:w});return y}})}(),function(){"use strict";var t=n.util.toFixed;n.Pattern=n.util.createClass({repeat:"repeat",offsetX:0,offsetY:0,crossOrigin:"",patternTransform:null,initialize:function(t,e){if(t||(t={}),this.id=n.Object.__uid++,this.setOptions(t),!t.source||t.source&&"string"!==typeof t.source)e&&e(this);else{var i=this;this.source=n.util.createImage(),n.util.loadImage(t.source,(function(t,n){i.source=t,e&&e(i,n)}),null,this.crossOrigin)}},toObject:function(e){var i,r,o=n.Object.NUM_FRACTION_DIGITS;return"string"===typeof this.source.src?i=this.source.src:"object"===typeof this.source&&this.source.toDataURL&&(i=this.source.toDataURL()),r={type:"pattern",source:i,repeat:this.repeat,crossOrigin:this.crossOrigin,offsetX:t(this.offsetX,o),offsetY:t(this.offsetY,o),patternTransform:this.patternTransform?this.patternTransform.concat():null},n.util.populateWithProperties(this,r,e),r},toSVG:function(t){var e="function"===typeof this.source?this.source():this.source,i=e.width/t.width,n=e.height/t.height,r=this.offsetX/t.width,o=this.offsetY/t.height,s="";return"repeat-x"!==this.repeat&&"no-repeat"!==this.repeat||(n=1,o&&(n+=Math.abs(o))),"repeat-y"!==this.repeat&&"no-repeat"!==this.repeat||(i=1,r&&(i+=Math.abs(r))),e.src?s=e.src:e.toDataURL&&(s=e.toDataURL()),'<pattern id="SVGID_'+this.id+'" x="'+r+'" y="'+o+'" width="'+i+'" height="'+n+'">\n<image x="0" y="0" width="'+e.width+'" height="'+e.height+'" xlink:href="'+s+'"></image>\n</pattern>\n'},setOptions:function(t){for(var e in t)this[e]=t[e]},toLive:function(t){var e=this.source;if(!e)return"";if("undefined"!==typeof e.src){if(!e.complete)return"";if(0===e.naturalWidth||0===e.naturalHeight)return""}return t.createPattern(e,this.repeat)}})}(),function(t){"use strict";var e=t.fabric||(t.fabric={}),i=e.util.toFixed;e.Shadow?e.warn("fabric.Shadow is already defined."):(e.Shadow=e.util.createClass({color:"rgb(0,0,0)",blur:0,offsetX:0,offsetY:0,affectStroke:!1,includeDefaultValues:!0,nonScaling:!1,initialize:function(t){for(var i in"string"===typeof t&&(t=this._parseShadow(t)),t)this[i]=t[i];this.id=e.Object.__uid++},_parseShadow:function(t){var i=t.trim(),n=e.Shadow.reOffsetsAndBlur.exec(i)||[],r=i.replace(e.Shadow.reOffsetsAndBlur,"")||"rgb(0,0,0)";return{color:r.trim(),offsetX:parseInt(n[1],10)||0,offsetY:parseInt(n[2],10)||0,blur:parseInt(n[3],10)||0}},toString:function(){return[this.offsetX,this.offsetY,this.blur,this.color].join("px ")},toSVG:function(t){var n=40,r=40,o=e.Object.NUM_FRACTION_DIGITS,s=e.util.rotateVector({x:this.offsetX,y:this.offsetY},e.util.degreesToRadians(-t.angle)),a=20,A=new e.Color(this.color);return t.width&&t.height&&(n=100*i((Math.abs(s.x)+this.blur)/t.width,o)+a,r=100*i((Math.abs(s.y)+this.blur)/t.height,o)+a),t.flipX&&(s.x*=-1),t.flipY&&(s.y*=-1),'<filter id="SVGID_'+this.id+'" y="-'+r+'%" height="'+(100+2*r)+'%" x="-'+n+'%" width="'+(100+2*n)+'%" >\n\t<feGaussianBlur in="SourceAlpha" stdDeviation="'+i(this.blur?this.blur/2:0,o)+'"></feGaussianBlur>\n\t<feOffset dx="'+i(s.x,o)+'" dy="'+i(s.y,o)+'" result="oBlur" ></feOffset>\n\t<feFlood flood-color="'+A.toRgb()+'" flood-opacity="'+A.getAlpha()+'"/>\n\t<feComposite in2="oBlur" operator="in" />\n\t<feMerge>\n\t\t<feMergeNode></feMergeNode>\n\t\t<feMergeNode in="SourceGraphic"></feMergeNode>\n\t</feMerge>\n</filter>\n'},toObject:function(){if(this.includeDefaultValues)return{color:this.color,blur:this.blur,offsetX:this.offsetX,offsetY:this.offsetY,affectStroke:this.affectStroke,nonScaling:this.nonScaling};var t={},i=e.Shadow.prototype;return["color","blur","offsetX","offsetY","affectStroke","nonScaling"].forEach((function(e){this[e]!==i[e]&&(t[e]=this[e])}),this),t}}),e.Shadow.reOffsetsAndBlur=/(?:\s|^)(-?\d+(?:px)?(?:\s?|$))?(-?\d+(?:px)?(?:\s?|$))?(\d+(?:px)?)?(?:\s?|$)(?:$|\s)/)}(e),function(){"use strict";if(n.StaticCanvas)n.warn("fabric.StaticCanvas is already defined.");else{var t=n.util.object.extend,e=n.util.getElementOffset,i=n.util.removeFromArray,r=n.util.toFixed,o=n.util.transformPoint,s=n.util.invertTransform,a=n.util.getNodeCanvas,A=n.util.createCanvasElement,c=new Error("Could not initialize `canvas` element");n.StaticCanvas=n.util.createClass(n.CommonMethods,{initialize:function(t,e){e||(e={}),this.renderAndResetBound=this.renderAndReset.bind(this),this.requestRenderAllBound=this.requestRenderAll.bind(this),this._initStatic(t,e)},backgroundColor:"",backgroundImage:null,overlayColor:"",overlayImage:null,includeDefaultValues:!0,stateful:!1,renderOnAddRemove:!0,controlsAboveOverlay:!1,allowTouchScrolling:!1,imageSmoothingEnabled:!0,viewportTransform:n.iMatrix.concat(),backgroundVpt:!0,overlayVpt:!0,enableRetinaScaling:!0,vptCoords:{},skipOffscreen:!0,clipPath:void 0,_initStatic:function(t,e){var i=this.requestRenderAllBound;this._objects=[],this._createLowerCanvas(t),this._initOptions(e),this.interactive||this._initRetinaScaling(),e.overlayImage&&this.setOverlayImage(e.overlayImage,i),e.backgroundImage&&this.setBackgroundImage(e.backgroundImage,i),e.backgroundColor&&this.setBackgroundColor(e.backgroundColor,i),e.overlayColor&&this.setOverlayColor(e.overlayColor,i),this.calcOffset()},_isRetinaScaling:function(){return 1!==n.devicePixelRatio&&this.enableRetinaScaling},getRetinaScaling:function(){return this._isRetinaScaling()?n.devicePixelRatio:1},_initRetinaScaling:function(){if(this._isRetinaScaling()){var t=n.devicePixelRatio;this.__initRetinaScaling(t,this.lowerCanvasEl,this.contextContainer),this.upperCanvasEl&&this.__initRetinaScaling(t,this.upperCanvasEl,this.contextTop)}},__initRetinaScaling:function(t,e,i){e.setAttribute("width",this.width*t),e.setAttribute("height",this.height*t),i.scale(t,t)},calcOffset:function(){return this._offset=e(this.lowerCanvasEl),this},setOverlayImage:function(t,e,i){return this.__setBgOverlayImage("overlayImage",t,e,i)},setBackgroundImage:function(t,e,i){return this.__setBgOverlayImage("backgroundImage",t,e,i)},setOverlayColor:function(t,e){return this.__setBgOverlayColor("overlayColor",t,e)},setBackgroundColor:function(t,e){return this.__setBgOverlayColor("backgroundColor",t,e)},__setBgOverlayImage:function(t,e,i,r){return"string"===typeof e?n.util.loadImage(e,(function(e,o){if(e){var s=new n.Image(e,r);this[t]=s,s.canvas=this}i&&i(e,o)}),this,r&&r.crossOrigin):(r&&e.setOptions(r),this[t]=e,e&&(e.canvas=this),i&&i(e,!1)),this},__setBgOverlayColor:function(t,e,i){return this[t]=e,this._initGradient(e,t),this._initPattern(e,t,i),this},_createCanvasElement:function(){var t=A();if(!t)throw c;if(t.style||(t.style={}),"undefined"===typeof t.getContext)throw c;return t},_initOptions:function(t){var e=this.lowerCanvasEl;this._setOptions(t),this.width=this.width||parseInt(e.width,10)||0,this.height=this.height||parseInt(e.height,10)||0,this.lowerCanvasEl.style&&(e.width=this.width,e.height=this.height,e.style.width=this.width+"px",e.style.height=this.height+"px",this.viewportTransform=this.viewportTransform.slice())},_createLowerCanvas:function(t){t&&t.getContext?this.lowerCanvasEl=t:this.lowerCanvasEl=n.util.getById(t)||this._createCanvasElement(),n.util.addClass(this.lowerCanvasEl,"lower-canvas"),this.interactive&&this._applyCanvasStyle(this.lowerCanvasEl),this.contextContainer=this.lowerCanvasEl.getContext("2d")},getWidth:function(){return this.width},getHeight:function(){return this.height},setWidth:function(t,e){return this.setDimensions({width:t},e)},setHeight:function(t,e){return this.setDimensions({height:t},e)},setDimensions:function(t,e){var i;for(var n in e=e||{},t)i=t[n],e.cssOnly||(this._setBackstoreDimension(n,t[n]),i+="px",this.hasLostContext=!0),e.backstoreOnly||this._setCssDimension(n,i);return this._isCurrentlyDrawing&&this.freeDrawingBrush&&this.freeDrawingBrush._setBrushStyles(),this._initRetinaScaling(),this.calcOffset(),e.cssOnly||this.requestRenderAll(),this},_setBackstoreDimension:function(t,e){return this.lowerCanvasEl[t]=e,this.upperCanvasEl&&(this.upperCanvasEl[t]=e),this.cacheCanvasEl&&(this.cacheCanvasEl[t]=e),this[t]=e,this},_setCssDimension:function(t,e){return this.lowerCanvasEl.style[t]=e,this.upperCanvasEl&&(this.upperCanvasEl.style[t]=e),this.wrapperEl&&(this.wrapperEl.style[t]=e),this},getZoom:function(){return this.viewportTransform[0]},setViewportTransform:function(t){var e,i,n,r=this._activeObject,o=this.backgroundImage,s=this.overlayImage;for(this.viewportTransform=t,i=0,n=this._objects.length;i<n;i++)e=this._objects[i],e.group||e.setCoords(!0);return r&&r.setCoords(),o&&o.setCoords(!0),s&&s.setCoords(!0),this.calcViewportBoundaries(),this.renderOnAddRemove&&this.requestRenderAll(),this},zoomToPoint:function(t,e){var i=t,n=this.viewportTransform.slice(0);t=o(t,s(this.viewportTransform)),n[0]=e,n[3]=e;var r=o(t,n);return n[4]+=i.x-r.x,n[5]+=i.y-r.y,this.setViewportTransform(n)},setZoom:function(t){return this.zoomToPoint(new n.Point(0,0),t),this},absolutePan:function(t){var e=this.viewportTransform.slice(0);return e[4]=-t.x,e[5]=-t.y,this.setViewportTransform(e)},relativePan:function(t){return this.absolutePan(new n.Point(-t.x-this.viewportTransform[4],-t.y-this.viewportTransform[5]))},getElement:function(){return this.lowerCanvasEl},_onObjectAdded:function(t){this.stateful&&t.setupState(),t._set("canvas",this),t.setCoords(),this.fire("object:added",{target:t}),t.fire("added")},_onObjectRemoved:function(t){this.fire("object:removed",{target:t}),t.fire("removed"),delete t.canvas},clearContext:function(t){return t.clearRect(0,0,this.width,this.height),this},getContext:function(){return this.contextContainer},clear:function(){return this._objects.length=0,this.backgroundImage=null,this.overlayImage=null,this.backgroundColor="",this.overlayColor="",this._hasITextHandlers&&(this.off("mouse:up",this._mouseUpITextHandler),this._iTextInstances=null,this._hasITextHandlers=!1),this.clearContext(this.contextContainer),this.fire("canvas:cleared"),this.renderOnAddRemove&&this.requestRenderAll(),this},renderAll:function(){var t=this.contextContainer;return this.renderCanvas(t,this._objects),this},renderAndReset:function(){this.isRendering=0,this.renderAll()},requestRenderAll:function(){return this.isRendering||(this.isRendering=n.util.requestAnimFrame(this.renderAndResetBound)),this},calcViewportBoundaries:function(){var t={},e=this.width,i=this.height,r=s(this.viewportTransform);return t.tl=o({x:0,y:0},r),t.br=o({x:e,y:i},r),t.tr=new n.Point(t.br.x,t.tl.y),t.bl=new n.Point(t.tl.x,t.br.y),this.vptCoords=t,t},cancelRequestedRender:function(){this.isRendering&&(n.util.cancelAnimFrame(this.isRendering),this.isRendering=0)},renderCanvas:function(t,e){var i=this.viewportTransform,r=this.clipPath;this.cancelRequestedRender(),this.calcViewportBoundaries(),this.clearContext(t),n.util.setImageSmoothing(t,this.imageSmoothingEnabled),this.fire("before:render",{ctx:t}),this._renderBackground(t),t.save(),t.transform(i[0],i[1],i[2],i[3],i[4],i[5]),this._renderObjects(t,e),t.restore(),!this.controlsAboveOverlay&&this.interactive&&this.drawControls(t),r&&(r.canvas=this,r.shouldCache(),r._transformDone=!0,r.renderCache({forClipping:!0}),this.drawClipPathOnCanvas(t)),this._renderOverlay(t),this.controlsAboveOverlay&&this.interactive&&this.drawControls(t),this.fire("after:render",{ctx:t})},drawClipPathOnCanvas:function(t){var e=this.viewportTransform,i=this.clipPath;t.save(),t.transform(e[0],e[1],e[2],e[3],e[4],e[5]),t.globalCompositeOperation="destination-in",i.transform(t),t.scale(1/i.zoomX,1/i.zoomY),t.drawImage(i._cacheCanvas,-i.cacheTranslationX,-i.cacheTranslationY),t.restore()},_renderObjects:function(t,e){var i,n;for(i=0,n=e.length;i<n;++i)e[i]&&e[i].render(t)},_renderBackgroundOrOverlay:function(t,e){var i=this[e+"Color"],n=this[e+"Image"],r=this.viewportTransform,o=this[e+"Vpt"];if(i||n){if(i){t.save(),t.beginPath(),t.moveTo(0,0),t.lineTo(this.width,0),t.lineTo(this.width,this.height),t.lineTo(0,this.height),t.closePath(),t.fillStyle=i.toLive?i.toLive(t,this):i,o&&t.transform(r[0],r[1],r[2],r[3],r[4],r[5]),t.transform(1,0,0,1,i.offsetX||0,i.offsetY||0);var s=i.gradientTransform||i.patternTransform;s&&t.transform(s[0],s[1],s[2],s[3],s[4],s[5]),t.fill(),t.restore()}n&&(t.save(),o&&t.transform(r[0],r[1],r[2],r[3],r[4],r[5]),n.render(t),t.restore())}},_renderBackground:function(t){this._renderBackgroundOrOverlay(t,"background")},_renderOverlay:function(t){this._renderBackgroundOrOverlay(t,"overlay")},getCenter:function(){return{top:this.height/2,left:this.width/2}},centerObjectH:function(t){return this._centerObject(t,new n.Point(this.getCenter().left,t.getCenterPoint().y))},centerObjectV:function(t){return this._centerObject(t,new n.Point(t.getCenterPoint().x,this.getCenter().top))},centerObject:function(t){var e=this.getCenter();return this._centerObject(t,new n.Point(e.left,e.top))},viewportCenterObject:function(t){var e=this.getVpCenter();return this._centerObject(t,e)},viewportCenterObjectH:function(t){var e=this.getVpCenter();return this._centerObject(t,new n.Point(e.x,t.getCenterPoint().y)),this},viewportCenterObjectV:function(t){var e=this.getVpCenter();return this._centerObject(t,new n.Point(t.getCenterPoint().x,e.y))},getVpCenter:function(){var t=this.getCenter(),e=s(this.viewportTransform);return o({x:t.left,y:t.top},e)},_centerObject:function(t,e){return t.setPositionByOrigin(e,"center","center"),t.setCoords(),this.renderOnAddRemove&&this.requestRenderAll(),this},toDatalessJSON:function(t){return this.toDatalessObject(t)},toObject:function(t){return this._toObjectMethod("toObject",t)},toDatalessObject:function(t){return this._toObjectMethod("toDatalessObject",t)},_toObjectMethod:function(e,i){var r=this.clipPath,o={version:n.version,objects:this._toObjects(e,i)};return r&&(o.clipPath=this._toObject(this.clipPath,e,i)),t(o,this.__serializeBgOverlay(e,i)),n.util.populateWithProperties(this,o,i),o},_toObjects:function(t,e){return this._objects.filter((function(t){return!t.excludeFromExport})).map((function(i){return this._toObject(i,t,e)}),this)},_toObject:function(t,e,i){var n;this.includeDefaultValues||(n=t.includeDefaultValues,t.includeDefaultValues=!1);var r=t[e](i);return this.includeDefaultValues||(t.includeDefaultValues=n),r},__serializeBgOverlay:function(t,e){var i={},n=this.backgroundImage,r=this.overlayImage;return this.backgroundColor&&(i.background=this.backgroundColor.toObject?this.backgroundColor.toObject(e):this.backgroundColor),this.overlayColor&&(i.overlay=this.overlayColor.toObject?this.overlayColor.toObject(e):this.overlayColor),n&&!n.excludeFromExport&&(i.backgroundImage=this._toObject(n,t,e)),r&&!r.excludeFromExport&&(i.overlayImage=this._toObject(r,t,e)),i},svgViewportTransformation:!0,toSVG:function(t,e){t||(t={}),t.reviver=e;var i=[];return this._setSVGPreamble(i,t),this._setSVGHeader(i,t),this.clipPath&&i.push('<g clip-path="url(#'+this.clipPath.clipPathId+')" >\n'),this._setSVGBgOverlayColor(i,"background"),this._setSVGBgOverlayImage(i,"backgroundImage",e),this._setSVGObjects(i,e),this.clipPath&&i.push("</g>\n"),this._setSVGBgOverlayColor(i,"overlay"),this._setSVGBgOverlayImage(i,"overlayImage",e),i.push("</svg>"),i.join("")},_setSVGPreamble:function(t,e){e.suppressPreamble||t.push('<?xml version="1.0" encoding="',e.encoding||"UTF-8",'" standalone="no" ?>\n','<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" ','"http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">\n')},_setSVGHeader:function(t,e){var i,o=e.width||this.width,s=e.height||this.height,a='viewBox="0 0 '+this.width+" "+this.height+'" ',A=n.Object.NUM_FRACTION_DIGITS;e.viewBox?a='viewBox="'+e.viewBox.x+" "+e.viewBox.y+" "+e.viewBox.width+" "+e.viewBox.height+'" ':this.svgViewportTransformation&&(i=this.viewportTransform,a='viewBox="'+r(-i[4]/i[0],A)+" "+r(-i[5]/i[3],A)+" "+r(this.width/i[0],A)+" "+r(this.height/i[3],A)+'" '),t.push("<svg ",'xmlns="http://www.w3.org/2000/svg" ','xmlns:xlink="http://www.w3.org/1999/xlink" ','version="1.1" ','width="',o,'" ','height="',s,'" ',a,'xml:space="preserve">\n',"<desc>Created with Fabric.js ",n.version,"</desc>\n","<defs>\n",this.createSVGFontFacesMarkup(),this.createSVGRefElementsMarkup(),this.createSVGClipPathMarkup(e),"</defs>\n")},createSVGClipPathMarkup:function(t){var e=this.clipPath;return e?(e.clipPathId="CLIPPATH_"+n.Object.__uid++,'<clipPath id="'+e.clipPathId+'" >\n'+this.clipPath.toClipPathSVG(t.reviver)+"</clipPath>\n"):""},createSVGRefElementsMarkup:function(){var t=this,e=["background","overlay"].map((function(e){var i=t[e+"Color"];if(i&&i.toLive){var r=t[e+"Vpt"],o=t.viewportTransform,s={width:t.width/(r?o[0]:1),height:t.height/(r?o[3]:1)};return i.toSVG(s,{additionalTransform:r?n.util.matrixToSVG(o):""})}}));return e.join("")},createSVGFontFacesMarkup:function(){var t,e,i,r,o,s,a,A,c,l="",u={},h=n.fontPaths,f=[];for(this._objects.forEach((function t(e){f.push(e),e._objects&&e._objects.forEach(t)})),A=0,c=f.length;A<c;A++)if(t=f[A],e=t.fontFamily,-1!==t.type.indexOf("text")&&!u[e]&&h[e]&&(u[e]=!0,t.styles))for(o in i=t.styles,i)for(a in r=i[o],r)s=r[a],e=s.fontFamily,!u[e]&&h[e]&&(u[e]=!0);for(var d in u)l+=["\t\t@font-face {\n","\t\t\tfont-family: '",d,"';\n","\t\t\tsrc: url('",h[d],"');\n","\t\t}\n"].join("");return l&&(l=['\t<style type="text/css">',"<![CDATA[\n",l,"]]>","</style>\n"].join("")),l},_setSVGObjects:function(t,e){var i,n,r,o=this._objects;for(n=0,r=o.length;n<r;n++)i=o[n],i.excludeFromExport||this._setSVGObject(t,i,e)},_setSVGObject:function(t,e,i){t.push(e.toSVG(i))},_setSVGBgOverlayImage:function(t,e,i){this[e]&&!this[e].excludeFromExport&&this[e].toSVG&&t.push(this[e].toSVG(i))},_setSVGBgOverlayColor:function(t,e){var i=this[e+"Color"],r=this.viewportTransform,o=this.width,s=this.height;if(i)if(i.toLive){var a=i.repeat,A=n.util.invertTransform(r),c=this[e+"Vpt"],l=c?n.util.matrixToSVG(A):"";t.push('<rect transform="'+l+" translate(",o/2,",",s/2,')"',' x="',i.offsetX-o/2,'" y="',i.offsetY-s/2,'" ','width="',"repeat-y"===a||"no-repeat"===a?i.source.width:o,'" height="',"repeat-x"===a||"no-repeat"===a?i.source.height:s,'" fill="url(#SVGID_'+i.id+')"',"></rect>\n")}else t.push('<rect x="0" y="0" width="100%" height="100%" ','fill="',i,'"',"></rect>\n")},sendToBack:function(t){if(!t)return this;var e,n,r,o=this._activeObject;if(t===o&&"activeSelection"===t.type)for(r=o._objects,e=r.length;e--;)n=r[e],i(this._objects,n),this._objects.unshift(n);else i(this._objects,t),this._objects.unshift(t);return this.renderOnAddRemove&&this.requestRenderAll(),this},bringToFront:function(t){if(!t)return this;var e,n,r,o=this._activeObject;if(t===o&&"activeSelection"===t.type)for(r=o._objects,e=0;e<r.length;e++)n=r[e],i(this._objects,n),this._objects.push(n);else i(this._objects,t),this._objects.push(t);return this.renderOnAddRemove&&this.requestRenderAll(),this},sendBackwards:function(t,e){if(!t)return this;var n,r,o,s,a,A=this._activeObject,c=0;if(t===A&&"activeSelection"===t.type)for(a=A._objects,n=0;n<a.length;n++)r=a[n],o=this._objects.indexOf(r),o>0+c&&(s=o-1,i(this._objects,r),this._objects.splice(s,0,r)),c++;else o=this._objects.indexOf(t),0!==o&&(s=this._findNewLowerIndex(t,o,e),i(this._objects,t),this._objects.splice(s,0,t));return this.renderOnAddRemove&&this.requestRenderAll(),this},_findNewLowerIndex:function(t,e,i){var n,r;if(i)for(n=e,r=e-1;r>=0;--r){var o=t.intersectsWithObject(this._objects[r])||t.isContainedWithinObject(this._objects[r])||this._objects[r].isContainedWithinObject(t);if(o){n=r;break}}else n=e-1;return n},bringForward:function(t,e){if(!t)return this;var n,r,o,s,a,A=this._activeObject,c=0;if(t===A&&"activeSelection"===t.type)for(a=A._objects,n=a.length;n--;)r=a[n],o=this._objects.indexOf(r),o<this._objects.length-1-c&&(s=o+1,i(this._objects,r),this._objects.splice(s,0,r)),c++;else o=this._objects.indexOf(t),o!==this._objects.length-1&&(s=this._findNewUpperIndex(t,o,e),i(this._objects,t),this._objects.splice(s,0,t));return this.renderOnAddRemove&&this.requestRenderAll(),this},_findNewUpperIndex:function(t,e,i){var n,r,o;if(i)for(n=e,r=e+1,o=this._objects.length;r<o;++r){var s=t.intersectsWithObject(this._objects[r])||t.isContainedWithinObject(this._objects[r])||this._objects[r].isContainedWithinObject(t);if(s){n=r;break}}else n=e+1;return n},moveTo:function(t,e){return i(this._objects,t),this._objects.splice(e,0,t),this.renderOnAddRemove&&this.requestRenderAll()},dispose:function(){return this.isRendering&&(n.util.cancelAnimFrame(this.isRendering),this.isRendering=0),this.forEachObject((function(t){t.dispose&&t.dispose()})),this._objects=[],this.backgroundImage&&this.backgroundImage.dispose&&this.backgroundImage.dispose(),this.backgroundImage=null,this.overlayImage&&this.overlayImage.dispose&&this.overlayImage.dispose(),this.overlayImage=null,this._iTextInstances=null,this.contextContainer=null,n.util.cleanUpJsdomNode(this.lowerCanvasEl),this.lowerCanvasEl=void 0,this},toString:function(){return"#<fabric.Canvas ("+this.complexity()+"): { objects: "+this._objects.length+" }>"}}),t(n.StaticCanvas.prototype,n.Observable),t(n.StaticCanvas.prototype,n.Collection),t(n.StaticCanvas.prototype,n.DataURLExporter),t(n.StaticCanvas,{EMPTY_JSON:'{"objects": [], "background": "white"}',supports:function(t){var e=A();if(!e||!e.getContext)return null;var i=e.getContext("2d");if(!i)return null;switch(t){case"setLineDash":return"undefined"!==typeof i.setLineDash;default:return null}}}),n.StaticCanvas.prototype.toJSON=n.StaticCanvas.prototype.toObject,n.isLikelyNode&&(n.StaticCanvas.prototype.createPNGStream=function(){var t=a(this.lowerCanvasEl);return t&&t.createPNGStream()},n.StaticCanvas.prototype.createJPEGStream=function(t){var e=a(this.lowerCanvasEl);return e&&e.createJPEGStream(t)})}}(),n.BaseBrush=n.util.createClass({color:"rgb(0, 0, 0)",width:1,shadow:null,strokeLineCap:"round",strokeLineJoin:"round",strokeMiterLimit:10,strokeDashArray:null,limitedToCanvasSize:!1,_setBrushStyles:function(){var t=this.canvas.contextTop;t.strokeStyle=this.color,t.lineWidth=this.width,t.lineCap=this.strokeLineCap,t.miterLimit=this.strokeMiterLimit,t.lineJoin=this.strokeLineJoin,n.StaticCanvas.supports("setLineDash")&&t.setLineDash(this.strokeDashArray||[])},_saveAndTransform:function(t){var e=this.canvas.viewportTransform;t.save(),t.transform(e[0],e[1],e[2],e[3],e[4],e[5])},_setShadow:function(){if(this.shadow){var t=this.canvas,e=this.shadow,i=t.contextTop,r=t.getZoom();t&&t._isRetinaScaling()&&(r*=n.devicePixelRatio),i.shadowColor=e.color,i.shadowBlur=e.blur*r,i.shadowOffsetX=e.offsetX*r,i.shadowOffsetY=e.offsetY*r}},needsFullRender:function(){var t=new n.Color(this.color);return t.getAlpha()<1||!!this.shadow},_resetShadow:function(){var t=this.canvas.contextTop;t.shadowColor="",t.shadowBlur=t.shadowOffsetX=t.shadowOffsetY=0},_isOutSideCanvas:function(t){return t.x<0||t.x>this.canvas.getWidth()||t.y<0||t.y>this.canvas.getHeight()}}),function(){n.PencilBrush=n.util.createClass(n.BaseBrush,{decimate:.4,initialize:function(t){this.canvas=t,this._points=[]},_drawSegment:function(t,e,i){var n=e.midPointFrom(i);return t.quadraticCurveTo(e.x,e.y,n.x,n.y),n},onMouseDown:function(t,e){this.canvas._isMainEvent(e.e)&&(this._prepareForDrawing(t),this._captureDrawingPath(t),this._render())},onMouseMove:function(t,e){if(this.canvas._isMainEvent(e.e)&&(!0!==this.limitedToCanvasSize||!this._isOutSideCanvas(t))&&this._captureDrawingPath(t)&&this._points.length>1)if(this.needsFullRender())this.canvas.clearContext(this.canvas.contextTop),this._render();else{var i=this._points,n=i.length,r=this.canvas.contextTop;this._saveAndTransform(r),this.oldEnd&&(r.beginPath(),r.moveTo(this.oldEnd.x,this.oldEnd.y)),this.oldEnd=this._drawSegment(r,i[n-2],i[n-1],!0),r.stroke(),r.restore()}},onMouseUp:function(t){return!this.canvas._isMainEvent(t.e)||(this.oldEnd=void 0,this._finalizeAndAddPath(),!1)},_prepareForDrawing:function(t){var e=new n.Point(t.x,t.y);this._reset(),this._addPoint(e),this.canvas.contextTop.moveTo(e.x,e.y)},_addPoint:function(t){return!(this._points.length>1&&t.eq(this._points[this._points.length-1]))&&(this._points.push(t),!0)},_reset:function(){this._points=[],this._setBrushStyles(),this._setShadow()},_captureDrawingPath:function(t){var e=new n.Point(t.x,t.y);return this._addPoint(e)},_render:function(){var t,e,i=this.canvas.contextTop,r=this._points[0],o=this._points[1];if(this._saveAndTransform(i),i.beginPath(),2===this._points.length&&r.x===o.x&&r.y===o.y){var s=this.width/1e3;r=new n.Point(r.x,r.y),o=new n.Point(o.x,o.y),r.x-=s,o.x+=s}for(i.moveTo(r.x,r.y),t=1,e=this._points.length;t<e;t++)this._drawSegment(i,r,o),r=this._points[t],o=this._points[t+1];i.lineTo(r.x,r.y),i.stroke(),i.restore()},convertPointsToSVGPath:function(t){var e,i=[],r=this.width/1e3,o=new n.Point(t[0].x,t[0].y),s=new n.Point(t[1].x,t[1].y),a=t.length,A=1,c=0,l=a>2;for(l&&(A=t[2].x<s.x?-1:t[2].x===s.x?0:1,c=t[2].y<s.y?-1:t[2].y===s.y?0:1),i.push("M ",o.x-A*r," ",o.y-c*r," "),e=1;e<a;e++){if(!o.eq(s)){var u=o.midPointFrom(s);i.push("Q ",o.x," ",o.y," ",u.x," ",u.y," ")}o=t[e],e+1<t.length&&(s=t[e+1])}return l&&(A=o.x>t[e-2].x?1:o.x===t[e-2].x?0:-1,c=o.y>t[e-2].y?1:o.y===t[e-2].y?0:-1),i.push("L ",o.x+A*r," ",o.y+c*r),i},createPath:function(t){var e=new n.Path(t,{fill:null,stroke:this.color,strokeWidth:this.width,strokeLineCap:this.strokeLineCap,strokeMiterLimit:this.strokeMiterLimit,strokeLineJoin:this.strokeLineJoin,strokeDashArray:this.strokeDashArray});return this.shadow&&(this.shadow.affectStroke=!0,e.shadow=new n.Shadow(this.shadow)),e},decimatePoints:function(t,e){if(t.length<=2)return t;var i,r,o=this.canvas.getZoom(),s=Math.pow(e/o,2),a=t.length-1,A=t[0],c=[A];for(i=1;i<a;i++)r=Math.pow(A.x-t[i].x,2)+Math.pow(A.y-t[i].y,2),r>=s&&(A=t[i],c.push(A));return 1===c.length&&c.push(new n.Point(c[0].x,c[0].y)),c},_finalizeAndAddPath:function(){var t=this.canvas.contextTop;t.closePath(),this.decimate&&(this._points=this.decimatePoints(this._points,this.decimate));var e=this.convertPointsToSVGPath(this._points).join("");if("M 0 0 Q 0 0 0 0 L 0 0"!==e){var i=this.createPath(e);this.canvas.clearContext(this.canvas.contextTop),this.canvas.fire("before:path:created",{path:i}),this.canvas.add(i),this.canvas.requestRenderAll(),i.setCoords(),this._resetShadow(),this.canvas.fire("path:created",{path:i})}else this.canvas.requestRenderAll()}})}(),n.CircleBrush=n.util.createClass(n.BaseBrush,{width:10,initialize:function(t){this.canvas=t,this.points=[]},drawDot:function(t){var e=this.addPoint(t),i=this.canvas.contextTop;this._saveAndTransform(i),this.dot(i,e),i.restore()},dot:function(t,e){t.fillStyle=e.fill,t.beginPath(),t.arc(e.x,e.y,e.radius,0,2*Math.PI,!1),t.closePath(),t.fill()},onMouseDown:function(t){this.points.length=0,this.canvas.clearContext(this.canvas.contextTop),this._setShadow(),this.drawDot(t)},_render:function(){var t,e,i=this.canvas.contextTop,n=this.points;for(this._saveAndTransform(i),t=0,e=n.length;t<e;t++)this.dot(i,n[t]);i.restore()},onMouseMove:function(t){!0===this.limitedToCanvasSize&&this._isOutSideCanvas(t)||(this.needsFullRender()?(this.canvas.clearContext(this.canvas.contextTop),this.addPoint(t),this._render()):this.drawDot(t))},onMouseUp:function(){var t,e,i=this.canvas.renderOnAddRemove;this.canvas.renderOnAddRemove=!1;var r=[];for(t=0,e=this.points.length;t<e;t++){var o=this.points[t],s=new n.Circle({radius:o.radius,left:o.x,top:o.y,originX:"center",originY:"center",fill:o.fill});this.shadow&&(s.shadow=new n.Shadow(this.shadow)),r.push(s)}var a=new n.Group(r);a.canvas=this.canvas,this.canvas.fire("before:path:created",{path:a}),this.canvas.add(a),this.canvas.fire("path:created",{path:a}),this.canvas.clearContext(this.canvas.contextTop),this._resetShadow(),this.canvas.renderOnAddRemove=i,this.canvas.requestRenderAll()},addPoint:function(t){var e=new n.Point(t.x,t.y),i=n.util.getRandomInt(Math.max(0,this.width-20),this.width+20)/2,r=new n.Color(this.color).setAlpha(n.util.getRandomInt(0,100)/100).toRgba();return e.radius=i,e.fill=r,this.points.push(e),e}}),n.SprayBrush=n.util.createClass(n.BaseBrush,{width:10,density:20,dotWidth:1,dotWidthVariance:1,randomOpacity:!1,optimizeOverlapping:!0,initialize:function(t){this.canvas=t,this.sprayChunks=[]},onMouseDown:function(t){this.sprayChunks.length=0,this.canvas.clearContext(this.canvas.contextTop),this._setShadow(),this.addSprayChunk(t),this.render(this.sprayChunkPoints)},onMouseMove:function(t){!0===this.limitedToCanvasSize&&this._isOutSideCanvas(t)||(this.addSprayChunk(t),this.render(this.sprayChunkPoints))},onMouseUp:function(){var t=this.canvas.renderOnAddRemove;this.canvas.renderOnAddRemove=!1;for(var e=[],i=0,r=this.sprayChunks.length;i<r;i++)for(var o=this.sprayChunks[i],s=0,a=o.length;s<a;s++){var A=new n.Rect({width:o[s].width,height:o[s].width,left:o[s].x+1,top:o[s].y+1,originX:"center",originY:"center",fill:this.color});e.push(A)}this.optimizeOverlapping&&(e=this._getOptimizedRects(e));var c=new n.Group(e);this.shadow&&c.set("shadow",new n.Shadow(this.shadow)),this.canvas.fire("before:path:created",{path:c}),this.canvas.add(c),this.canvas.fire("path:created",{path:c}),this.canvas.clearContext(this.canvas.contextTop),this._resetShadow(),this.canvas.renderOnAddRemove=t,this.canvas.requestRenderAll()},_getOptimizedRects:function(t){var e,i,n,r={};for(i=0,n=t.length;i<n;i++)e=t[i].left+""+t[i].top,r[e]||(r[e]=t[i]);var o=[];for(e in r)o.push(r[e]);return o},render:function(t){var e,i,n=this.canvas.contextTop;for(n.fillStyle=this.color,this._saveAndTransform(n),e=0,i=t.length;e<i;e++){var r=t[e];"undefined"!==typeof r.opacity&&(n.globalAlpha=r.opacity),n.fillRect(r.x,r.y,r.width,r.width)}n.restore()},_render:function(){var t,e,i=this.canvas.contextTop;for(i.fillStyle=this.color,this._saveAndTransform(i),t=0,e=this.sprayChunks.length;t<e;t++)this.render(this.sprayChunks[t]);i.restore()},addSprayChunk:function(t){this.sprayChunkPoints=[];var e,i,r,o,s=this.width/2;for(o=0;o<this.density;o++){e=n.util.getRandomInt(t.x-s,t.x+s),i=n.util.getRandomInt(t.y-s,t.y+s),r=this.dotWidthVariance?n.util.getRandomInt(Math.max(1,this.dotWidth-this.dotWidthVariance),this.dotWidth+this.dotWidthVariance):this.dotWidth;var a=new n.Point(e,i);a.width=r,this.randomOpacity&&(a.opacity=n.util.getRandomInt(0,100)/100),this.sprayChunkPoints.push(a)}this.sprayChunks.push(this.sprayChunkPoints)}}),n.PatternBrush=n.util.createClass(n.PencilBrush,{getPatternSrc:function(){var t=20,e=5,i=n.util.createCanvasElement(),r=i.getContext("2d");return i.width=i.height=t+e,r.fillStyle=this.color,r.beginPath(),r.arc(t/2,t/2,t/2,0,2*Math.PI,!1),r.closePath(),r.fill(),i},getPatternSrcFunction:function(){return String(this.getPatternSrc).replace("this.color",'"'+this.color+'"')},getPattern:function(){return this.canvas.contextTop.createPattern(this.source||this.getPatternSrc(),"repeat")},_setBrushStyles:function(){this.callSuper("_setBrushStyles"),this.canvas.contextTop.strokeStyle=this.getPattern()},createPath:function(t){var e=this.callSuper("createPath",t),i=e._getLeftTopCoords().scalarAdd(e.strokeWidth/2);return e.stroke=new n.Pattern({source:this.source||this.getPatternSrcFunction(),offsetX:-i.x,offsetY:-i.y}),e}}),function(){var t=n.util.getPointer,e=n.util.degreesToRadians,i=Math.abs,r=n.StaticCanvas.supports("setLineDash"),o=n.util.isTouchEvent,s=.5;for(var a in n.Canvas=n.util.createClass(n.StaticCanvas,{initialize:function(t,e){e||(e={}),this.renderAndResetBound=this.renderAndReset.bind(this),this.requestRenderAllBound=this.requestRenderAll.bind(this),this._initStatic(t,e),this._initInteractive(),this._createCacheCanvas()},uniformScaling:!0,uniScaleKey:"shiftKey",centeredScaling:!1,centeredRotation:!1,centeredKey:"altKey",altActionKey:"shiftKey",interactive:!0,selection:!0,selectionKey:"shiftKey",altSelectionKey:null,selectionColor:"rgba(100, 100, 255, 0.3)",selectionDashArray:[],selectionBorderColor:"rgba(255, 255, 255, 0.3)",selectionLineWidth:1,selectionFullyContained:!1,hoverCursor:"move",moveCursor:"move",defaultCursor:"default",freeDrawingCursor:"crosshair",rotationCursor:"crosshair",notAllowedCursor:"not-allowed",containerClass:"canvas-container",perPixelTargetFind:!1,targetFindTolerance:0,skipTargetFind:!1,isDrawingMode:!1,preserveObjectStacking:!1,snapAngle:0,snapThreshold:null,stopContextMenu:!1,fireRightClick:!1,fireMiddleClick:!1,targets:[],_hoveredTarget:null,_hoveredTargets:[],_initInteractive:function(){this._currentTransform=null,this._groupSelector=null,this._initWrapperElement(),this._createUpperCanvas(),this._initEventListeners(),this._initRetinaScaling(),this.freeDrawingBrush=n.PencilBrush&&new n.PencilBrush(this),this.calcOffset()},_chooseObjectsToRender:function(){var t,e,i,n=this.getActiveObjects();if(n.length>0&&!this.preserveObjectStacking){e=[],i=[];for(var r=0,o=this._objects.length;r<o;r++)t=this._objects[r],-1===n.indexOf(t)?e.push(t):i.push(t);n.length>1&&(this._activeObject._objects=i),e.push.apply(e,i)}else e=this._objects;return e},renderAll:function(){!this.contextTopDirty||this._groupSelector||this.isDrawingMode||(this.clearContext(this.contextTop),this.contextTopDirty=!1),this.hasLostContext&&this.renderTopLayer(this.contextTop);var t=this.contextContainer;return this.renderCanvas(t,this._chooseObjectsToRender()),this},renderTopLayer:function(t){t.save(),this.isDrawingMode&&this._isCurrentlyDrawing&&(this.freeDrawingBrush&&this.freeDrawingBrush._render(),this.contextTopDirty=!0),this.selection&&this._groupSelector&&(this._drawSelection(t),this.contextTopDirty=!0),t.restore()},renderTop:function(){var t=this.contextTop;return this.clearContext(t),this.renderTopLayer(t),this.fire("after:render"),this},_normalizePointer:function(t,e){var i=t.calcTransformMatrix(),r=n.util.invertTransform(i),o=this.restorePointerVpt(e);return n.util.transformPoint(o,r)},isTargetTransparent:function(t,e,i){if(t.shouldCache()&&t._cacheCanvas&&t!==this._activeObject){var r=this._normalizePointer(t,{x:e,y:i}),o=Math.max(t.cacheTranslationX+r.x*t.zoomX,0),s=Math.max(t.cacheTranslationY+r.y*t.zoomY,0),a=n.util.isTransparent(t._cacheContext,Math.round(o),Math.round(s),this.targetFindTolerance);return a}var A=this.contextCache,c=t.selectionBackgroundColor,l=this.viewportTransform;t.selectionBackgroundColor="",this.clearContext(A),A.save(),A.transform(l[0],l[1],l[2],l[3],l[4],l[5]),t.render(A),A.restore(),t.selectionBackgroundColor=c;a=n.util.isTransparent(A,e,i,this.targetFindTolerance);return a},_isSelectionKeyPressed:function(t){var e=!1;return e="[object Array]"===Object.prototype.toString.call(this.selectionKey)?!!this.selectionKey.find((function(e){return!0===t[e]})):t[this.selectionKey],e},_shouldClearSelection:function(t,e){var i=this.getActiveObjects(),n=this._activeObject;return!e||e&&n&&i.length>1&&-1===i.indexOf(e)&&n!==e&&!this._isSelectionKeyPressed(t)||e&&!e.evented||e&&!e.selectable&&n&&n!==e},_shouldCenterTransform:function(t,e,i){var n;if(t)return"scale"===e||"scaleX"===e||"scaleY"===e||"resizing"===e?n=this.centeredScaling||t.centeredScaling:"rotate"===e&&(n=this.centeredRotation||t.centeredRotation),n?!i:i},_getOriginFromCorner:function(t,e){var i={x:t.originX,y:t.originY};return"ml"===e||"tl"===e||"bl"===e?i.x="right":"mr"!==e&&"tr"!==e&&"br"!==e||(i.x="left"),"tl"===e||"mt"===e||"tr"===e?i.y="bottom":"bl"!==e&&"mb"!==e&&"br"!==e||(i.y="top"),i},_getActionFromCorner:function(t,e,i,n){if(!e||!t)return"drag";var r=n.controls[e];return r.getActionName(i,r,n)},_setupCurrentTransform:function(t,i,r){if(i){var o=this.getPointer(t),s=i.__corner,a=i.controls[s],A=r&&s?a.getActionHandler(t,i,a):n.controlsUtils.dragHandler,c=this._getActionFromCorner(r,s,t,i),l=this._getOriginFromCorner(i,s),u=t[this.centeredKey],h={target:i,action:c,actionHandler:A,corner:s,scaleX:i.scaleX,scaleY:i.scaleY,skewX:i.skewX,skewY:i.skewY,offsetX:o.x-i.left,offsetY:o.y-i.top,originX:l.x,originY:l.y,ex:o.x,ey:o.y,lastX:o.x,lastY:o.y,theta:e(i.angle),width:i.width*i.scaleX,shiftKey:t.shiftKey,altKey:u,original:n.util.saveObjectTransform(i)};this._shouldCenterTransform(i,c,u)&&(h.originX="center",h.originY="center"),h.original.originX=l.x,h.original.originY=l.y,this._currentTransform=h,this._beforeTransform(t)}},setCursor:function(t){this.upperCanvasEl.style.cursor=t},_drawSelection:function(t){var e=this._groupSelector,o=e.left,a=e.top,A=i(o),c=i(a);if(this.selectionColor&&(t.fillStyle=this.selectionColor,t.fillRect(e.ex-(o>0?0:-o),e.ey-(a>0?0:-a),A,c)),this.selectionLineWidth&&this.selectionBorderColor)if(t.lineWidth=this.selectionLineWidth,t.strokeStyle=this.selectionBorderColor,this.selectionDashArray.length>1&&!r){var l=e.ex+s-(o>0?0:A),u=e.ey+s-(a>0?0:c);t.beginPath(),n.util.drawDashedLine(t,l,u,l+A,u,this.selectionDashArray),n.util.drawDashedLine(t,l,u+c-1,l+A,u+c-1,this.selectionDashArray),n.util.drawDashedLine(t,l,u,l,u+c,this.selectionDashArray),n.util.drawDashedLine(t,l+A-1,u,l+A-1,u+c,this.selectionDashArray),t.closePath(),t.stroke()}else n.Object.prototype._setLineDash.call(this,t,this.selectionDashArray),t.strokeRect(e.ex+s-(o>0?0:A),e.ey+s-(a>0?0:c),A,c)},findTarget:function(t,e){if(!this.skipTargetFind){var i,n,r=!0,s=this.getPointer(t,r),a=this._activeObject,A=this.getActiveObjects(),c=o(t),l=A.length>1&&!e||1===A.length;if(this.targets=[],l&&a._findTargetCorner(s,c))return a;if(A.length>1&&!e&&a===this._searchPossibleTargets([a],s))return a;if(1===A.length&&a===this._searchPossibleTargets([a],s)){if(!this.preserveObjectStacking)return a;i=a,n=this.targets,this.targets=[]}var u=this._searchPossibleTargets(this._objects,s);return t[this.altSelectionKey]&&u&&i&&u!==i&&(u=i,this.targets=n),u}},_checkTarget:function(t,e,i){if(e&&e.visible&&e.evented&&e.containsPoint(t)){if(!this.perPixelTargetFind&&!e.perPixelTargetFind||e.isEditing)return!0;var n=this.isTargetTransparent(e,i.x,i.y);if(!n)return!0}},_searchPossibleTargets:function(t,e){var i,r,o=t.length;while(o--){var s=t[o],a=s.group?this._normalizePointer(s.group,e):e;if(this._checkTarget(a,s,e)){i=t[o],i.subTargetCheck&&i instanceof n.Group&&(r=this._searchPossibleTargets(i._objects,e),r&&this.targets.push(r));break}}return i},restorePointerVpt:function(t){return n.util.transformPoint(t,n.util.invertTransform(this.viewportTransform))},getPointer:function(e,i){if(this._absolutePointer&&!i)return this._absolutePointer;if(this._pointer&&i)return this._pointer;var n,r=t(e),o=this.upperCanvasEl,s=o.getBoundingClientRect(),a=s.width||0,A=s.height||0;a&&A||("top"in s&&"bottom"in s&&(A=Math.abs(s.top-s.bottom)),"right"in s&&"left"in s&&(a=Math.abs(s.right-s.left))),this.calcOffset(),r.x=r.x-this._offset.left,r.y=r.y-this._offset.top,i||(r=this.restorePointerVpt(r));var c=this.getRetinaScaling();return 1!==c&&(r.x/=c,r.y/=c),n=0===a||0===A?{width:1,height:1}:{width:o.width/a,height:o.height/A},{x:r.x*n.width,y:r.y*n.height}},_createUpperCanvas:function(){var t=this.lowerCanvasEl.className.replace(/\s*lower-canvas\s*/,""),e=this.lowerCanvasEl,i=this.upperCanvasEl;i?i.className="":(i=this._createCanvasElement(),this.upperCanvasEl=i),n.util.addClass(i,"upper-canvas "+t),this.wrapperEl.appendChild(i),this._copyCanvasStyle(e,i),this._applyCanvasStyle(i),this.contextTop=i.getContext("2d")},_createCacheCanvas:function(){this.cacheCanvasEl=this._createCanvasElement(),this.cacheCanvasEl.setAttribute("width",this.width),this.cacheCanvasEl.setAttribute("height",this.height),this.contextCache=this.cacheCanvasEl.getContext("2d")},_initWrapperElement:function(){this.wrapperEl=n.util.wrapElement(this.lowerCanvasEl,"div",{class:this.containerClass}),n.util.setStyle(this.wrapperEl,{width:this.width+"px",height:this.height+"px",position:"relative"}),n.util.makeElementUnselectable(this.wrapperEl)},_applyCanvasStyle:function(t){var e=this.width||t.width,i=this.height||t.height;n.util.setStyle(t,{position:"absolute",width:e+"px",height:i+"px",left:0,top:0,"touch-action":this.allowTouchScrolling?"manipulation":"none","-ms-touch-action":this.allowTouchScrolling?"manipulation":"none"}),t.width=e,t.height=i,n.util.makeElementUnselectable(t)},_copyCanvasStyle:function(t,e){e.style.cssText=t.style.cssText},getSelectionContext:function(){return this.contextTop},getSelectionElement:function(){return this.upperCanvasEl},getActiveObject:function(){return this._activeObject},getActiveObjects:function(){var t=this._activeObject;return t?"activeSelection"===t.type&&t._objects?t._objects.slice(0):[t]:[]},_onObjectRemoved:function(t){t===this._activeObject&&(this.fire("before:selection:cleared",{target:t}),this._discardActiveObject(),this.fire("selection:cleared",{target:t}),t.fire("deselected")),t===this._hoveredTarget&&(this._hoveredTarget=null,this._hoveredTargets=[]),this.callSuper("_onObjectRemoved",t)},_fireSelectionEvents:function(t,e){var i=!1,n=this.getActiveObjects(),r=[],o=[];t.forEach((function(t){-1===n.indexOf(t)&&(i=!0,t.fire("deselected",{e:e,target:t}),o.push(t))})),n.forEach((function(n){-1===t.indexOf(n)&&(i=!0,n.fire("selected",{e:e,target:n}),r.push(n))})),t.length>0&&n.length>0?i&&this.fire("selection:updated",{e:e,selected:r,deselected:o,updated:r[0]||o[0],target:this._activeObject}):n.length>0?this.fire("selection:created",{e:e,selected:r,target:this._activeObject}):t.length>0&&this.fire("selection:cleared",{e:e,deselected:o})},setActiveObject:function(t,e){var i=this.getActiveObjects();return this._setActiveObject(t,e),this._fireSelectionEvents(i,e),this},_setActiveObject:function(t,e){return this._activeObject!==t&&(!!this._discardActiveObject(e,t)&&(!t.onSelect({e:e})&&(this._activeObject=t,!0)))},_discardActiveObject:function(t,e){var i=this._activeObject;if(i){if(i.onDeselect({e:t,object:e}))return!1;this._activeObject=null}return!0},discardActiveObject:function(t){var e=this.getActiveObjects(),i=this.getActiveObject();return e.length&&this.fire("before:selection:cleared",{target:i,e:t}),this._discardActiveObject(t),this._fireSelectionEvents(e,t),this},dispose:function(){var t=this.wrapperEl;return this.removeListeners(),t.removeChild(this.upperCanvasEl),t.removeChild(this.lowerCanvasEl),this.contextCache=null,this.contextTop=null,["upperCanvasEl","cacheCanvasEl"].forEach(function(t){n.util.cleanUpJsdomNode(this[t]),this[t]=void 0}.bind(this)),t.parentNode&&t.parentNode.replaceChild(this.lowerCanvasEl,this.wrapperEl),delete this.wrapperEl,n.StaticCanvas.prototype.dispose.call(this),this},clear:function(){return this.discardActiveObject(),this.clearContext(this.contextTop),this.callSuper("clear")},drawControls:function(t){var e=this._activeObject;e&&e._renderControls(t)},_toObject:function(t,e,i){var n=this._realizeGroupTransformOnObject(t),r=this.callSuper("_toObject",t,e,i);return this._unwindGroupTransformOnObject(t,n),r},_realizeGroupTransformOnObject:function(t){if(t.group&&"activeSelection"===t.group.type&&this._activeObject===t.group){var e=["angle","flipX","flipY","left","scaleX","scaleY","skewX","skewY","top"],i={};return e.forEach((function(e){i[e]=t[e]})),n.util.addTransformToObject(t,this._activeObject.calcOwnMatrix()),i}return null},_unwindGroupTransformOnObject:function(t,e){e&&t.set(e)},_setSVGObject:function(t,e,i){var n=this._realizeGroupTransformOnObject(e);this.callSuper("_setSVGObject",t,e,i),this._unwindGroupTransformOnObject(e,n)},setViewportTransform:function(t){this.renderOnAddRemove&&this._activeObject&&this._activeObject.isEditing&&this._activeObject.clearContextTop(),n.StaticCanvas.prototype.setViewportTransform.call(this,t)}}),n.StaticCanvas)"prototype"!==a&&(n.Canvas[a]=n.StaticCanvas[a])}(),function(){var t=n.util.addListener,e=n.util.removeListener,i=3,r=2,o=1,s={passive:!1};function a(t,e){return t.button&&t.button===e-1}n.util.object.extend(n.Canvas.prototype,{mainTouchId:null,_initEventListeners:function(){this.removeListeners(),this._bindEvents(),this.addOrRemove(t,"add")},_getEventPrefix:function(){return this.enablePointerEvents?"pointer":"mouse"},addOrRemove:function(t,e){var i=this.upperCanvasEl,r=this._getEventPrefix();t(n.window,"resize",this._onResize),t(i,r+"down",this._onMouseDown),t(i,r+"move",this._onMouseMove,s),t(i,r+"out",this._onMouseOut),t(i,r+"enter",this._onMouseEnter),t(i,"wheel",this._onMouseWheel),t(i,"contextmenu",this._onContextMenu),t(i,"dblclick",this._onDoubleClick),t(i,"dragover",this._onDragOver),t(i,"dragenter",this._onDragEnter),t(i,"dragleave",this._onDragLeave),t(i,"drop",this._onDrop),this.enablePointerEvents||t(i,"touchstart",this._onTouchStart,s),"undefined"!==typeof eventjs&&e in eventjs&&(eventjs[e](i,"gesture",this._onGesture),eventjs[e](i,"drag",this._onDrag),eventjs[e](i,"orientation",this._onOrientationChange),eventjs[e](i,"shake",this._onShake),eventjs[e](i,"longpress",this._onLongPress))},removeListeners:function(){this.addOrRemove(e,"remove");var t=this._getEventPrefix();e(n.document,t+"up",this._onMouseUp),e(n.document,"touchend",this._onTouchEnd,s),e(n.document,t+"move",this._onMouseMove,s),e(n.document,"touchmove",this._onMouseMove,s)},_bindEvents:function(){this.eventsBound||(this._onMouseDown=this._onMouseDown.bind(this),this._onTouchStart=this._onTouchStart.bind(this),this._onMouseMove=this._onMouseMove.bind(this),this._onMouseUp=this._onMouseUp.bind(this),this._onTouchEnd=this._onTouchEnd.bind(this),this._onResize=this._onResize.bind(this),this._onGesture=this._onGesture.bind(this),this._onDrag=this._onDrag.bind(this),this._onShake=this._onShake.bind(this),this._onLongPress=this._onLongPress.bind(this),this._onOrientationChange=this._onOrientationChange.bind(this),this._onMouseWheel=this._onMouseWheel.bind(this),this._onMouseOut=this._onMouseOut.bind(this),this._onMouseEnter=this._onMouseEnter.bind(this),this._onContextMenu=this._onContextMenu.bind(this),this._onDoubleClick=this._onDoubleClick.bind(this),this._onDragOver=this._onDragOver.bind(this),this._onDragEnter=this._simpleEventHandler.bind(this,"dragenter"),this._onDragLeave=this._simpleEventHandler.bind(this,"dragleave"),this._onDrop=this._simpleEventHandler.bind(this,"drop"),this.eventsBound=!0)},_onGesture:function(t,e){this.__onTransformGesture&&this.__onTransformGesture(t,e)},_onDrag:function(t,e){this.__onDrag&&this.__onDrag(t,e)},_onMouseWheel:function(t){this.__onMouseWheel(t)},_onMouseOut:function(t){var e=this._hoveredTarget;this.fire("mouse:out",{target:e,e:t}),this._hoveredTarget=null,e&&e.fire("mouseout",{e:t});var i=this;this._hoveredTargets.forEach((function(n){i.fire("mouse:out",{target:e,e:t}),n&&e.fire("mouseout",{e:t})})),this._hoveredTargets=[],this._iTextInstances&&this._iTextInstances.forEach((function(t){t.isEditing&&t.hiddenTextarea.focus()}))},_onMouseEnter:function(t){this._currentTransform||this.findTarget(t)||(this.fire("mouse:over",{target:null,e:t}),this._hoveredTarget=null,this._hoveredTargets=[])},_onOrientationChange:function(t,e){this.__onOrientationChange&&this.__onOrientationChange(t,e)},_onShake:function(t,e){this.__onShake&&this.__onShake(t,e)},_onLongPress:function(t,e){this.__onLongPress&&this.__onLongPress(t,e)},_onDragOver:function(t){t.preventDefault();var e=this._simpleEventHandler("dragover",t);this._fireEnterLeaveEvents(e,t)},_onContextMenu:function(t){return this.stopContextMenu&&(t.stopPropagation(),t.preventDefault()),!1},_onDoubleClick:function(t){this._cacheTransformEventData(t),this._handleEvent(t,"dblclick"),this._resetTransformEventData(t)},getPointerId:function(t){var e=t.changedTouches;return e?e[0]&&e[0].identifier:this.enablePointerEvents?t.pointerId:-1},_isMainEvent:function(t){return!0===t.isPrimary||!1!==t.isPrimary&&("touchend"===t.type&&0===t.touches.length||(!t.changedTouches||t.changedTouches[0].identifier===this.mainTouchId))},_onTouchStart:function(i){i.preventDefault(),null===this.mainTouchId&&(this.mainTouchId=this.getPointerId(i)),this.__onMouseDown(i),this._resetTransformEventData();var r=this.upperCanvasEl,o=this._getEventPrefix();t(n.document,"touchend",this._onTouchEnd,s),t(n.document,"touchmove",this._onMouseMove,s),e(r,o+"down",this._onMouseDown)},_onMouseDown:function(i){this.__onMouseDown(i),this._resetTransformEventData();var r=this.upperCanvasEl,o=this._getEventPrefix();e(r,o+"move",this._onMouseMove,s),t(n.document,o+"up",this._onMouseUp),t(n.document,o+"move",this._onMouseMove,s)},_onTouchEnd:function(i){if(!(i.touches.length>0)){this.__onMouseUp(i),this._resetTransformEventData(),this.mainTouchId=null;var r=this._getEventPrefix();e(n.document,"touchend",this._onTouchEnd,s),e(n.document,"touchmove",this._onMouseMove,s);var o=this;this._willAddMouseDown&&clearTimeout(this._willAddMouseDown),this._willAddMouseDown=setTimeout((function(){t(o.upperCanvasEl,r+"down",o._onMouseDown),o._willAddMouseDown=0}),400)}},_onMouseUp:function(i){this.__onMouseUp(i),this._resetTransformEventData();var r=this.upperCanvasEl,o=this._getEventPrefix();this._isMainEvent(i)&&(e(n.document,o+"up",this._onMouseUp),e(n.document,o+"move",this._onMouseMove,s),t(r,o+"move",this._onMouseMove,s))},_onMouseMove:function(t){!this.allowTouchScrolling&&t.preventDefault&&t.preventDefault(),this.__onMouseMove(t)},_onResize:function(){this.calcOffset()},_shouldRender:function(t){var e=this._activeObject;return!!(!!e!==!!t||e&&t&&e!==t)||(e&&e.isEditing,!1)},__onMouseUp:function(t){var e,s=this._currentTransform,A=this._groupSelector,c=!1,l=!A||0===A.left&&0===A.top;if(this._cacheTransformEventData(t),e=this._target,this._handleEvent(t,"up:before"),a(t,i))this.fireRightClick&&this._handleEvent(t,"up",i,l);else{if(a(t,r))return this.fireMiddleClick&&this._handleEvent(t,"up",r,l),void this._resetTransformEventData();if(this.isDrawingMode&&this._isCurrentlyDrawing)this._onMouseUpInDrawingMode(t);else if(this._isMainEvent(t)){if(s&&(this._finalizeCurrentTransform(t),c=s.actionPerformed),!l){var u=e===this._activeObject;this._maybeGroupObjects(t),c||(c=this._shouldRender(e)||!u&&e===this._activeObject)}if(e){if(e.selectable&&e!==this._activeObject&&"up"===e.activeOn)this.setActiveObject(e,t),c=!0;else{var h=e._findTargetCorner(this.getPointer(t,!0),n.util.isTouchEvent(t)),f=e.controls[h],d=f&&f.getMouseUpHandler(t,e,f);if(d){var p=this.getPointer(t);d(t,s,p.x,p.y)}}e.isMoving=!1}this._setCursorFromEvent(t,e),this._handleEvent(t,"up",o,l),this._groupSelector=null,this._currentTransform=null,e&&(e.__corner=0),c?this.requestRenderAll():l||this.renderTop()}}},_simpleEventHandler:function(t,e){var i=this.findTarget(e),n=this.targets,r={e:e,target:i,subTargets:n};if(this.fire(t,r),i&&i.fire(t,r),!n)return i;for(var o=0;o<n.length;o++)n[o].fire(t,r);return i},_handleEvent:function(t,e,i,n){var r=this._target,s=this.targets||[],a={e:t,target:r,subTargets:s,button:i||o,isClick:n||!1,pointer:this._pointer,absolutePointer:this._absolutePointer,transform:this._currentTransform};"up"===e&&(a.currentTarget=this.findTarget(t),a.currentSubTargets=this.targets),this.fire("mouse:"+e,a),r&&r.fire("mouse"+e,a);for(var A=0;A<s.length;A++)s[A].fire("mouse"+e,a)},_finalizeCurrentTransform:function(t){var e,i=this._currentTransform,n=i.target,r={e:t,target:n,transform:i,action:i.action};n._scaling&&(n._scaling=!1),n.setCoords(),(i.actionPerformed||this.stateful&&n.hasStateChanged())&&(i.actionPerformed&&(e=this._addEventOptions(r,i),this._fire(e,r)),this._fire("modified",r))},_addEventOptions:function(t,e){var i,n;switch(e.action){case"scaleX":i="scaled",n="x";break;case"scaleY":i="scaled",n="y";break;case"skewX":i="skewed",n="x";break;case"skewY":i="skewed",n="y";break;case"scale":i="scaled",n="equally";break;case"rotate":i="rotated";break;case"drag":i="moved";break}return t.by=n,i},_onMouseDownInDrawingMode:function(t){this._isCurrentlyDrawing=!0,this.getActiveObject()&&this.discardActiveObject(t).requestRenderAll();var e=this.getPointer(t);this.freeDrawingBrush.onMouseDown(e,{e:t,pointer:e}),this._handleEvent(t,"down")},_onMouseMoveInDrawingMode:function(t){if(this._isCurrentlyDrawing){var e=this.getPointer(t);this.freeDrawingBrush.onMouseMove(e,{e:t,pointer:e})}this.setCursor(this.freeDrawingCursor),this._handleEvent(t,"move")},_onMouseUpInDrawingMode:function(t){var e=this.getPointer(t);this._isCurrentlyDrawing=this.freeDrawingBrush.onMouseUp({e:t,pointer:e}),this._handleEvent(t,"up")},__onMouseDown:function(t){this._cacheTransformEventData(t),this._handleEvent(t,"down:before");var e=this._target;if(a(t,i))this.fireRightClick&&this._handleEvent(t,"down",i);else if(a(t,r))this.fireMiddleClick&&this._handleEvent(t,"down",r);else if(this.isDrawingMode)this._onMouseDownInDrawingMode(t);else if(this._isMainEvent(t)&&!this._currentTransform){var o=this._pointer;this._previousPointer=o;var s=this._shouldRender(e),A=this._shouldGroup(t,e);if(this._shouldClearSelection(t,e)?this.discardActiveObject(t):A&&(this._handleGrouping(t,e),e=this._activeObject),!this.selection||e&&(e.selectable||e.isEditing||e===this._activeObject)||(this._groupSelector={ex:o.x,ey:o.y,top:0,left:0}),e){var c=e===this._activeObject;e.selectable&&"down"===e.activeOn&&this.setActiveObject(e,t);var l=e._findTargetCorner(this.getPointer(t,!0),n.util.isTouchEvent(t));if(e.__corner=l,e===this._activeObject&&(l||!A)){this._setupCurrentTransform(t,e,c);var u=e.controls[l],h=(o=this.getPointer(t),u&&u.getMouseDownHandler(t,e,u));h&&h(t,this._currentTransform,o.x,o.y)}}this._handleEvent(t,"down"),(s||A)&&this.requestRenderAll()}},_resetTransformEventData:function(){this._target=null,this._pointer=null,this._absolutePointer=null},_cacheTransformEventData:function(t){this._resetTransformEventData(),this._pointer=this.getPointer(t,!0),this._absolutePointer=this.restorePointerVpt(this._pointer),this._target=this._currentTransform?this._currentTransform.target:this.findTarget(t)||null},_beforeTransform:function(t){var e=this._currentTransform;this.stateful&&e.target.saveState(),this.fire("before:transform",{e:t,transform:e})},__onMouseMove:function(t){var e,i;if(this._handleEvent(t,"move:before"),this._cacheTransformEventData(t),this.isDrawingMode)this._onMouseMoveInDrawingMode(t);else if(this._isMainEvent(t)){var n=this._groupSelector;n?(i=this._pointer,n.left=i.x-n.ex,n.top=i.y-n.ey,this.renderTop()):this._currentTransform?this._transformObject(t):(e=this.findTarget(t)||null,this._setCursorFromEvent(t,e),this._fireOverOutEvents(e,t)),this._handleEvent(t,"move"),this._resetTransformEventData()}},_fireOverOutEvents:function(t,e){var i=this._hoveredTarget,n=this._hoveredTargets,r=this.targets,o=Math.max(n.length,r.length);this.fireSyntheticInOutEvents(t,e,{oldTarget:i,evtOut:"mouseout",canvasEvtOut:"mouse:out",evtIn:"mouseover",canvasEvtIn:"mouse:over"});for(var s=0;s<o;s++)this.fireSyntheticInOutEvents(r[s],e,{oldTarget:n[s],evtOut:"mouseout",evtIn:"mouseover"});this._hoveredTarget=t,this._hoveredTargets=this.targets.concat()},_fireEnterLeaveEvents:function(t,e){var i=this._draggedoverTarget,n=this._hoveredTargets,r=this.targets,o=Math.max(n.length,r.length);this.fireSyntheticInOutEvents(t,e,{oldTarget:i,evtOut:"dragleave",evtIn:"dragenter"});for(var s=0;s<o;s++)this.fireSyntheticInOutEvents(r[s],e,{oldTarget:n[s],evtOut:"dragleave",evtIn:"dragenter"});this._draggedoverTarget=t},fireSyntheticInOutEvents:function(t,e,i){var n,r,o,s,a=i.oldTarget,A=a!==t,c=i.canvasEvtIn,l=i.canvasEvtOut;A&&(n={e:e,target:t,previousTarget:a},r={e:e,target:a,nextTarget:t}),s=t&&A,o=a&&A,o&&(l&&this.fire(l,r),a.fire(i.evtOut,r)),s&&(c&&this.fire(c,n),t.fire(i.evtIn,n))},__onMouseWheel:function(t){this._cacheTransformEventData(t),this._handleEvent(t,"wheel"),this._resetTransformEventData()},_transformObject:function(t){var e=this.getPointer(t),i=this._currentTransform;i.reset=!1,i.shiftKey=t.shiftKey,i.altKey=t[this.centeredKey],this._performTransformAction(t,i,e),i.actionPerformed&&this.requestRenderAll()},_performTransformAction:function(t,e,i){var n=i.x,r=i.y,o=e.action,s=!1,a=e.actionHandler;a&&(s=a(t,e,n,r)),"drag"===o&&s&&(e.target.isMoving=!0,this.setCursor(e.target.moveCursor||this.moveCursor)),e.actionPerformed=e.actionPerformed||s},_fire:n.controlsUtils.fireEvent,_setCursorFromEvent:function(t,e){if(!e)return this.setCursor(this.defaultCursor),!1;var i=e.hoverCursor||this.hoverCursor,n=this._activeObject&&"activeSelection"===this._activeObject.type?this._activeObject:null,r=(!n||!n.contains(e))&&e._findTargetCorner(this.getPointer(t,!0));r?this.setCursor(this.getCornerCursor(r,e,t)):(e.subTargetCheck&&this.targets.concat().reverse().map((function(t){i=t.hoverCursor||i})),this.setCursor(i))},getCornerCursor:function(t,e,i){var n=e.controls[t];return n.cursorStyleHandler(i,n,e)}})}(),function(){var t=Math.min,e=Math.max;n.util.object.extend(n.Canvas.prototype,{_shouldGroup:function(t,e){var i=this._activeObject;return i&&this._isSelectionKeyPressed(t)&&e&&e.selectable&&this.selection&&(i!==e||"activeSelection"===i.type)&&!e.onSelect({e:t})},_handleGrouping:function(t,e){var i=this._activeObject;i.__corner||(e!==i||(e=this.findTarget(t,!0),e&&e.selectable))&&(i&&"activeSelection"===i.type?this._updateActiveSelection(e,t):this._createActiveSelection(e,t))},_updateActiveSelection:function(t,e){var i=this._activeObject,n=i._objects.slice(0);i.contains(t)?(i.removeWithUpdate(t),this._hoveredTarget=t,this._hoveredTargets=this.targets.concat(),1===i.size()&&this._setActiveObject(i.item(0),e)):(i.addWithUpdate(t),this._hoveredTarget=i,this._hoveredTargets=this.targets.concat()),this._fireSelectionEvents(n,e)},_createActiveSelection:function(t,e){var i=this.getActiveObjects(),n=this._createGroup(t);this._hoveredTarget=n,this._setActiveObject(n,e),this._fireSelectionEvents(i,e)},_createGroup:function(t){var e=this._objects,i=e.indexOf(this._activeObject)<e.indexOf(t),r=i?[this._activeObject,t]:[t,this._activeObject];return this._activeObject.isEditing&&this._activeObject.exitEditing(),new n.ActiveSelection(r,{canvas:this})},_groupSelectedObjects:function(t){var e,i=this._collectObjects(t);1===i.length?this.setActiveObject(i[0],t):i.length>1&&(e=new n.ActiveSelection(i.reverse(),{canvas:this}),this.setActiveObject(e,t))},_collectObjects:function(i){for(var r,o=[],s=this._groupSelector.ex,a=this._groupSelector.ey,A=s+this._groupSelector.left,c=a+this._groupSelector.top,l=new n.Point(t(s,A),t(a,c)),u=new n.Point(e(s,A),e(a,c)),h=!this.selectionFullyContained,f=s===A&&a===c,d=this._objects.length;d--;)if(r=this._objects[d],r&&r.selectable&&r.visible&&(h&&r.intersectsWithRect(l,u)||r.isContainedWithinRect(l,u)||h&&r.containsPoint(l)||h&&r.containsPoint(u))&&(o.push(r),f))break;return o.length>1&&(o=o.filter((function(t){return!t.onSelect({e:i})}))),o},_maybeGroupObjects:function(t){this.selection&&this._groupSelector&&this._groupSelectedObjects(t),this.setCursor(this.defaultCursor),this._groupSelector=null}})}(),function(){n.util.object.extend(n.StaticCanvas.prototype,{toDataURL:function(t){t||(t={});var e=t.format||"png",i=t.quality||1,r=(t.multiplier||1)*(t.enableRetinaScaling?this.getRetinaScaling():1),o=this.toCanvasElement(r,t);return n.util.toDataURL(o,e,i)},toCanvasElement:function(t,e){t=t||1,e=e||{};var i=(e.width||this.width)*t,r=(e.height||this.height)*t,o=this.getZoom(),s=this.width,a=this.height,A=o*t,c=this.viewportTransform,l=(c[4]-(e.left||0))*t,u=(c[5]-(e.top||0))*t,h=this.interactive,f=[A,0,0,A,l,u],d=this.enableRetinaScaling,p=n.util.createCanvasElement(),g=this.contextTop;return p.width=i,p.height=r,this.contextTop=null,this.enableRetinaScaling=!1,this.interactive=!1,this.viewportTransform=f,this.width=i,this.height=r,this.calcViewportBoundaries(),this.renderCanvas(p.getContext("2d"),this._objects),this.viewportTransform=c,this.width=s,this.height=a,this.calcViewportBoundaries(),this.interactive=h,this.enableRetinaScaling=d,this.contextTop=g,p}})}(),n.util.object.extend(n.StaticCanvas.prototype,{loadFromJSON:function(t,e,i){if(t){var r="string"===typeof t?JSON.parse(t):n.util.object.clone(t),o=this,s=r.clipPath,a=this.renderOnAddRemove;return this.renderOnAddRemove=!1,delete r.clipPath,this._enlivenObjects(r.objects,(function(t){o.clear(),o._setBgOverlay(r,(function(){s?o._enlivenObjects([s],(function(i){o.clipPath=i[0],o.__setupCanvas.call(o,r,t,a,e)})):o.__setupCanvas.call(o,r,t,a,e)}))}),i),this}},__setupCanvas:function(t,e,i,n){var r=this;e.forEach((function(t,e){r.insertAt(t,e)})),this.renderOnAddRemove=i,delete t.objects,delete t.backgroundImage,delete t.overlayImage,delete t.background,delete t.overlay,this._setOptions(t),this.renderAll(),n&&n()},_setBgOverlay:function(t,e){var i={backgroundColor:!1,overlayColor:!1,backgroundImage:!1,overlayImage:!1};if(t.backgroundImage||t.overlayImage||t.background||t.overlay){var n=function(){i.backgroundImage&&i.overlayImage&&i.backgroundColor&&i.overlayColor&&e&&e()};this.__setBgOverlay("backgroundImage",t.backgroundImage,i,n),this.__setBgOverlay("overlayImage",t.overlayImage,i,n),this.__setBgOverlay("backgroundColor",t.background,i,n),this.__setBgOverlay("overlayColor",t.overlay,i,n)}else e&&e()},__setBgOverlay:function(t,e,i,r){var o=this;if(!e)return i[t]=!0,void(r&&r());"backgroundImage"===t||"overlayImage"===t?n.util.enlivenObjects([e],(function(e){o[t]=e[0],i[t]=!0,r&&r()})):this["set"+n.util.string.capitalize(t,!0)](e,(function(){i[t]=!0,r&&r()}))},_enlivenObjects:function(t,e,i){t&&0!==t.length?n.util.enlivenObjects(t,(function(t){e&&e(t)}),null,i):e&&e([])},_toDataURL:function(t,e){this.clone((function(i){e(i.toDataURL(t))}))},_toDataURLWithMultiplier:function(t,e,i){this.clone((function(n){i(n.toDataURLWithMultiplier(t,e))}))},clone:function(t,e){var i=JSON.stringify(this.toJSON(e));this.cloneWithoutData((function(e){e.loadFromJSON(i,(function(){t&&t(e)}))}))},cloneWithoutData:function(t){var e=n.util.createCanvasElement();e.width=this.width,e.height=this.height;var i=new n.Canvas(e);this.backgroundImage?(i.setBackgroundImage(this.backgroundImage.src,(function(){i.renderAll(),t&&t(i)})),i.backgroundImageOpacity=this.backgroundImageOpacity,i.backgroundImageStretch=this.backgroundImageStretch):t&&t(i)}}),function(t){"use strict";var e=t.fabric||(t.fabric={}),i=e.util.object.extend,n=e.util.object.clone,r=e.util.toFixed,o=e.util.string.capitalize,s=e.util.degreesToRadians,a=e.StaticCanvas.supports("setLineDash"),A=!e.isLikelyNode,c=2;e.Object||(e.Object=e.util.createClass(e.CommonMethods,{type:"object",originX:"left",originY:"top",top:0,left:0,width:0,height:0,scaleX:1,scaleY:1,flipX:!1,flipY:!1,opacity:1,angle:0,skewX:0,skewY:0,cornerSize:13,touchCornerSize:24,transparentCorners:!0,hoverCursor:null,moveCursor:null,padding:0,borderColor:"rgb(178,204,255)",borderDashArray:null,cornerColor:"rgb(178,204,255)",cornerStrokeColor:null,cornerStyle:"rect",cornerDashArray:null,centeredScaling:!1,centeredRotation:!0,fill:"rgb(0,0,0)",fillRule:"nonzero",globalCompositeOperation:"source-over",backgroundColor:"",selectionBackgroundColor:"",stroke:null,strokeWidth:1,strokeDashArray:null,strokeDashOffset:0,strokeLineCap:"butt",strokeLineJoin:"miter",strokeMiterLimit:4,shadow:null,borderOpacityWhenMoving:.4,borderScaleFactor:1,minScaleLimit:0,selectable:!0,evented:!0,visible:!0,hasControls:!0,hasBorders:!0,perPixelTargetFind:!1,includeDefaultValues:!0,lockMovementX:!1,lockMovementY:!1,lockRotation:!1,lockScalingX:!1,lockScalingY:!1,lockSkewingX:!1,lockSkewingY:!1,lockScalingFlip:!1,excludeFromExport:!1,objectCaching:A,statefullCache:!1,noScaleCache:!0,strokeUniform:!1,dirty:!0,__corner:0,paintFirst:"fill",activeOn:"down",stateProperties:"top left width height scaleX scaleY flipX flipY originX originY transformMatrix stroke strokeWidth strokeDashArray strokeLineCap strokeDashOffset strokeLineJoin strokeMiterLimit angle opacity fill globalCompositeOperation shadow visible backgroundColor skewX skewY fillRule paintFirst clipPath strokeUniform".split(" "),cacheProperties:"fill stroke strokeWidth strokeDashArray width height paintFirst strokeUniform strokeLineCap strokeDashOffset strokeLineJoin strokeMiterLimit backgroundColor clipPath".split(" "),colorProperties:"fill stroke backgroundColor".split(" "),clipPath:void 0,inverted:!1,absolutePositioned:!1,initialize:function(t){t&&this.setOptions(t)},_createCacheCanvas:function(){this._cacheProperties={},this._cacheCanvas=e.util.createCanvasElement(),this._cacheContext=this._cacheCanvas.getContext("2d"),this._updateCacheCanvas(),this.dirty=!0},_limitCacheSize:function(t){var i=e.perfLimitSizeTotal,n=t.width,r=t.height,o=e.maxCacheSideLimit,s=e.minCacheSideLimit;if(n<=o&&r<=o&&n*r<=i)return n<s&&(t.width=s),r<s&&(t.height=s),t;var a=n/r,A=e.util.limitDimsByArea(a,i),c=e.util.capValue,l=c(s,A.x,o),u=c(s,A.y,o);return n>l&&(t.zoomX/=n/l,t.width=l,t.capped=!0),r>u&&(t.zoomY/=r/u,t.height=u,t.capped=!0),t},_getCacheCanvasDimensions:function(){var t=this.getTotalObjectScaling(),e=this._getTransformedDimensions(0,0),i=e.x*t.scaleX/this.scaleX,n=e.y*t.scaleY/this.scaleY;return{width:i+c,height:n+c,zoomX:t.scaleX,zoomY:t.scaleY,x:i,y:n}},_updateCacheCanvas:function(){var t=this.canvas;if(this.noScaleCache&&t&&t._currentTransform){var i=t._currentTransform.target,n=t._currentTransform.action;if(this===i&&n.slice&&"scale"===n.slice(0,5))return!1}var r,o,s=this._cacheCanvas,a=this._limitCacheSize(this._getCacheCanvasDimensions()),A=e.minCacheSideLimit,c=a.width,l=a.height,u=a.zoomX,h=a.zoomY,f=c!==this.cacheWidth||l!==this.cacheHeight,d=this.zoomX!==u||this.zoomY!==h,p=f||d,g=0,v=0,m=!1;if(f){var w=this._cacheCanvas.width,y=this._cacheCanvas.height,b=c>w||l>y,B=(c<.9*w||l<.9*y)&&w>A&&y>A;m=b||B,b&&!a.capped&&(c>A||l>A)&&(g=.1*c,v=.1*l)}return!!p&&(m?(s.width=Math.ceil(c+g),s.height=Math.ceil(l+v)):(this._cacheContext.setTransform(1,0,0,1,0,0),this._cacheContext.clearRect(0,0,s.width,s.height)),r=a.x/2,o=a.y/2,this.cacheTranslationX=Math.round(s.width/2-r)+r,this.cacheTranslationY=Math.round(s.height/2-o)+o,this.cacheWidth=c,this.cacheHeight=l,this._cacheContext.translate(this.cacheTranslationX,this.cacheTranslationY),this._cacheContext.scale(u,h),this.zoomX=u,this.zoomY=h,!0)},setOptions:function(t){this._setOptions(t),this._initGradient(t.fill,"fill"),this._initGradient(t.stroke,"stroke"),this._initPattern(t.fill,"fill"),this._initPattern(t.stroke,"stroke")},transform:function(t){var e=this.group&&!this.group._transformDone||this.group&&this.canvas&&t===this.canvas.contextTop,i=this.calcTransformMatrix(!e);t.transform(i[0],i[1],i[2],i[3],i[4],i[5])},toObject:function(t){var i=e.Object.NUM_FRACTION_DIGITS,n={type:this.type,version:e.version,originX:this.originX,originY:this.originY,left:r(this.left,i),top:r(this.top,i),width:r(this.width,i),height:r(this.height,i),fill:this.fill&&this.fill.toObject?this.fill.toObject():this.fill,stroke:this.stroke&&this.stroke.toObject?this.stroke.toObject():this.stroke,strokeWidth:r(this.strokeWidth,i),strokeDashArray:this.strokeDashArray?this.strokeDashArray.concat():this.strokeDashArray,strokeLineCap:this.strokeLineCap,strokeDashOffset:this.strokeDashOffset,strokeLineJoin:this.strokeLineJoin,strokeUniform:this.strokeUniform,strokeMiterLimit:r(this.strokeMiterLimit,i),scaleX:r(this.scaleX,i),scaleY:r(this.scaleY,i),angle:r(this.angle,i),flipX:this.flipX,flipY:this.flipY,opacity:r(this.opacity,i),shadow:this.shadow&&this.shadow.toObject?this.shadow.toObject():this.shadow,visible:this.visible,backgroundColor:this.backgroundColor,fillRule:this.fillRule,paintFirst:this.paintFirst,globalCompositeOperation:this.globalCompositeOperation,skewX:r(this.skewX,i),skewY:r(this.skewY,i)};return this.clipPath&&(n.clipPath=this.clipPath.toObject(t),n.clipPath.inverted=this.clipPath.inverted,n.clipPath.absolutePositioned=this.clipPath.absolutePositioned),e.util.populateWithProperties(this,n,t),this.includeDefaultValues||(n=this._removeDefaultValues(n)),n},toDatalessObject:function(t){return this.toObject(t)},_removeDefaultValues:function(t){var i=e.util.getKlass(t.type).prototype,n=i.stateProperties;return n.forEach((function(e){if("left"!==e&&"top"!==e){t[e]===i[e]&&delete t[e];var n="[object Array]"===Object.prototype.toString.call(t[e])&&"[object Array]"===Object.prototype.toString.call(i[e]);n&&0===t[e].length&&0===i[e].length&&delete t[e]}})),t},toString:function(){return"#<fabric."+o(this.type)+">"},getObjectScaling:function(){var t=e.util.qrDecompose(this.calcTransformMatrix());return{scaleX:Math.abs(t.scaleX),scaleY:Math.abs(t.scaleY)}},getTotalObjectScaling:function(){var t=this.getObjectScaling(),e=t.scaleX,i=t.scaleY;if(this.canvas){var n=this.canvas.getZoom(),r=this.canvas.getRetinaScaling();e*=n*r,i*=n*r}return{scaleX:e,scaleY:i}},getObjectOpacity:function(){var t=this.opacity;return this.group&&(t*=this.group.getObjectOpacity()),t},_set:function(t,i){var n="scaleX"===t||"scaleY"===t,r=this[t]!==i,o=!1;return n&&(i=this._constrainScale(i)),"scaleX"===t&&i<0?(this.flipX=!this.flipX,i*=-1):"scaleY"===t&&i<0?(this.flipY=!this.flipY,i*=-1):"shadow"!==t||!i||i instanceof e.Shadow?"dirty"===t&&this.group&&this.group.set("dirty",i):i=new e.Shadow(i),this[t]=i,r&&(o=this.group&&this.group.isOnACache(),this.cacheProperties.indexOf(t)>-1?(this.dirty=!0,o&&this.group.set("dirty",!0)):o&&this.stateProperties.indexOf(t)>-1&&this.group.set("dirty",!0)),this},setOnGroup:function(){},getViewportTransform:function(){return this.canvas&&this.canvas.viewportTransform?this.canvas.viewportTransform:e.iMatrix.concat()},isNotVisible:function(){return 0===this.opacity||!this.width&&!this.height&&0===this.strokeWidth||!this.visible},render:function(t){this.isNotVisible()||this.canvas&&this.canvas.skipOffscreen&&!this.group&&!this.isOnScreen()||(t.save(),this._setupCompositeOperation(t),this.drawSelectionBackground(t),this.transform(t),this._setOpacity(t),this._setShadow(t,this),this.shouldCache()?(this.renderCache(),this.drawCacheOnCanvas(t)):(this._removeCacheCanvas(),this.dirty=!1,this.drawObject(t),this.objectCaching&&this.statefullCache&&this.saveState({propertySet:"cacheProperties"})),t.restore())},renderCache:function(t){t=t||{},this._cacheCanvas||this._createCacheCanvas(),this.isCacheDirty()&&(this.statefullCache&&this.saveState({propertySet:"cacheProperties"}),this.drawObject(this._cacheContext,t.forClipping),this.dirty=!1)},_removeCacheCanvas:function(){this._cacheCanvas=null,this.cacheWidth=0,this.cacheHeight=0},hasStroke:function(){return this.stroke&&"transparent"!==this.stroke&&0!==this.strokeWidth},hasFill:function(){return this.fill&&"transparent"!==this.fill},needsItsOwnCache:function(){return!("stroke"!==this.paintFirst||!this.hasFill()||!this.hasStroke()||"object"!==typeof this.shadow)||!!this.clipPath},shouldCache:function(){return this.ownCaching=this.needsItsOwnCache()||this.objectCaching&&(!this.group||!this.group.isOnACache()),this.ownCaching},willDrawShadow:function(){return!!this.shadow&&(0!==this.shadow.offsetX||0!==this.shadow.offsetY)},drawClipPathOnCache:function(t){var i=this.clipPath;if(t.save(),i.inverted?t.globalCompositeOperation="destination-out":t.globalCompositeOperation="destination-in",i.absolutePositioned){var n=e.util.invertTransform(this.calcTransformMatrix());t.transform(n[0],n[1],n[2],n[3],n[4],n[5])}i.transform(t),t.scale(1/i.zoomX,1/i.zoomY),t.drawImage(i._cacheCanvas,-i.cacheTranslationX,-i.cacheTranslationY),t.restore()},drawObject:function(t,e){var i=this.fill,n=this.stroke;e?(this.fill="black",this.stroke="",this._setClippingProperties(t)):this._renderBackground(t),this._render(t),this._drawClipPath(t),this.fill=i,this.stroke=n},_drawClipPath:function(t){var e=this.clipPath;e&&(e.canvas=this.canvas,e.shouldCache(),e._transformDone=!0,e.renderCache({forClipping:!0}),this.drawClipPathOnCache(t))},drawCacheOnCanvas:function(t){t.scale(1/this.zoomX,1/this.zoomY),t.drawImage(this._cacheCanvas,-this.cacheTranslationX,-this.cacheTranslationY)},isCacheDirty:function(t){if(this.isNotVisible())return!1;if(this._cacheCanvas&&!t&&this._updateCacheCanvas())return!0;if(this.dirty||this.clipPath&&this.clipPath.absolutePositioned||this.statefullCache&&this.hasStateChanged("cacheProperties")){if(this._cacheCanvas&&!t){var e=this.cacheWidth/this.zoomX,i=this.cacheHeight/this.zoomY;this._cacheContext.clearRect(-e/2,-i/2,e,i)}return!0}return!1},_renderBackground:function(t){if(this.backgroundColor){var e=this._getNonTransformedDimensions();t.fillStyle=this.backgroundColor,t.fillRect(-e.x/2,-e.y/2,e.x,e.y),this._removeShadow(t)}},_setOpacity:function(t){this.group&&!this.group._transformDone?t.globalAlpha=this.getObjectOpacity():t.globalAlpha*=this.opacity},_setStrokeStyles:function(t,e){var i=e.stroke;i&&(t.lineWidth=e.strokeWidth,t.lineCap=e.strokeLineCap,t.lineDashOffset=e.strokeDashOffset,t.lineJoin=e.strokeLineJoin,t.miterLimit=e.strokeMiterLimit,i.toLive?"percentage"===i.gradientUnits||i.gradientTrasnform||i.patternTransform?this._applyPatternForTransformedGradient(t,i):(t.strokeStyle=i.toLive(t,this),this._applyPatternGradientTransform(t,i)):t.strokeStyle=e.stroke)},_setFillStyles:function(t,e){var i=e.fill;i&&(i.toLive?(t.fillStyle=i.toLive(t,this),this._applyPatternGradientTransform(t,e.fill)):t.fillStyle=i)},_setClippingProperties:function(t){t.globalAlpha=1,t.strokeStyle="transparent",t.fillStyle="#000000"},_setLineDash:function(t,e,i){e&&0!==e.length&&(1&e.length&&e.push.apply(e,e),a?t.setLineDash(e):i&&i(t))},_renderControls:function(t,i){var n,r,o,a=this.getViewportTransform(),A=this.calcTransformMatrix();i=i||{},r="undefined"!==typeof i.hasBorders?i.hasBorders:this.hasBorders,o="undefined"!==typeof i.hasControls?i.hasControls:this.hasControls,A=e.util.multiplyTransformMatrices(a,A),n=e.util.qrDecompose(A),t.save(),t.translate(n.translateX,n.translateY),t.lineWidth=1*this.borderScaleFactor,this.group||(t.globalAlpha=this.isMoving?this.borderOpacityWhenMoving:1),i.forActiveSelection?(t.rotate(s(n.angle)),r&&this.drawBordersInGroup(t,n,i)):(t.rotate(s(this.angle)),r&&this.drawBorders(t,i)),o&&this.drawControls(t,i),t.restore()},_setShadow:function(t){if(this.shadow){var i,n=this.shadow,r=this.canvas,o=r&&r.viewportTransform[0]||1,s=r&&r.viewportTransform[3]||1;i=n.nonScaling?{scaleX:1,scaleY:1}:this.getObjectScaling(),r&&r._isRetinaScaling()&&(o*=e.devicePixelRatio,s*=e.devicePixelRatio),t.shadowColor=n.color,t.shadowBlur=n.blur*e.browserShadowBlurConstant*(o+s)*(i.scaleX+i.scaleY)/4,t.shadowOffsetX=n.offsetX*o*i.scaleX,t.shadowOffsetY=n.offsetY*s*i.scaleY}},_removeShadow:function(t){this.shadow&&(t.shadowColor="",t.shadowBlur=t.shadowOffsetX=t.shadowOffsetY=0)},_applyPatternGradientTransform:function(t,e){if(!e||!e.toLive)return{offsetX:0,offsetY:0};var i=e.gradientTransform||e.patternTransform,n=-this.width/2+e.offsetX||0,r=-this.height/2+e.offsetY||0;return"percentage"===e.gradientUnits?t.transform(this.width,0,0,this.height,n,r):t.transform(1,0,0,1,n,r),i&&t.transform(i[0],i[1],i[2],i[3],i[4],i[5]),{offsetX:n,offsetY:r}},_renderPaintInOrder:function(t){"stroke"===this.paintFirst?(this._renderStroke(t),this._renderFill(t)):(this._renderFill(t),this._renderStroke(t))},_render:function(){},_renderFill:function(t){this.fill&&(t.save(),this._setFillStyles(t,this),"evenodd"===this.fillRule?t.fill("evenodd"):t.fill(),t.restore())},_renderStroke:function(t){if(this.stroke&&0!==this.strokeWidth){if(this.shadow&&!this.shadow.affectStroke&&this._removeShadow(t),t.save(),this.strokeUniform&&this.group){var e=this.getObjectScaling();t.scale(1/e.scaleX,1/e.scaleY)}else this.strokeUniform&&t.scale(1/this.scaleX,1/this.scaleY);this._setLineDash(t,this.strokeDashArray,this._renderDashedStroke),this._setStrokeStyles(t,this),t.stroke(),t.restore()}},_applyPatternForTransformedGradient:function(t,i){var n,r=this._limitCacheSize(this._getCacheCanvasDimensions()),o=e.util.createCanvasElement(),s=this.canvas.getRetinaScaling(),a=r.x/this.scaleX/s,A=r.y/this.scaleY/s;o.width=a,o.height=A,n=o.getContext("2d"),n.beginPath(),n.moveTo(0,0),n.lineTo(a,0),n.lineTo(a,A),n.lineTo(0,A),n.closePath(),n.translate(a/2,A/2),n.scale(r.zoomX/this.scaleX/s,r.zoomY/this.scaleY/s),this._applyPatternGradientTransform(n,i),n.fillStyle=i.toLive(t),n.fill(),t.translate(-this.width/2-this.strokeWidth/2,-this.height/2-this.strokeWidth/2),t.scale(s*this.scaleX/r.zoomX,s*this.scaleY/r.zoomY),t.strokeStyle=n.createPattern(o,"no-repeat")},_findCenterFromElement:function(){return{x:this.left+this.width/2,y:this.top+this.height/2}},_assignTransformMatrixProps:function(){if(this.transformMatrix){var t=e.util.qrDecompose(this.transformMatrix);this.flipX=!1,this.flipY=!1,this.set("scaleX",t.scaleX),this.set("scaleY",t.scaleY),this.angle=t.angle,this.skewX=t.skewX,this.skewY=0}},_removeTransformMatrix:function(t){var i=this._findCenterFromElement();this.transformMatrix&&(this._assignTransformMatrixProps(),i=e.util.transformPoint(i,this.transformMatrix)),this.transformMatrix=null,t&&(this.scaleX*=t.scaleX,this.scaleY*=t.scaleY,this.cropX=t.cropX,this.cropY=t.cropY,i.x+=t.offsetLeft,i.y+=t.offsetTop,this.width=t.width,this.height=t.height),this.setPositionByOrigin(i,"center","center")},clone:function(t,i){var n=this.toObject(i);this.constructor.fromObject?this.constructor.fromObject(n,t):e.Object._fromObject("Object",n,t)},cloneAsImage:function(t,i){var n=this.toCanvasElement(i);return t&&t(new e.Image(n)),this},toCanvasElement:function(t){t||(t={});var i=e.util,n=i.saveObjectTransform(this),r=this.group,o=this.shadow,s=Math.abs,a=(t.multiplier||1)*(t.enableRetinaScaling?e.devicePixelRatio:1);delete this.group,t.withoutTransform&&i.resetObjectTransform(this),t.withoutShadow&&(this.shadow=null);var A,c,l,u,h=e.util.createCanvasElement(),f=this.getBoundingRect(!0,!0),d=this.shadow,p={x:0,y:0};d&&(c=d.blur,A=d.nonScaling?{scaleX:1,scaleY:1}:this.getObjectScaling(),p.x=2*Math.round(s(d.offsetX)+c)*s(A.scaleX),p.y=2*Math.round(s(d.offsetY)+c)*s(A.scaleY)),l=f.width+p.x,u=f.height+p.y,h.width=Math.ceil(l),h.height=Math.ceil(u);var g=new e.StaticCanvas(h,{enableRetinaScaling:!1,renderOnAddRemove:!1,skipOffscreen:!1});"jpeg"===t.format&&(g.backgroundColor="#fff"),this.setPositionByOrigin(new e.Point(g.width/2,g.height/2),"center","center");var v=this.canvas;g.add(this);var m=g.toCanvasElement(a||1,t);return this.shadow=o,this.set("canvas",v),r&&(this.group=r),this.set(n).setCoords(),g._objects=[],g.dispose(),g=null,m},toDataURL:function(t){return t||(t={}),e.util.toDataURL(this.toCanvasElement(t),t.format||"png",t.quality||1)},isType:function(t){return this.type===t},complexity:function(){return 1},toJSON:function(t){return this.toObject(t)},rotate:function(t){var e=("center"!==this.originX||"center"!==this.originY)&&this.centeredRotation;return e&&this._setOriginToCenter(),this.set("angle",t),e&&this._resetOrigin(),this},centerH:function(){return this.canvas&&this.canvas.centerObjectH(this),this},viewportCenterH:function(){return this.canvas&&this.canvas.viewportCenterObjectH(this),this},centerV:function(){return this.canvas&&this.canvas.centerObjectV(this),this},viewportCenterV:function(){return this.canvas&&this.canvas.viewportCenterObjectV(this),this},center:function(){return this.canvas&&this.canvas.centerObject(this),this},viewportCenter:function(){return this.canvas&&this.canvas.viewportCenterObject(this),this},getLocalPointer:function(t,i){i=i||this.canvas.getPointer(t);var n=new e.Point(i.x,i.y),r=this._getLeftTopCoords();return this.angle&&(n=e.util.rotatePoint(n,r,s(-this.angle))),{x:n.x-r.x,y:n.y-r.y}},_setupCompositeOperation:function(t){this.globalCompositeOperation&&(t.globalCompositeOperation=this.globalCompositeOperation)}}),e.util.createAccessors&&e.util.createAccessors(e.Object),i(e.Object.prototype,e.Observable),e.Object.NUM_FRACTION_DIGITS=2,e.Object._fromObject=function(t,i,r,o){var s=e[t];i=n(i,!0),e.util.enlivenPatterns([i.fill,i.stroke],(function(t){"undefined"!==typeof t[0]&&(i.fill=t[0]),"undefined"!==typeof t[1]&&(i.stroke=t[1]),e.util.enlivenObjects([i.clipPath],(function(t){i.clipPath=t[0];var e=o?new s(i[o],i):new s(i);r&&r(e)}))}))},e.Object.__uid=0)}(e),function(){var t=n.util.degreesToRadians,e={left:-.5,center:0,right:.5},i={top:-.5,center:0,bottom:.5};n.util.object.extend(n.Object.prototype,{translateToGivenOrigin:function(t,r,o,s,a){var A,c,l,u=t.x,h=t.y;return"string"===typeof r?r=e[r]:r-=.5,"string"===typeof s?s=e[s]:s-=.5,A=s-r,"string"===typeof o?o=i[o]:o-=.5,"string"===typeof a?a=i[a]:a-=.5,c=a-o,(A||c)&&(l=this._getTransformedDimensions(),u=t.x+A*l.x,h=t.y+c*l.y),new n.Point(u,h)},translateToCenterPoint:function(e,i,r){var o=this.translateToGivenOrigin(e,i,r,"center","center");return this.angle?n.util.rotatePoint(o,e,t(this.angle)):o},translateToOriginPoint:function(e,i,r){var o=this.translateToGivenOrigin(e,"center","center",i,r);return this.angle?n.util.rotatePoint(o,e,t(this.angle)):o},getCenterPoint:function(){var t=new n.Point(this.left,this.top);return this.translateToCenterPoint(t,this.originX,this.originY)},getPointByOrigin:function(t,e){var i=this.getCenterPoint();return this.translateToOriginPoint(i,t,e)},toLocalPoint:function(e,i,r){var o,s,a=this.getCenterPoint();return o="undefined"!==typeof i&&"undefined"!==typeof r?this.translateToGivenOrigin(a,"center","center",i,r):new n.Point(this.left,this.top),s=new n.Point(e.x,e.y),this.angle&&(s=n.util.rotatePoint(s,a,-t(this.angle))),s.subtractEquals(o)},setPositionByOrigin:function(t,e,i){var n=this.translateToCenterPoint(t,e,i),r=this.translateToOriginPoint(n,this.originX,this.originY);this.set("left",r.x),this.set("top",r.y)},adjustPosition:function(i){var r,o,s=t(this.angle),a=this.getScaledWidth(),A=n.util.cos(s)*a,c=n.util.sin(s)*a;r="string"===typeof this.originX?e[this.originX]:this.originX-.5,o="string"===typeof i?e[i]:i-.5,this.left+=A*(o-r),this.top+=c*(o-r),this.setCoords(),this.originX=i},_setOriginToCenter:function(){this._originalOriginX=this.originX,this._originalOriginY=this.originY;var t=this.getCenterPoint();this.originX="center",this.originY="center",this.left=t.x,this.top=t.y},_resetOrigin:function(){var t=this.translateToOriginPoint(this.getCenterPoint(),this._originalOriginX,this._originalOriginY);this.originX=this._originalOriginX,this.originY=this._originalOriginY,this.left=t.x,this.top=t.y,this._originalOriginX=null,this._originalOriginY=null},_getLeftTopCoords:function(){return this.translateToOriginPoint(this.getCenterPoint(),"left","top")}})}(),function(){function t(t){return[new n.Point(t.tl.x,t.tl.y),new n.Point(t.tr.x,t.tr.y),new n.Point(t.br.x,t.br.y),new n.Point(t.bl.x,t.bl.y)]}var e=n.util,i=e.degreesToRadians,r=e.multiplyTransformMatrices,o=e.transformPoint;e.object.extend(n.Object.prototype,{oCoords:null,aCoords:null,lineCoords:null,ownMatrixCache:null,matrixCache:null,controls:{},_getCoords:function(t,e){return e?t?this.calcACoords():this.calcLineCoords():(this.aCoords&&this.lineCoords||this.setCoords(!0),t?this.aCoords:this.lineCoords)},getCoords:function(e,i){return t(this._getCoords(e,i))},intersectsWithRect:function(t,e,i,r){var o=this.getCoords(i,r),s=n.Intersection.intersectPolygonRectangle(o,t,e);return"Intersection"===s.status},intersectsWithObject:function(t,e,i){var r=n.Intersection.intersectPolygonPolygon(this.getCoords(e,i),t.getCoords(e,i));return"Intersection"===r.status||t.isContainedWithinObject(this,e,i)||this.isContainedWithinObject(t,e,i)},isContainedWithinObject:function(t,e,i){for(var n=this.getCoords(e,i),r=e?t.aCoords:t.lineCoords,o=0,s=t._getImageLines(r);o<4;o++)if(!t.containsPoint(n[o],s))return!1;return!0},isContainedWithinRect:function(t,e,i,n){var r=this.getBoundingRect(i,n);return r.left>=t.x&&r.left+r.width<=e.x&&r.top>=t.y&&r.top+r.height<=e.y},containsPoint:function(t,e,i,n){var r=this._getCoords(i,n),o=(e=e||this._getImageLines(r),this._findCrossPoints(t,e));return 0!==o&&o%2===1},isOnScreen:function(t){if(!this.canvas)return!1;var e=this.canvas.vptCoords.tl,i=this.canvas.vptCoords.br,n=this.getCoords(!0,t);return!!n.some((function(t){return t.x<=i.x&&t.x>=e.x&&t.y<=i.y&&t.y>=e.y}))||(!!this.intersectsWithRect(e,i,!0,t)||this._containsCenterOfCanvas(e,i,t))},_containsCenterOfCanvas:function(t,e,i){var n={x:(t.x+e.x)/2,y:(t.y+e.y)/2};return!!this.containsPoint(n,null,!0,i)},isPartiallyOnScreen:function(t){if(!this.canvas)return!1;var e=this.canvas.vptCoords.tl,i=this.canvas.vptCoords.br;if(this.intersectsWithRect(e,i,!0,t))return!0;var n=this.getCoords(!0,t).every((function(t){return(t.x>=i.x||t.x<=e.x)&&(t.y>=i.y||t.y<=e.y)}));return n&&this._containsCenterOfCanvas(e,i,t)},_getImageLines:function(t){var e={topline:{o:t.tl,d:t.tr},rightline:{o:t.tr,d:t.br},bottomline:{o:t.br,d:t.bl},leftline:{o:t.bl,d:t.tl}};return e},_findCrossPoints:function(t,e){var i,n,r,o,s,a,A=0;for(var c in e)if(a=e[c],!(a.o.y<t.y&&a.d.y<t.y)&&!(a.o.y>=t.y&&a.d.y>=t.y)&&(a.o.x===a.d.x&&a.o.x>=t.x?s=a.o.x:(i=0,n=(a.d.y-a.o.y)/(a.d.x-a.o.x),r=t.y-i*t.x,o=a.o.y-n*a.o.x,s=-(r-o)/(i-n)),s>=t.x&&(A+=1),2===A))break;return A},getBoundingRect:function(t,i){var n=this.getCoords(t,i);return e.makeBoundingBoxFromPoints(n)},getScaledWidth:function(){return this._getTransformedDimensions().x},getScaledHeight:function(){return this._getTransformedDimensions().y},_constrainScale:function(t){return Math.abs(t)<this.minScaleLimit?t<0?-this.minScaleLimit:this.minScaleLimit:0===t?1e-4:t},scale:function(t){return this._set("scaleX",t),this._set("scaleY",t),this.setCoords()},scaleToWidth:function(t,e){var i=this.getBoundingRect(e).width/this.getScaledWidth();return this.scale(t/this.width/i)},scaleToHeight:function(t,e){var i=this.getBoundingRect(e).height/this.getScaledHeight();return this.scale(t/this.height/i)},calcCoords:function(t){return t?this.calcACoords():this.calcOCoords()},calcLineCoords:function(){var t=this.getViewportTransform(),n=this.padding,r=i(this.angle),s=e.cos(r),a=e.sin(r),A=s*n,c=a*n,l=A+c,u=A-c,h=this.calcACoords(),f={tl:o(h.tl,t),tr:o(h.tr,t),bl:o(h.bl,t),br:o(h.br,t)};return n&&(f.tl.x-=u,f.tl.y-=l,f.tr.x+=l,f.tr.y-=u,f.bl.x-=l,f.bl.y+=u,f.br.x+=u,f.br.y+=l),f},calcOCoords:function(){var t=this._calcRotateMatrix(),e=this._calcTranslateMatrix(),i=this.getViewportTransform(),n=r(i,e),o=r(n,t),s=(o=r(o,[1/i[0],0,0,1/i[3],0,0]),this._calculateCurrentDimensions()),a={};return this.forEachControl((function(t,e,i){a[e]=t.positionHandler(s,o,i)})),a},calcACoords:function(){var t=this._calcRotateMatrix(),e=this._calcTranslateMatrix(),i=r(e,t),n=this._getTransformedDimensions(),s=n.x/2,a=n.y/2;return{tl:o({x:-s,y:-a},i),tr:o({x:s,y:-a},i),bl:o({x:-s,y:a},i),br:o({x:s,y:a},i)}},setCoords:function(t){return this.aCoords=this.calcACoords(),this.lineCoords=this.group?this.aCoords:this.calcLineCoords(),t||(this.oCoords=this.calcOCoords(),this._setCornerCoords&&this._setCornerCoords()),this},_calcRotateMatrix:function(){return e.calcRotateMatrix(this)},_calcTranslateMatrix:function(){var t=this.getCenterPoint();return[1,0,0,1,t.x,t.y]},transformMatrixKey:function(t){var e="_",i="";return!t&&this.group&&(i=this.group.transformMatrixKey(t)+e),i+this.top+e+this.left+e+this.scaleX+e+this.scaleY+e+this.skewX+e+this.skewY+e+this.angle+e+this.originX+e+this.originY+e+this.width+e+this.height+e+this.strokeWidth+this.flipX+this.flipY},calcTransformMatrix:function(t){var e=this.calcOwnMatrix();if(t||!this.group)return e;var i=this.transformMatrixKey(t),n=this.matrixCache||(this.matrixCache={});return n.key===i?n.value:(this.group&&(e=r(this.group.calcTransformMatrix(!1),e)),n.key=i,n.value=e,e)},calcOwnMatrix:function(){var t=this.transformMatrixKey(!0),i=this.ownMatrixCache||(this.ownMatrixCache={});if(i.key===t)return i.value;var n=this._calcTranslateMatrix(),r={angle:this.angle,translateX:n[4],translateY:n[5],scaleX:this.scaleX,scaleY:this.scaleY,skewX:this.skewX,skewY:this.skewY,flipX:this.flipX,flipY:this.flipY};return i.key=t,i.value=e.composeMatrix(r),i.value},_calcDimensionsTransformMatrix:function(t,i,n){return e.calcDimensionsMatrix({skewX:t,skewY:i,scaleX:this.scaleX*(n&&this.flipX?-1:1),scaleY:this.scaleY*(n&&this.flipY?-1:1)})},_getNonTransformedDimensions:function(){var t=this.strokeWidth,e=this.width+t,i=this.height+t;return{x:e,y:i}},_getTransformedDimensions:function(t,i){"undefined"===typeof t&&(t=this.skewX),"undefined"===typeof i&&(i=this.skewY);var n,r,o=this._getNonTransformedDimensions(),s=0===t&&0===i;if(this.strokeUniform?(n=this.width,r=this.height):(n=o.x,r=o.y),s)return this._finalizeDimensions(n*this.scaleX,r*this.scaleY);var a=e.sizeAfterTransform(n,r,{scaleX:this.scaleX,scaleY:this.scaleY,skewX:t,skewY:i});return this._finalizeDimensions(a.x,a.y)},_finalizeDimensions:function(t,e){return this.strokeUniform?{x:t+this.strokeWidth,y:e+this.strokeWidth}:{x:t,y:e}},_calculateCurrentDimensions:function(){var t=this.getViewportTransform(),e=this._getTransformedDimensions(),i=o(e,t,!0);return i.scalarAdd(2*this.padding)}})}(),n.util.object.extend(n.Object.prototype,{sendToBack:function(){return this.group?n.StaticCanvas.prototype.sendToBack.call(this.group,this):this.canvas&&this.canvas.sendToBack(this),this},bringToFront:function(){return this.group?n.StaticCanvas.prototype.bringToFront.call(this.group,this):this.canvas&&this.canvas.bringToFront(this),this},sendBackwards:function(t){return this.group?n.StaticCanvas.prototype.sendBackwards.call(this.group,this,t):this.canvas&&this.canvas.sendBackwards(this,t),this},bringForward:function(t){return this.group?n.StaticCanvas.prototype.bringForward.call(this.group,this,t):this.canvas&&this.canvas.bringForward(this,t),this},moveTo:function(t){return this.group&&"activeSelection"!==this.group.type?n.StaticCanvas.prototype.moveTo.call(this.group,this,t):this.canvas&&this.canvas.moveTo(this,t),this}}),function(){function t(t,e){if(e){if(e.toLive)return t+": url(#SVGID_"+e.id+"); ";var i=new n.Color(e),r=t+": "+i.toRgb()+"; ",o=i.getAlpha();return 1!==o&&(r+=t+"-opacity: "+o.toString()+"; "),r}return t+": none; "}var e=n.util.toFixed;n.util.object.extend(n.Object.prototype,{getSvgStyles:function(e){var i=this.fillRule?this.fillRule:"nonzero",n=this.strokeWidth?this.strokeWidth:"0",r=this.strokeDashArray?this.strokeDashArray.join(" "):"none",o=this.strokeDashOffset?this.strokeDashOffset:"0",s=this.strokeLineCap?this.strokeLineCap:"butt",a=this.strokeLineJoin?this.strokeLineJoin:"miter",A=this.strokeMiterLimit?this.strokeMiterLimit:"4",c="undefined"!==typeof this.opacity?this.opacity:"1",l=this.visible?"":" visibility: hidden;",u=e?"":this.getSvgFilter(),h=t("fill",this.fill),f=t("stroke",this.stroke);return[f,"stroke-width: ",n,"; ","stroke-dasharray: ",r,"; ","stroke-linecap: ",s,"; ","stroke-dashoffset: ",o,"; ","stroke-linejoin: ",a,"; ","stroke-miterlimit: ",A,"; ",h,"fill-rule: ",i,"; ","opacity: ",c,";",u,l].join("")},getSvgSpanStyles:function(e,i){var n="; ",r=e.fontFamily?"font-family: "+(-1===e.fontFamily.indexOf("'")&&-1===e.fontFamily.indexOf('"')?"'"+e.fontFamily+"'":e.fontFamily)+n:"",o=e.strokeWidth?"stroke-width: "+e.strokeWidth+n:"",s=(r=r,e.fontSize?"font-size: "+e.fontSize+"px"+n:""),a=e.fontStyle?"font-style: "+e.fontStyle+n:"",A=e.fontWeight?"font-weight: "+e.fontWeight+n:"",c=e.fill?t("fill",e.fill):"",l=e.stroke?t("stroke",e.stroke):"",u=this.getSvgTextDecoration(e),h=e.deltaY?"baseline-shift: "+-e.deltaY+"; ":"";return u&&(u="text-decoration: "+u+n),[l,o,r,s,a,A,u,c,h,i?"white-space: pre; ":""].join("")},getSvgTextDecoration:function(t){return["overline","underline","line-through"].filter((function(e){return t[e.replace("-","")]})).join(" ")},getSvgFilter:function(){return this.shadow?"filter: url(#SVGID_"+this.shadow.id+");":""},getSvgCommons:function(){return[this.id?'id="'+this.id+'" ':"",this.clipPath?'clip-path="url(#'+this.clipPath.clipPathId+')" ':""].join("")},getSvgTransform:function(t,e){var i=t?this.calcTransformMatrix():this.calcOwnMatrix(),r='transform="'+n.util.matrixToSVG(i);return r+(e||"")+'" '},_setSVGBg:function(t){if(this.backgroundColor){var i=n.Object.NUM_FRACTION_DIGITS;t.push("\t\t<rect ",this._getFillAttributes(this.backgroundColor),' x="',e(-this.width/2,i),'" y="',e(-this.height/2,i),'" width="',e(this.width,i),'" height="',e(this.height,i),'"></rect>\n')}},toSVG:function(t){return this._createBaseSVGMarkup(this._toSVG(t),{reviver:t})},toClipPathSVG:function(t){return"\t"+this._createBaseClipPathSVGMarkup(this._toSVG(t),{reviver:t})},_createBaseClipPathSVGMarkup:function(t,e){e=e||{};var i=e.reviver,n=e.additionalTransform||"",r=[this.getSvgTransform(!0,n),this.getSvgCommons()].join(""),o=t.indexOf("COMMON_PARTS");return t[o]=r,i?i(t.join("")):t.join("")},_createBaseSVGMarkup:function(t,e){e=e||{};var i,r,o=e.noStyle,s=e.reviver,a=o?"":'style="'+this.getSvgStyles()+'" ',A=e.withShadow?'style="'+this.getSvgFilter()+'" ':"",c=this.clipPath,l=this.strokeUniform?'vector-effect="non-scaling-stroke" ':"",u=c&&c.absolutePositioned,h=this.stroke,f=this.fill,d=this.shadow,p=[],g=t.indexOf("COMMON_PARTS"),v=e.additionalTransform;return c&&(c.clipPathId="CLIPPATH_"+n.Object.__uid++,r='<clipPath id="'+c.clipPathId+'" >\n'+c.toClipPathSVG(s)+"</clipPath>\n"),u&&p.push("<g ",A,this.getSvgCommons()," >\n"),p.push("<g ",this.getSvgTransform(!1),u?"":A+this.getSvgCommons()," >\n"),i=[a,l,o?"":this.addPaintOrder()," ",v?'transform="'+v+'" ':""].join(""),t[g]=i,f&&f.toLive&&p.push(f.toSVG(this)),h&&h.toLive&&p.push(h.toSVG(this)),d&&p.push(d.toSVG(this)),c&&p.push(r),p.push(t.join("")),p.push("</g>\n"),u&&p.push("</g>\n"),s?s(p.join("")):p.join("")},addPaintOrder:function(){return"fill"!==this.paintFirst?' paint-order="'+this.paintFirst+'" ':""}})}(),function(){var t=n.util.object.extend,e="stateProperties";function i(e,i,n){var r={},o=!0;n.forEach((function(t){r[t]=e[t]})),t(e[i],r,o)}function r(t,e,i){if(t===e)return!0;if(Array.isArray(t)){if(!Array.isArray(e)||t.length!==e.length)return!1;for(var n=0,o=t.length;n<o;n++)if(!r(t[n],e[n]))return!1;return!0}if(t&&"object"===typeof t){var s,a=Object.keys(t);if(!e||"object"!==typeof e||!i&&a.length!==Object.keys(e).length)return!1;for(n=0,o=a.length;n<o;n++)if(s=a[n],"canvas"!==s&&"group"!==s&&!r(t[s],e[s]))return!1;return!0}}n.util.object.extend(n.Object.prototype,{hasStateChanged:function(t){t=t||e;var i="_"+t;return Object.keys(this[i]).length<this[t].length||!r(this[i],this,!0)},saveState:function(t){var n=t&&t.propertySet||e,r="_"+n;return this[r]?(i(this,r,this[n]),t&&t.stateProperties&&i(this,r,t.stateProperties),this):this.setupState(t)},setupState:function(t){t=t||{};var i=t.propertySet||e;return t.propertySet=i,this["_"+i]={},this.saveState(t),this}})}(),function(){var t=n.util.degreesToRadians;n.util.object.extend(n.Object.prototype,{_findTargetCorner:function(t,e){if(!this.hasControls||this.group||!this.canvas||this.canvas._activeObject!==this)return!1;var i,n,r,o=t.x,s=t.y,a=Object.keys(this.oCoords),A=a.length-1;for(this.__corner=0;A>=0;A--)if(r=a[A],this.isControlVisible(r)&&(n=this._getImageLines(e?this.oCoords[r].touchCorner:this.oCoords[r].corner),i=this._findCrossPoints({x:o,y:s},n),0!==i&&i%2===1))return this.__corner=r,r;return!1},forEachControl:function(t){for(var e in this.controls)t(this.controls[e],e,this)},_setCornerCoords:function(){var t=this.oCoords;for(var e in t){var i=this.controls[e];t[e].corner=i.calcCornerCoords(this.angle,this.cornerSize,t[e].x,t[e].y,!1),t[e].touchCorner=i.calcCornerCoords(this.angle,this.touchCornerSize,t[e].x,t[e].y,!0)}},drawSelectionBackground:function(e){if(!this.selectionBackgroundColor||this.canvas&&!this.canvas.interactive||this.canvas&&this.canvas._activeObject!==this)return this;e.save();var i=this.getCenterPoint(),n=this._calculateCurrentDimensions(),r=this.canvas.viewportTransform;return e.translate(i.x,i.y),e.scale(1/r[0],1/r[3]),e.rotate(t(this.angle)),e.fillStyle=this.selectionBackgroundColor,e.fillRect(-n.x/2,-n.y/2,n.x,n.y),e.restore(),this},drawBorders:function(t,e){e=e||{};var i=this._calculateCurrentDimensions(),n=this.borderScaleFactor,r=i.x+n,o=i.y+n,s="undefined"!==typeof e.hasControls?e.hasControls:this.hasControls,a=!1;return t.save(),t.strokeStyle=e.borderColor||this.borderColor,this._setLineDash(t,e.borderDashArray||this.borderDashArray,null),t.strokeRect(-r/2,-o/2,r,o),s&&(t.beginPath(),this.forEachControl((function(e,i,n){e.withConnection&&e.getVisibility(n,i)&&(a=!0,t.moveTo(e.x*r,e.y*o),t.lineTo(e.x*r+e.offsetX,e.y*o+e.offsetY))})),a&&t.stroke()),t.restore(),this},drawBordersInGroup:function(t,e,i){i=i||{};var r=n.util.sizeAfterTransform(this.width,this.height,e),o=this.strokeWidth,s=this.strokeUniform,a=this.borderScaleFactor,A=r.x+o*(s?this.canvas.getZoom():e.scaleX)+a,c=r.y+o*(s?this.canvas.getZoom():e.scaleY)+a;return t.save(),this._setLineDash(t,i.borderDashArray||this.borderDashArray,null),t.strokeStyle=i.borderColor||this.borderColor,t.strokeRect(-A/2,-c/2,A,c),t.restore(),this},drawControls:function(t,e){return e=e||{},t.save(),t.setTransform(this.canvas.getRetinaScaling(),0,0,this.canvas.getRetinaScaling(),0,0),t.strokeStyle=t.fillStyle=e.cornerColor||this.cornerColor,this.transparentCorners||(t.strokeStyle=e.cornerStrokeColor||this.cornerStrokeColor),this._setLineDash(t,e.cornerDashArray||this.cornerDashArray,null),this.setCoords(),this.forEachControl((function(i,n,r){i.getVisibility(r,n)&&i.render(t,r.oCoords[n].x,r.oCoords[n].y,e,r)})),t.restore(),this},isControlVisible:function(t){return this.controls[t]&&this.controls[t].getVisibility(this,t)},setControlVisible:function(t,e){return this._controlsVisibility||(this._controlsVisibility={}),this._controlsVisibility[t]=e,this},setControlsVisibility:function(t){for(var e in t||(t={}),t)this.setControlVisible(e,t[e]);return this},onDeselect:function(){},onSelect:function(){}})}(),n.util.object.extend(n.StaticCanvas.prototype,{FX_DURATION:500,fxCenterObjectH:function(t,e){e=e||{};var i=function(){},r=e.onComplete||i,o=e.onChange||i,s=this;return n.util.animate({startValue:t.left,endValue:this.getCenter().left,duration:this.FX_DURATION,onChange:function(e){t.set("left",e),s.requestRenderAll(),o()},onComplete:function(){t.setCoords(),r()}}),this},fxCenterObjectV:function(t,e){e=e||{};var i=function(){},r=e.onComplete||i,o=e.onChange||i,s=this;return n.util.animate({startValue:t.top,endValue:this.getCenter().top,duration:this.FX_DURATION,onChange:function(e){t.set("top",e),s.requestRenderAll(),o()},onComplete:function(){t.setCoords(),r()}}),this},fxRemove:function(t,e){e=e||{};var i=function(){},r=e.onComplete||i,o=e.onChange||i,s=this;return n.util.animate({startValue:t.opacity,endValue:0,duration:this.FX_DURATION,onChange:function(e){t.set("opacity",e),s.requestRenderAll(),o()},onComplete:function(){s.remove(t),r()}}),this}}),n.util.object.extend(n.Object.prototype,{animate:function(){if(arguments[0]&&"object"===typeof arguments[0]){var t,e,i=[];for(t in arguments[0])i.push(t);for(var n=0,r=i.length;n<r;n++)t=i[n],e=n!==r-1,this._animate(t,arguments[0][t],arguments[1],e)}else this._animate.apply(this,arguments);return this},_animate:function(t,e,i,r){var o,s=this;e=e.toString(),i=i?n.util.object.clone(i):{},~t.indexOf(".")&&(o=t.split("."));var a=s.colorProperties.indexOf(t)>-1||o&&s.colorProperties.indexOf(o[1])>-1,A=o?this.get(o[0])[o[1]]:this.get(t);"from"in i||(i.from=A),a||(e=~e.indexOf("=")?A+parseFloat(e.replace("=","")):parseFloat(e));var c={startValue:i.from,endValue:e,byValue:i.by,easing:i.easing,duration:i.duration,abort:i.abort&&function(){return i.abort.call(s)},onChange:function(e,n,a){o?s[o[0]][o[1]]=e:s.set(t,e),r||i.onChange&&i.onChange(e,n,a)},onComplete:function(t,e,n){r||(s.setCoords(),i.onComplete&&i.onComplete(t,e,n))}};a?n.util.animateColor(c.startValue,c.endValue,c.duration,c):n.util.animate(c)}}),function(t){"use strict";var e=t.fabric||(t.fabric={}),i=e.util.object.extend,n=e.util.object.clone,r={x1:1,x2:1,y1:1,y2:1},o=e.StaticCanvas.supports("setLineDash");function s(t,e){var i=t.origin,n=t.axis1,r=t.axis2,o=t.dimension,s=e.nearest,a=e.center,A=e.farthest;return function(){switch(this.get(i)){case s:return Math.min(this.get(n),this.get(r));case a:return Math.min(this.get(n),this.get(r))+.5*this.get(o);case A:return Math.max(this.get(n),this.get(r))}}}e.Line?e.warn("fabric.Line is already defined"):(e.Line=e.util.createClass(e.Object,{type:"line",x1:0,y1:0,x2:0,y2:0,cacheProperties:e.Object.prototype.cacheProperties.concat("x1","x2","y1","y2"),initialize:function(t,e){t||(t=[0,0,0,0]),this.callSuper("initialize",e),this.set("x1",t[0]),this.set("y1",t[1]),this.set("x2",t[2]),this.set("y2",t[3]),this._setWidthHeight(e)},_setWidthHeight:function(t){t||(t={}),this.width=Math.abs(this.x2-this.x1),this.height=Math.abs(this.y2-this.y1),this.left="left"in t?t.left:this._getLeftToOriginX(),this.top="top"in t?t.top:this._getTopToOriginY()},_set:function(t,e){return this.callSuper("_set",t,e),"undefined"!==typeof r[t]&&this._setWidthHeight(),this},_getLeftToOriginX:s({origin:"originX",axis1:"x1",axis2:"x2",dimension:"width"},{nearest:"left",center:"center",farthest:"right"}),_getTopToOriginY:s({origin:"originY",axis1:"y1",axis2:"y2",dimension:"height"},{nearest:"top",center:"center",farthest:"bottom"}),_render:function(t){if(t.beginPath(),!this.strokeDashArray||this.strokeDashArray&&o){var e=this.calcLinePoints();t.moveTo(e.x1,e.y1),t.lineTo(e.x2,e.y2)}t.lineWidth=this.strokeWidth;var i=t.strokeStyle;t.strokeStyle=this.stroke||t.fillStyle,this.stroke&&this._renderStroke(t),t.strokeStyle=i},_renderDashedStroke:function(t){var i=this.calcLinePoints();t.beginPath(),e.util.drawDashedLine(t,i.x1,i.y1,i.x2,i.y2,this.strokeDashArray),t.closePath()},_findCenterFromElement:function(){return{x:(this.x1+this.x2)/2,y:(this.y1+this.y2)/2}},toObject:function(t){return i(this.callSuper("toObject",t),this.calcLinePoints())},_getNonTransformedDimensions:function(){var t=this.callSuper("_getNonTransformedDimensions");return"butt"===this.strokeLineCap&&(0===this.width&&(t.y-=this.strokeWidth),0===this.height&&(t.x-=this.strokeWidth)),t},calcLinePoints:function(){var t=this.x1<=this.x2?-1:1,e=this.y1<=this.y2?-1:1,i=t*this.width*.5,n=e*this.height*.5,r=t*this.width*-.5,o=e*this.height*-.5;return{x1:i,x2:r,y1:n,y2:o}},_toSVG:function(){var t=this.calcLinePoints();return["<line ","COMMON_PARTS",'x1="',t.x1,'" y1="',t.y1,'" x2="',t.x2,'" y2="',t.y2,'" />\n']}}),e.Line.ATTRIBUTE_NAMES=e.SHARED_ATTRIBUTES.concat("x1 y1 x2 y2".split(" ")),e.Line.fromElement=function(t,n,r){r=r||{};var o=e.parseAttributes(t,e.Line.ATTRIBUTE_NAMES),s=[o.x1||0,o.y1||0,o.x2||0,o.y2||0];n(new e.Line(s,i(o,r)))},e.Line.fromObject=function(t,i){function r(t){delete t.points,i&&i(t)}var o=n(t,!0);o.points=[t.x1,t.y1,t.x2,t.y2],e.Object._fromObject("Line",o,r,"points")})}(e),function(t){"use strict";var e=t.fabric||(t.fabric={}),i=Math.PI;function n(t){return"radius"in t&&t.radius>=0}e.Circle?e.warn("fabric.Circle is already defined."):(e.Circle=e.util.createClass(e.Object,{type:"circle",radius:0,startAngle:0,endAngle:2*i,cacheProperties:e.Object.prototype.cacheProperties.concat("radius","startAngle","endAngle"),_set:function(t,e){return this.callSuper("_set",t,e),"radius"===t&&this.setRadius(e),this},toObject:function(t){return this.callSuper("toObject",["radius","startAngle","endAngle"].concat(t))},_toSVG:function(){var t,n=0,r=0,o=(this.endAngle-this.startAngle)%(2*i);if(0===o)t=["<circle ","COMMON_PARTS",'cx="'+n+'" cy="'+r+'" ','r="',this.radius,'" />\n'];else{var s=e.util.cos(this.startAngle)*this.radius,a=e.util.sin(this.startAngle)*this.radius,A=e.util.cos(this.endAngle)*this.radius,c=e.util.sin(this.endAngle)*this.radius,l=o>i?"1":"0";t=['<path d="M '+s+" "+a," A "+this.radius+" "+this.radius," 0 ",+l+" 1"," "+A+" "+c,'" ',"COMMON_PARTS"," />\n"]}return t},_render:function(t){t.beginPath(),t.arc(0,0,this.radius,this.startAngle,this.endAngle,!1),this._renderPaintInOrder(t)},getRadiusX:function(){return this.get("radius")*this.get("scaleX")},getRadiusY:function(){return this.get("radius")*this.get("scaleY")},setRadius:function(t){return this.radius=t,this.set("width",2*t).set("height",2*t)}}),e.Circle.ATTRIBUTE_NAMES=e.SHARED_ATTRIBUTES.concat("cx cy r".split(" ")),e.Circle.fromElement=function(t,i){var r=e.parseAttributes(t,e.Circle.ATTRIBUTE_NAMES);if(!n(r))throw new Error("value of `r` attribute is required and can not be negative");r.left=(r.left||0)-r.radius,r.top=(r.top||0)-r.radius,i(new e.Circle(r))},e.Circle.fromObject=function(t,i){return e.Object._fromObject("Circle",t,i)})}(e),function(t){"use strict";var e=t.fabric||(t.fabric={});e.Triangle?e.warn("fabric.Triangle is already defined"):(e.Triangle=e.util.createClass(e.Object,{type:"triangle",width:100,height:100,_render:function(t){var e=this.width/2,i=this.height/2;t.beginPath(),t.moveTo(-e,i),t.lineTo(0,-i),t.lineTo(e,i),t.closePath(),this._renderPaintInOrder(t)},_renderDashedStroke:function(t){var i=this.width/2,n=this.height/2;t.beginPath(),e.util.drawDashedLine(t,-i,n,0,-n,this.strokeDashArray),e.util.drawDashedLine(t,0,-n,i,n,this.strokeDashArray),e.util.drawDashedLine(t,i,n,-i,n,this.strokeDashArray),t.closePath()},_toSVG:function(){var t=this.width/2,e=this.height/2,i=[-t+" "+e,"0 "+-e,t+" "+e].join(",");return["<polygon ","COMMON_PARTS",'points="',i,'" />']}}),e.Triangle.fromObject=function(t,i){return e.Object._fromObject("Triangle",t,i)})}(e),function(t){"use strict";var e=t.fabric||(t.fabric={}),i=2*Math.PI;e.Ellipse?e.warn("fabric.Ellipse is already defined."):(e.Ellipse=e.util.createClass(e.Object,{type:"ellipse",rx:0,ry:0,cacheProperties:e.Object.prototype.cacheProperties.concat("rx","ry"),initialize:function(t){this.callSuper("initialize",t),this.set("rx",t&&t.rx||0),this.set("ry",t&&t.ry||0)},_set:function(t,e){switch(this.callSuper("_set",t,e),t){case"rx":this.rx=e,this.set("width",2*e);break;case"ry":this.ry=e,this.set("height",2*e);break}return this},getRx:function(){return this.get("rx")*this.get("scaleX")},getRy:function(){return this.get("ry")*this.get("scaleY")},toObject:function(t){return this.callSuper("toObject",["rx","ry"].concat(t))},_toSVG:function(){return["<ellipse ","COMMON_PARTS",'cx="0" cy="0" ','rx="',this.rx,'" ry="',this.ry,'" />\n']},_render:function(t){t.beginPath(),t.save(),t.transform(1,0,0,this.ry/this.rx,0,0),t.arc(0,0,this.rx,0,i,!1),t.restore(),this._renderPaintInOrder(t)}}),e.Ellipse.ATTRIBUTE_NAMES=e.SHARED_ATTRIBUTES.concat("cx cy rx ry".split(" ")),e.Ellipse.fromElement=function(t,i){var n=e.parseAttributes(t,e.Ellipse.ATTRIBUTE_NAMES);n.left=(n.left||0)-n.rx,n.top=(n.top||0)-n.ry,i(new e.Ellipse(n))},e.Ellipse.fromObject=function(t,i){return e.Object._fromObject("Ellipse",t,i)})}(e),function(t){"use strict";var e=t.fabric||(t.fabric={}),i=e.util.object.extend;e.Rect?e.warn("fabric.Rect is already defined"):(e.Rect=e.util.createClass(e.Object,{stateProperties:e.Object.prototype.stateProperties.concat("rx","ry"),type:"rect",rx:0,ry:0,cacheProperties:e.Object.prototype.cacheProperties.concat("rx","ry"),initialize:function(t){this.callSuper("initialize",t),this._initRxRy()},_initRxRy:function(){this.rx&&!this.ry?this.ry=this.rx:this.ry&&!this.rx&&(this.rx=this.ry)},_render:function(t){var e=this.rx?Math.min(this.rx,this.width/2):0,i=this.ry?Math.min(this.ry,this.height/2):0,n=this.width,r=this.height,o=-this.width/2,s=-this.height/2,a=0!==e||0!==i,A=.4477152502;t.beginPath(),t.moveTo(o+e,s),t.lineTo(o+n-e,s),a&&t.bezierCurveTo(o+n-A*e,s,o+n,s+A*i,o+n,s+i),t.lineTo(o+n,s+r-i),a&&t.bezierCurveTo(o+n,s+r-A*i,o+n-A*e,s+r,o+n-e,s+r),t.lineTo(o+e,s+r),a&&t.bezierCurveTo(o+A*e,s+r,o,s+r-A*i,o,s+r-i),t.lineTo(o,s+i),a&&t.bezierCurveTo(o,s+A*i,o+A*e,s,o+e,s),t.closePath(),this._renderPaintInOrder(t)},_renderDashedStroke:function(t){var i=-this.width/2,n=-this.height/2,r=this.width,o=this.height;t.beginPath(),e.util.drawDashedLine(t,i,n,i+r,n,this.strokeDashArray),e.util.drawDashedLine(t,i+r,n,i+r,n+o,this.strokeDashArray),e.util.drawDashedLine(t,i+r,n+o,i,n+o,this.strokeDashArray),e.util.drawDashedLine(t,i,n+o,i,n,this.strokeDashArray),t.closePath()},toObject:function(t){return this.callSuper("toObject",["rx","ry"].concat(t))},_toSVG:function(){var t=-this.width/2,e=-this.height/2;return["<rect ","COMMON_PARTS",'x="',t,'" y="',e,'" rx="',this.rx,'" ry="',this.ry,'" width="',this.width,'" height="',this.height,'" />\n']}}),e.Rect.ATTRIBUTE_NAMES=e.SHARED_ATTRIBUTES.concat("x y rx ry width height".split(" ")),e.Rect.fromElement=function(t,n,r){if(!t)return n(null);r=r||{};var o=e.parseAttributes(t,e.Rect.ATTRIBUTE_NAMES);o.left=o.left||0,o.top=o.top||0,o.height=o.height||0,o.width=o.width||0;var s=new e.Rect(i(r?e.util.object.clone(r):{},o));s.visible=s.visible&&s.width>0&&s.height>0,n(s)},e.Rect.fromObject=function(t,i){return e.Object._fromObject("Rect",t,i)})}(e),function(t){"use strict";var e=t.fabric||(t.fabric={}),i=e.util.object.extend,n=e.util.array.min,r=e.util.array.max,o=e.util.toFixed;e.Polyline?e.warn("fabric.Polyline is already defined"):(e.Polyline=e.util.createClass(e.Object,{type:"polyline",points:null,cacheProperties:e.Object.prototype.cacheProperties.concat("points"),initialize:function(t,e){e=e||{},this.points=t||[],this.callSuper("initialize",e),this._setPositionDimensions(e)},_setPositionDimensions:function(t){var e,i=this._calcDimensions(t);this.width=i.width,this.height=i.height,t.fromSVG||(e=this.translateToGivenOrigin({x:i.left-this.strokeWidth/2,y:i.top-this.strokeWidth/2},"left","top",this.originX,this.originY)),"undefined"===typeof t.left&&(this.left=t.fromSVG?i.left:e.x),"undefined"===typeof t.top&&(this.top=t.fromSVG?i.top:e.y),this.pathOffset={x:i.left+this.width/2,y:i.top+this.height/2}},_calcDimensions:function(){var t=this.points,e=n(t,"x")||0,i=n(t,"y")||0,o=r(t,"x")||0,s=r(t,"y")||0,a=o-e,A=s-i;return{left:e,top:i,width:a,height:A}},toObject:function(t){return i(this.callSuper("toObject",t),{points:this.points.concat()})},_toSVG:function(){for(var t=[],i=this.pathOffset.x,n=this.pathOffset.y,r=e.Object.NUM_FRACTION_DIGITS,s=0,a=this.points.length;s<a;s++)t.push(o(this.points[s].x-i,r),",",o(this.points[s].y-n,r)," ");return["<"+this.type+" ","COMMON_PARTS",'points="',t.join(""),'" />\n']},commonRender:function(t){var e,i=this.points.length,n=this.pathOffset.x,r=this.pathOffset.y;if(!i||isNaN(this.points[i-1].y))return!1;t.beginPath(),t.moveTo(this.points[0].x-n,this.points[0].y-r);for(var o=0;o<i;o++)e=this.points[o],t.lineTo(e.x-n,e.y-r);return!0},_render:function(t){this.commonRender(t)&&this._renderPaintInOrder(t)},_renderDashedStroke:function(t){var i,n;t.beginPath();for(var r=0,o=this.points.length;r<o;r++)i=this.points[r],n=this.points[r+1]||i,e.util.drawDashedLine(t,i.x,i.y,n.x,n.y,this.strokeDashArray)},complexity:function(){return this.get("points").length}}),e.Polyline.ATTRIBUTE_NAMES=e.SHARED_ATTRIBUTES.concat(),e.Polyline.fromElementGenerator=function(t){return function(n,r,o){if(!n)return r(null);o||(o={});var s=e.parsePointsAttribute(n.getAttribute("points")),a=e.parseAttributes(n,e[t].ATTRIBUTE_NAMES);a.fromSVG=!0,r(new e[t](s,i(a,o)))}},e.Polyline.fromElement=e.Polyline.fromElementGenerator("Polyline"),e.Polyline.fromObject=function(t,i){return e.Object._fromObject("Polyline",t,i,"points")})}(e),function(t){"use strict";var e=t.fabric||(t.fabric={});e.Polygon?e.warn("fabric.Polygon is already defined"):(e.Polygon=e.util.createClass(e.Polyline,{type:"polygon",_render:function(t){this.commonRender(t)&&(t.closePath(),this._renderPaintInOrder(t))},_renderDashedStroke:function(t){this.callSuper("_renderDashedStroke",t),t.closePath()}}),e.Polygon.ATTRIBUTE_NAMES=e.SHARED_ATTRIBUTES.concat(),e.Polygon.fromElement=e.Polyline.fromElementGenerator("Polygon"),e.Polygon.fromObject=function(t,i){return e.Object._fromObject("Polygon",t,i,"points")})}(e),function(t){"use strict";var e=t.fabric||(t.fabric={}),i=e.util.array.min,n=e.util.array.max,r=e.util.object.extend,o=Object.prototype.toString,s=e.util.toFixed;e.Path?e.warn("fabric.Path is already defined"):(e.Path=e.util.createClass(e.Object,{type:"path",path:null,cacheProperties:e.Object.prototype.cacheProperties.concat("path","fillRule"),stateProperties:e.Object.prototype.stateProperties.concat("path"),initialize:function(t,i){i=i||{},this.callSuper("initialize",i),t||(t=[]);var n="[object Array]"===o.call(t);this.path=n?e.util.makePathSimpler(t):e.util.makePathSimpler(e.util.parsePath(t)),this.path&&e.Polyline.prototype._setPositionDimensions.call(this,i)},_renderPathCommands:function(t){var e,i=0,n=0,r=0,o=0,s=0,a=0,A=-this.pathOffset.x,c=-this.pathOffset.y;t.beginPath();for(var l=0,u=this.path.length;l<u;++l)switch(e=this.path[l],e[0]){case"L":r=e[1],o=e[2],t.lineTo(r+A,o+c);break;case"M":r=e[1],o=e[2],i=r,n=o,t.moveTo(r+A,o+c);break;case"C":r=e[5],o=e[6],s=e[3],a=e[4],t.bezierCurveTo(e[1]+A,e[2]+c,s+A,a+c,r+A,o+c);break;case"Q":t.quadraticCurveTo(e[1]+A,e[2]+c,e[3]+A,e[4]+c),r=e[3],o=e[4],s=e[1],a=e[2];break;case"z":case"Z":r=i,o=n,t.closePath();break}},_render:function(t){this._renderPathCommands(t),this._renderPaintInOrder(t)},toString:function(){return"#<fabric.Path ("+this.complexity()+'): { "top": '+this.top+', "left": '+this.left+" }>"},toObject:function(t){return r(this.callSuper("toObject",t),{path:this.path.map((function(t){return t.slice()}))})},toDatalessObject:function(t){var e=this.toObject(["sourcePath"].concat(t));return e.sourcePath&&delete e.path,e},_toSVG:function(){var t=this.path.map((function(t){return t.join(" ")})).join(" ");return["<path ","COMMON_PARTS",'d="',t,'" stroke-linecap="round" ',"/>\n"]},_getOffsetTransform:function(){var t=e.Object.NUM_FRACTION_DIGITS;return" translate("+s(-this.pathOffset.x,t)+", "+s(-this.pathOffset.y,t)+")"},toClipPathSVG:function(t){var e=this._getOffsetTransform();return"\t"+this._createBaseClipPathSVGMarkup(this._toSVG(),{reviver:t,additionalTransform:e})},toSVG:function(t){var e=this._getOffsetTransform();return this._createBaseSVGMarkup(this._toSVG(),{reviver:t,additionalTransform:e})},complexity:function(){return this.path.length},_calcDimensions:function(){for(var t,r,o=[],s=[],a=0,A=0,c=0,l=0,u=0,h=this.path.length;u<h;++u){switch(t=this.path[u],t[0]){case"L":c=t[1],l=t[2],r=[];break;case"M":c=t[1],l=t[2],a=c,A=l,r=[];break;case"C":r=e.util.getBoundsOfCurve(c,l,t[1],t[2],t[3],t[4],t[5],t[6]),c=t[5],l=t[6];break;case"Q":r=e.util.getBoundsOfCurve(c,l,t[1],t[2],t[1],t[2],t[3],t[4]),c=t[3],l=t[4];break;case"z":case"Z":c=a,l=A;break}r.forEach((function(t){o.push(t.x),s.push(t.y)})),o.push(c),s.push(l)}var f=i(o)||0,d=i(s)||0,p=n(o)||0,g=n(s)||0,v=p-f,m=g-d;return{left:f,top:d,width:v,height:m}}}),e.Path.fromObject=function(t,i){if("string"===typeof t.sourcePath){var n=t.sourcePath;e.loadSVGFromURL(n,(function(e){var n=e[0];n.setOptions(t),i&&i(n)}))}else e.Object._fromObject("Path",t,i,"path")},e.Path.ATTRIBUTE_NAMES=e.SHARED_ATTRIBUTES.concat(["d"]),e.Path.fromElement=function(t,i,n){var o=e.parseAttributes(t,e.Path.ATTRIBUTE_NAMES);o.fromSVG=!0,i(new e.Path(o.d,r(o,n)))})}(e),function(t){"use strict";var e=t.fabric||(t.fabric={}),i=e.util.array.min,n=e.util.array.max;e.Group||(e.Group=e.util.createClass(e.Object,e.Collection,{type:"group",strokeWidth:0,subTargetCheck:!1,cacheProperties:[],useSetOnGroup:!1,initialize:function(t,e,i){e=e||{},this._objects=[],i&&this.callSuper("initialize",e),this._objects=t||[];for(var n=this._objects.length;n--;)this._objects[n].group=this;if(i)this._updateObjectsACoords();else{var r=e&&e.centerPoint;void 0!==e.originX&&(this.originX=e.originX),void 0!==e.originY&&(this.originY=e.originY),r||this._calcBounds(),this._updateObjectsCoords(r),delete e.centerPoint,this.callSuper("initialize",e)}this.setCoords()},_updateObjectsACoords:function(){for(var t=!0,e=this._objects.length;e--;)this._objects[e].setCoords(t)},_updateObjectsCoords:function(t){t=t||this.getCenterPoint();for(var e=this._objects.length;e--;)this._updateObjectCoords(this._objects[e],t)},_updateObjectCoords:function(t,e){var i=t.left,n=t.top,r=!0;t.set({left:i-e.x,top:n-e.y}),t.group=this,t.setCoords(r)},toString:function(){return"#<fabric.Group: ("+this.complexity()+")>"},addWithUpdate:function(t){var i=!!this.group;return this._restoreObjectsState(),e.util.resetObjectTransform(this),t&&(i&&e.util.removeTransformFromObject(t,this.group.calcTransformMatrix()),this._objects.push(t),t.group=this,t._set("canvas",this.canvas)),this._calcBounds(),this._updateObjectsCoords(),this.dirty=!0,i?this.group.addWithUpdate():this.setCoords(),this},removeWithUpdate:function(t){return this._restoreObjectsState(),e.util.resetObjectTransform(this),this.remove(t),this._calcBounds(),this._updateObjectsCoords(),this.setCoords(),this.dirty=!0,this},_onObjectAdded:function(t){this.dirty=!0,t.group=this,t._set("canvas",this.canvas)},_onObjectRemoved:function(t){this.dirty=!0,delete t.group},_set:function(t,i){var n=this._objects.length;if(this.useSetOnGroup)while(n--)this._objects[n].setOnGroup(t,i);if("canvas"===t)while(n--)this._objects[n]._set(t,i);e.Object.prototype._set.call(this,t,i)},toObject:function(t){var i=this.includeDefaultValues,n=this._objects.map((function(e){var n=e.includeDefaultValues;e.includeDefaultValues=i;var r=e.toObject(t);return e.includeDefaultValues=n,r})),r=e.Object.prototype.toObject.call(this,t);return r.objects=n,r},toDatalessObject:function(t){var i,n=this.sourcePath;if(n)i=n;else{var r=this.includeDefaultValues;i=this._objects.map((function(e){var i=e.includeDefaultValues;e.includeDefaultValues=r;var n=e.toDatalessObject(t);return e.includeDefaultValues=i,n}))}var o=e.Object.prototype.toDatalessObject.call(this,t);return o.objects=i,o},render:function(t){this._transformDone=!0,this.callSuper("render",t),this._transformDone=!1},shouldCache:function(){var t=e.Object.prototype.shouldCache.call(this);if(t)for(var i=0,n=this._objects.length;i<n;i++)if(this._objects[i].willDrawShadow())return this.ownCaching=!1,!1;return t},willDrawShadow:function(){if(e.Object.prototype.willDrawShadow.call(this))return!0;for(var t=0,i=this._objects.length;t<i;t++)if(this._objects[t].willDrawShadow())return!0;return!1},isOnACache:function(){return this.ownCaching||this.group&&this.group.isOnACache()},drawObject:function(t){for(var e=0,i=this._objects.length;e<i;e++)this._objects[e].render(t);this._drawClipPath(t)},isCacheDirty:function(t){if(this.callSuper("isCacheDirty",t))return!0;if(!this.statefullCache)return!1;for(var e=0,i=this._objects.length;e<i;e++)if(this._objects[e].isCacheDirty(!0)){if(this._cacheCanvas){var n=this.cacheWidth/this.zoomX,r=this.cacheHeight/this.zoomY;this._cacheContext.clearRect(-n/2,-r/2,n,r)}return!0}return!1},_restoreObjectsState:function(){var t=this.calcOwnMatrix();return this._objects.forEach((function(i){e.util.addTransformToObject(i,t),delete i.group,i.setCoords()})),this},realizeTransform:function(t,i){return e.util.addTransformToObject(t,i),t},destroy:function(){return this._objects.forEach((function(t){t.set("dirty",!0)})),this._restoreObjectsState()},toActiveSelection:function(){if(this.canvas){var t=this._objects,i=this.canvas;this._objects=[];var n=this.toObject();delete n.objects;var r=new e.ActiveSelection([]);return r.set(n),r.type="activeSelection",i.remove(this),t.forEach((function(t){t.group=r,t.dirty=!0,i.add(t)})),r.canvas=i,r._objects=t,i._activeObject=r,r.setCoords(),r}},ungroupOnCanvas:function(){return this._restoreObjectsState()},setObjectsCoords:function(){var t=!0;return this.forEachObject((function(e){e.setCoords(t)})),this},_calcBounds:function(t){for(var e,i,n,r,o=[],s=[],a=["tr","br","bl","tl"],A=0,c=this._objects.length,l=a.length;A<c;++A){for(e=this._objects[A],n=e.calcACoords(),r=0;r<l;r++)i=a[r],o.push(n[i].x),s.push(n[i].y);e.aCoords=n}this._getBounds(o,s,t)},_getBounds:function(t,r,o){var s=new e.Point(i(t),i(r)),a=new e.Point(n(t),n(r)),A=s.y||0,c=s.x||0,l=a.x-s.x||0,u=a.y-s.y||0;this.width=l,this.height=u,o||this.setPositionByOrigin({x:c,y:A},"left","top")},_toSVG:function(t){for(var e=["<g ","COMMON_PARTS"," >\n"],i=0,n=this._objects.length;i<n;i++)e.push("\t\t",this._objects[i].toSVG(t));return e.push("</g>\n"),e},getSvgStyles:function(){var t="undefined"!==typeof this.opacity&&1!==this.opacity?"opacity: "+this.opacity+";":"",e=this.visible?"":" visibility: hidden;";return[t,this.getSvgFilter(),e].join("")},toClipPathSVG:function(t){for(var e=[],i=0,n=this._objects.length;i<n;i++)e.push("\t",this._objects[i].toClipPathSVG(t));return this._createBaseClipPathSVGMarkup(e,{reviver:t})}}),e.Group.fromObject=function(t,i){var n=t.objects,r=e.util.object.clone(t,!0);delete r.objects,"string"!==typeof n?e.util.enlivenObjects(n,(function(n){e.util.enlivenObjects([t.clipPath],(function(r){var o=e.util.object.clone(t,!0);o.clipPath=r[0],delete o.objects,i&&i(new e.Group(n,o,!0))}))})):e.loadSVGFromURL(n,(function(o){var s=e.util.groupSVGElements(o,t,n);s.set(r),i&&i(s)}))})}(e),function(t){"use strict";var e=t.fabric||(t.fabric={});e.ActiveSelection||(e.ActiveSelection=e.util.createClass(e.Group,{type:"activeSelection",initialize:function(t,i){i=i||{},this._objects=t||[];for(var n=this._objects.length;n--;)this._objects[n].group=this;i.originX&&(this.originX=i.originX),i.originY&&(this.originY=i.originY),this._calcBounds(),this._updateObjectsCoords(),e.Object.prototype.initialize.call(this,i),this.setCoords()},toGroup:function(){var t=this._objects.concat();this._objects=[];var i=e.Object.prototype.toObject.call(this),n=new e.Group([]);if(delete i.type,n.set(i),t.forEach((function(t){t.canvas.remove(t),t.group=n})),n._objects=t,!this.canvas)return n;var r=this.canvas;return r.add(n),r._activeObject=n,n.setCoords(),n},onDeselect:function(){return this.destroy(),!1},toString:function(){return"#<fabric.ActiveSelection: ("+this.complexity()+")>"},shouldCache:function(){return!1},isOnACache:function(){return!1},_renderControls:function(t,e,i){t.save(),t.globalAlpha=this.isMoving?this.borderOpacityWhenMoving:1,this.callSuper("_renderControls",t,e),i=i||{},"undefined"===typeof i.hasControls&&(i.hasControls=!1),i.forActiveSelection=!0;for(var n=0,r=this._objects.length;n<r;n++)this._objects[n]._renderControls(t,i);t.restore()}}),e.ActiveSelection.fromObject=function(t,i){e.util.enlivenObjects(t.objects,(function(n){delete t.objects,i&&i(new e.ActiveSelection(n,t,!0))}))})}(e),function(t){"use strict";var e=n.util.object.extend;t.fabric||(t.fabric={}),t.fabric.Image?n.warn("fabric.Image is already defined."):(n.Image=n.util.createClass(n.Object,{type:"image",strokeWidth:0,srcFromAttribute:!1,_lastScaleX:1,_lastScaleY:1,_filterScalingX:1,_filterScalingY:1,minimumScaleTrigger:.5,stateProperties:n.Object.prototype.stateProperties.concat("cropX","cropY"),cacheProperties:n.Object.prototype.cacheProperties.concat("cropX","cropY"),cacheKey:"",cropX:0,cropY:0,imageSmoothing:!0,initialize:function(t,e){e||(e={}),this.filters=[],this.cacheKey="texture"+n.Object.__uid++,this.callSuper("initialize",e),this._initElement(t,e)},getElement:function(){return this._element||{}},setElement:function(t,e){return this.removeTexture(this.cacheKey),this.removeTexture(this.cacheKey+"_filtered"),this._element=t,this._originalElement=t,this._initConfig(e),0!==this.filters.length&&this.applyFilters(),this.resizeFilter&&this.applyResizeFilters(),this},removeTexture:function(t){var e=n.filterBackend;e&&e.evictCachesForKey&&e.evictCachesForKey(t)},dispose:function(){this.removeTexture(this.cacheKey),this.removeTexture(this.cacheKey+"_filtered"),this._cacheContext=void 0,["_originalElement","_element","_filteredEl","_cacheCanvas"].forEach(function(t){n.util.cleanUpJsdomNode(this[t]),this[t]=void 0}.bind(this))},getCrossOrigin:function(){return this._originalElement&&(this._originalElement.crossOrigin||null)},getOriginalSize:function(){var t=this.getElement();return{width:t.naturalWidth||t.width,height:t.naturalHeight||t.height}},_stroke:function(t){if(this.stroke&&0!==this.strokeWidth){var e=this.width/2,i=this.height/2;t.beginPath(),t.moveTo(-e,-i),t.lineTo(e,-i),t.lineTo(e,i),t.lineTo(-e,i),t.lineTo(-e,-i),t.closePath()}},_renderDashedStroke:function(t){var e=-this.width/2,i=-this.height/2,r=this.width,o=this.height;t.save(),this._setStrokeStyles(t,this),t.beginPath(),n.util.drawDashedLine(t,e,i,e+r,i,this.strokeDashArray),n.util.drawDashedLine(t,e+r,i,e+r,i+o,this.strokeDashArray),n.util.drawDashedLine(t,e+r,i+o,e,i+o,this.strokeDashArray),n.util.drawDashedLine(t,e,i+o,e,i,this.strokeDashArray),t.closePath(),t.restore()},toObject:function(t){var i=[];this.filters.forEach((function(t){t&&i.push(t.toObject())}));var n=e(this.callSuper("toObject",["cropX","cropY"].concat(t)),{src:this.getSrc(),crossOrigin:this.getCrossOrigin(),filters:i});return this.resizeFilter&&(n.resizeFilter=this.resizeFilter.toObject()),n},hasCrop:function(){return this.cropX||this.cropY||this.width<this._element.width||this.height<this._element.height},_toSVG:function(){var t,e=[],i=[],r=this._element,o=-this.width/2,s=-this.height/2,a="",A="";if(!r)return[];if(this.hasCrop()){var c=n.Object.__uid++;e.push('<clipPath id="imageCrop_'+c+'">\n','\t<rect x="'+o+'" y="'+s+'" width="'+this.width+'" height="'+this.height+'" />\n',"</clipPath>\n"),a=' clip-path="url(#imageCrop_'+c+')" '}if(this.imageSmoothing||(A='" image-rendering="optimizeSpeed'),i.push("\t<image ","COMMON_PARTS",'xlink:href="',this.getSvgSrc(!0),'" x="',o-this.cropX,'" y="',s-this.cropY,'" width="',r.width||r.naturalWidth,'" height="',r.height||r.height,A,'"',a,"></image>\n"),this.stroke||this.strokeDashArray){var l=this.fill;this.fill=null,t=["\t<rect ",'x="',o,'" y="',s,'" width="',this.width,'" height="',this.height,'" style="',this.getSvgStyles(),'"/>\n'],this.fill=l}return e="fill"!==this.paintFirst?e.concat(t,i):e.concat(i,t),e},getSrc:function(t){var e=t?this._element:this._originalElement;return e?e.toDataURL?e.toDataURL():this.srcFromAttribute?e.getAttribute("src"):e.src:this.src||""},setSrc:function(t,e,i){return n.util.loadImage(t,(function(t,n){this.setElement(t,i),this._setWidthHeight(),e&&e(this,n)}),this,i&&i.crossOrigin),this},toString:function(){return'#<fabric.Image: { src: "'+this.getSrc()+'" }>'},applyResizeFilters:function(){var t=this.resizeFilter,e=this.minimumScaleTrigger,i=this.getTotalObjectScaling(),r=i.scaleX,o=i.scaleY,s=this._filteredEl||this._originalElement;if(this.group&&this.set("dirty",!0),!t||r>e&&o>e)return this._element=s,this._filterScalingX=1,this._filterScalingY=1,this._lastScaleX=r,void(this._lastScaleY=o);n.filterBackend||(n.filterBackend=n.initFilterBackend());var a=n.util.createCanvasElement(),A=this._filteredEl?this.cacheKey+"_filtered":this.cacheKey,c=s.width,l=s.height;a.width=c,a.height=l,this._element=a,this._lastScaleX=t.scaleX=r,this._lastScaleY=t.scaleY=o,n.filterBackend.applyFilters([t],s,c,l,this._element,A),this._filterScalingX=a.width/this._originalElement.width,this._filterScalingY=a.height/this._originalElement.height},applyFilters:function(t){if(t=t||this.filters||[],t=t.filter((function(t){return t&&!t.isNeutralState()})),this.set("dirty",!0),this.removeTexture(this.cacheKey+"_filtered"),0===t.length)return this._element=this._originalElement,this._filteredEl=null,this._filterScalingX=1,this._filterScalingY=1,this;var e=this._originalElement,i=e.naturalWidth||e.width,r=e.naturalHeight||e.height;if(this._element===this._originalElement){var o=n.util.createCanvasElement();o.width=i,o.height=r,this._element=o,this._filteredEl=o}else this._element=this._filteredEl,this._filteredEl.getContext("2d").clearRect(0,0,i,r),this._lastScaleX=1,this._lastScaleY=1;return n.filterBackend||(n.filterBackend=n.initFilterBackend()),n.filterBackend.applyFilters(t,this._originalElement,i,r,this._element,this.cacheKey),this._originalElement.width===this._element.width&&this._originalElement.height===this._element.height||(this._filterScalingX=this._element.width/this._originalElement.width,this._filterScalingY=this._element.height/this._originalElement.height),this},_render:function(t){n.util.setImageSmoothing(t,this.imageSmoothing),!0!==this.isMoving&&this.resizeFilter&&this._needsResize()&&this.applyResizeFilters(),this._stroke(t),this._renderPaintInOrder(t)},drawCacheOnCanvas:function(t){n.util.setImageSmoothing(t,this.imageSmoothing),n.Object.prototype.drawCacheOnCanvas.call(this,t)},shouldCache:function(){return this.needsItsOwnCache()},_renderFill:function(t){var e=this._element;if(e){var i=this._filterScalingX,n=this._filterScalingY,r=this.width,o=this.height,s=Math.min,a=Math.max,A=a(this.cropX,0),c=a(this.cropY,0),l=e.naturalWidth||e.width,u=e.naturalHeight||e.height,h=A*i,f=c*n,d=s(r*i,l-h),p=s(o*n,u-f),g=-r/2,v=-o/2,m=s(r,l/i-A),w=s(o,u/n-c);e&&t.drawImage(e,h,f,d,p,g,v,m,w)}},_needsResize:function(){var t=this.getTotalObjectScaling();return t.scaleX!==this._lastScaleX||t.scaleY!==this._lastScaleY},_resetWidthHeight:function(){this.set(this.getOriginalSize())},_initElement:function(t,e){this.setElement(n.util.getById(t),e),n.util.addClass(this.getElement(),n.Image.CSS_CANVAS)},_initConfig:function(t){t||(t={}),this.setOptions(t),this._setWidthHeight(t)},_initFilters:function(t,e){t&&t.length?n.util.enlivenObjects(t,(function(t){e&&e(t)}),"fabric.Image.filters"):e&&e()},_setWidthHeight:function(t){t||(t={});var e=this.getElement();this.width=t.width||e.naturalWidth||e.width||0,this.height=t.height||e.naturalHeight||e.height||0},parsePreserveAspectRatioAttribute:function(){var t,e=n.util.parsePreserveAspectRatioAttribute(this.preserveAspectRatio||""),i=this._element.width,r=this._element.height,o=1,s=1,a=0,A=0,c=0,l=0,u=this.width,h=this.height,f={width:u,height:h};return!e||"none"===e.alignX&&"none"===e.alignY?(o=u/i,s=h/r):("meet"===e.meetOrSlice&&(o=s=n.util.findScaleToFit(this._element,f),t=(u-i*o)/2,"Min"===e.alignX&&(a=-t),"Max"===e.alignX&&(a=t),t=(h-r*s)/2,"Min"===e.alignY&&(A=-t),"Max"===e.alignY&&(A=t)),"slice"===e.meetOrSlice&&(o=s=n.util.findScaleToCover(this._element,f),t=i-u/o,"Mid"===e.alignX&&(c=t/2),"Max"===e.alignX&&(c=t),t=r-h/s,"Mid"===e.alignY&&(l=t/2),"Max"===e.alignY&&(l=t),i=u/o,r=h/s)),{width:i,height:r,scaleX:o,scaleY:s,offsetLeft:a,offsetTop:A,cropX:c,cropY:l}}}),n.Image.CSS_CANVAS="canvas-img",n.Image.prototype.getSvgSrc=n.Image.prototype.getSrc,n.Image.fromObject=function(t,e){var i=n.util.object.clone(t);n.util.loadImage(i.src,(function(t,r){r?e&&e(null,!0):n.Image.prototype._initFilters.call(i,i.filters,(function(r){i.filters=r||[],n.Image.prototype._initFilters.call(i,[i.resizeFilter],(function(r){i.resizeFilter=r[0],n.util.enlivenObjects([i.clipPath],(function(r){i.clipPath=r[0];var o=new n.Image(t,i);e(o,!1)}))}))}))}),null,i.crossOrigin)},n.Image.fromURL=function(t,e,i){n.util.loadImage(t,(function(t,r){e&&e(new n.Image(t,i),r)}),null,i&&i.crossOrigin)},n.Image.ATTRIBUTE_NAMES=n.SHARED_ATTRIBUTES.concat("x y width height preserveAspectRatio xlink:href crossOrigin image-rendering".split(" ")),n.Image.fromElement=function(t,i,r){var o=n.parseAttributes(t,n.Image.ATTRIBUTE_NAMES);n.Image.fromURL(o["xlink:href"],i,e(r?n.util.object.clone(r):{},o))})}(e),n.util.object.extend(n.Object.prototype,{_getAngleValueForStraighten:function(){var t=this.angle%360;return t>0?90*Math.round((t-1)/90):90*Math.round(t/90)},straighten:function(){return this.rotate(this._getAngleValueForStraighten()),this},fxStraighten:function(t){t=t||{};var e=function(){},i=t.onComplete||e,r=t.onChange||e,o=this;return n.util.animate({startValue:this.get("angle"),endValue:this._getAngleValueForStraighten(),duration:this.FX_DURATION,onChange:function(t){o.rotate(t),r()},onComplete:function(){o.setCoords(),i()}}),this}}),n.util.object.extend(n.StaticCanvas.prototype,{straightenObject:function(t){return t.straighten(),this.requestRenderAll(),this},fxStraightenObject:function(t){return t.fxStraighten({onChange:this.requestRenderAllBound}),this}}),function(){"use strict";function t(t,e){var i="precision "+e+" float;\nvoid main(){}",n=t.createShader(t.FRAGMENT_SHADER);return t.shaderSource(n,i),t.compileShader(n),!!t.getShaderParameter(n,t.COMPILE_STATUS)}function e(t){t&&t.tileSize&&(this.tileSize=t.tileSize),this.setupGLContext(this.tileSize,this.tileSize),this.captureGPUInfo()}n.isWebglSupported=function(e){if(n.isLikelyNode)return!1;e=e||n.WebglFilterBackend.prototype.tileSize;var i=document.createElement("canvas"),r=i.getContext("webgl")||i.getContext("experimental-webgl"),o=!1;if(r){n.maxTextureSize=r.getParameter(r.MAX_TEXTURE_SIZE),o=n.maxTextureSize>=e;for(var s=["highp","mediump","lowp"],a=0;a<3;a++)if(t(r,s[a])){n.webGlPrecision=s[a];break}}return this.isSupported=o,o},n.WebglFilterBackend=e,e.prototype={tileSize:2048,resources:{},setupGLContext:function(t,e){this.dispose(),this.createWebGLCanvas(t,e),this.aPosition=new Float32Array([0,0,0,1,1,0,1,1]),this.chooseFastestCopyGLTo2DMethod(t,e)},chooseFastestCopyGLTo2DMethod:function(t,e){var i,r="undefined"!==typeof window.performance;try{new ImageData(1,1),i=!0}catch(p){i=!1}var o="undefined"!==typeof ArrayBuffer,s="undefined"!==typeof Uint8ClampedArray;if(r&&i&&o&&s){var c=n.util.createCanvasElement(),l=new ArrayBuffer(t*e*4);if(n.forceGLPutImageData)return this.imageBuffer=l,void(this.copyGLTo2D=A);var u,h,f,d={imageBuffer:l,destinationWidth:t,destinationHeight:e,targetCanvas:c};c.width=t,c.height=e,u=window.performance.now(),a.call(d,this.gl,d),h=window.performance.now()-u,u=window.performance.now(),A.call(d,this.gl,d),f=window.performance.now()-u,h>f?(this.imageBuffer=l,this.copyGLTo2D=A):this.copyGLTo2D=a}},createWebGLCanvas:function(t,e){var i=n.util.createCanvasElement();i.width=t,i.height=e;var r={alpha:!0,premultipliedAlpha:!1,depth:!1,stencil:!1,antialias:!1},o=i.getContext("webgl",r);o||(o=i.getContext("experimental-webgl",r)),o&&(o.clearColor(0,0,0,0),this.canvas=i,this.gl=o)},applyFilters:function(t,e,i,n,r,o){var a,A=this.gl;o&&(a=this.getCachedTexture(o,e));var c={originalWidth:e.width||e.originalWidth,originalHeight:e.height||e.originalHeight,sourceWidth:i,sourceHeight:n,destinationWidth:i,destinationHeight:n,context:A,sourceTexture:this.createTexture(A,i,n,!a&&e),targetTexture:this.createTexture(A,i,n),originalTexture:a||this.createTexture(A,i,n,!a&&e),passes:t.length,webgl:!0,aPosition:this.aPosition,programCache:this.programCache,pass:0,filterBackend:this,targetCanvas:r},l=A.createFramebuffer();return A.bindFramebuffer(A.FRAMEBUFFER,l),t.forEach((function(t){t&&t.applyTo(c)})),s(c),this.copyGLTo2D(A,c),A.bindTexture(A.TEXTURE_2D,null),A.deleteTexture(c.sourceTexture),A.deleteTexture(c.targetTexture),A.deleteFramebuffer(l),r.getContext("2d").setTransform(1,0,0,1,0,0),c},dispose:function(){this.canvas&&(this.canvas=null,this.gl=null),this.clearWebGLCaches()},clearWebGLCaches:function(){this.programCache={},this.textureCache={}},createTexture:function(t,e,i,n){var r=t.createTexture();return t.bindTexture(t.TEXTURE_2D,r),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,t.NEAREST),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.NEAREST),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),n?t.texImage2D(t.TEXTURE_2D,0,t.RGBA,t.RGBA,t.UNSIGNED_BYTE,n):t.texImage2D(t.TEXTURE_2D,0,t.RGBA,e,i,0,t.RGBA,t.UNSIGNED_BYTE,null),r},getCachedTexture:function(t,e){if(this.textureCache[t])return this.textureCache[t];var i=this.createTexture(this.gl,e.width,e.height,e);return this.textureCache[t]=i,i},evictCachesForKey:function(t){this.textureCache[t]&&(this.gl.deleteTexture(this.textureCache[t]),delete this.textureCache[t])},copyGLTo2D:a,captureGPUInfo:function(){if(this.gpuInfo)return this.gpuInfo;var t=this.gl,e={renderer:"",vendor:""};if(!t)return e;var i=t.getExtension("WEBGL_debug_renderer_info");if(i){var n=t.getParameter(i.UNMASKED_RENDERER_WEBGL),r=t.getParameter(i.UNMASKED_VENDOR_WEBGL);n&&(e.renderer=n.toLowerCase()),r&&(e.vendor=r.toLowerCase())}return this.gpuInfo=e,e}}}(),function(){"use strict";var t=function(){};function e(){}n.Canvas2dFilterBackend=e,e.prototype={evictCachesForKey:t,dispose:t,clearWebGLCaches:t,resources:{},applyFilters:function(t,e,i,n,r){var o=r.getContext("2d");o.drawImage(e,0,0,i,n);var s=o.getImageData(0,0,i,n),a=o.getImageData(0,0,i,n),A={sourceWidth:i,sourceHeight:n,imageData:s,originalEl:e,originalImageData:a,canvasEl:r,ctx:o,filterBackend:this};return t.forEach((function(t){t.applyTo(A)})),A.imageData.width===i&&A.imageData.height===n||(r.width=A.imageData.width,r.height=A.imageData.height),o.putImageData(A.imageData,0,0),A}}}(),n.Image=n.Image||{},n.Image.filters=n.Image.filters||{},n.Image.filters.BaseFilter=n.util.createClass({type:"BaseFilter",vertexSource:"attribute vec2 aPosition;\nvarying vec2 vTexCoord;\nvoid main() {\nvTexCoord = aPosition;\ngl_Position = vec4(aPosition * 2.0 - 1.0, 0.0, 1.0);\n}",fragmentSource:"precision highp float;\nvarying vec2 vTexCoord;\nuniform sampler2D uTexture;\nvoid main() {\ngl_FragColor = texture2D(uTexture, vTexCoord);\n}",initialize:function(t){t&&this.setOptions(t)},setOptions:function(t){for(var e in t)this[e]=t[e]},createProgram:function(t,e,i){e=e||this.fragmentSource,i=i||this.vertexSource,"highp"!==n.webGlPrecision&&(e=e.replace(/precision highp float/g,"precision "+n.webGlPrecision+" float"));var r=t.createShader(t.VERTEX_SHADER);if(t.shaderSource(r,i),t.compileShader(r),!t.getShaderParameter(r,t.COMPILE_STATUS))throw new Error("Vertex shader compile error for "+this.type+": "+t.getShaderInfoLog(r));var o=t.createShader(t.FRAGMENT_SHADER);if(t.shaderSource(o,e),t.compileShader(o),!t.getShaderParameter(o,t.COMPILE_STATUS))throw new Error("Fragment shader compile error for "+this.type+": "+t.getShaderInfoLog(o));var s=t.createProgram();if(t.attachShader(s,r),t.attachShader(s,o),t.linkProgram(s),!t.getProgramParameter(s,t.LINK_STATUS))throw new Error('Shader link error for "${this.type}" '+t.getProgramInfoLog(s));var a=this.getAttributeLocations(t,s),A=this.getUniformLocations(t,s)||{};return A.uStepW=t.getUniformLocation(s,"uStepW"),A.uStepH=t.getUniformLocation(s,"uStepH"),{program:s,attributeLocations:a,uniformLocations:A}},getAttributeLocations:function(t,e){return{aPosition:t.getAttribLocation(e,"aPosition")}},getUniformLocations:function(){return{}},sendAttributeData:function(t,e,i){var n=e.aPosition,r=t.createBuffer();t.bindBuffer(t.ARRAY_BUFFER,r),t.enableVertexAttribArray(n),t.vertexAttribPointer(n,2,t.FLOAT,!1,0,0),t.bufferData(t.ARRAY_BUFFER,i,t.STATIC_DRAW)},_setupFrameBuffer:function(t){var e,i,n=t.context;t.passes>1?(e=t.destinationWidth,i=t.destinationHeight,t.sourceWidth===e&&t.sourceHeight===i||(n.deleteTexture(t.targetTexture),t.targetTexture=t.filterBackend.createTexture(n,e,i)),n.framebufferTexture2D(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.TEXTURE_2D,t.targetTexture,0)):(n.bindFramebuffer(n.FRAMEBUFFER,null),n.finish())},_swapTextures:function(t){t.passes--,t.pass++;var e=t.targetTexture;t.targetTexture=t.sourceTexture,t.sourceTexture=e},isNeutralState:function(){var t=this.mainParameter,e=n.Image.filters[this.type].prototype;if(t){if(Array.isArray(e[t])){for(var i=e[t].length;i--;)if(this[t][i]!==e[t][i])return!1;return!0}return e[t]===this[t]}return!1},applyTo:function(t){t.webgl?(this._setupFrameBuffer(t),this.applyToWebGL(t),this._swapTextures(t)):this.applyTo2d(t)},retrieveShader:function(t){return t.programCache.hasOwnProperty(this.type)||(t.programCache[this.type]=this.createProgram(t.context)),t.programCache[this.type]},applyToWebGL:function(t){var e=t.context,i=this.retrieveShader(t);0===t.pass&&t.originalTexture?e.bindTexture(e.TEXTURE_2D,t.originalTexture):e.bindTexture(e.TEXTURE_2D,t.sourceTexture),e.useProgram(i.program),this.sendAttributeData(e,i.attributeLocations,t.aPosition),e.uniform1f(i.uniformLocations.uStepW,1/t.sourceWidth),e.uniform1f(i.uniformLocations.uStepH,1/t.sourceHeight),this.sendUniformData(e,i.uniformLocations),e.viewport(0,0,t.destinationWidth,t.destinationHeight),e.drawArrays(e.TRIANGLE_STRIP,0,4)},bindAdditionalTexture:function(t,e,i){t.activeTexture(i),t.bindTexture(t.TEXTURE_2D,e),t.activeTexture(t.TEXTURE0)},unbindAdditionalTexture:function(t,e){t.activeTexture(e),t.bindTexture(t.TEXTURE_2D,null),t.activeTexture(t.TEXTURE0)},getMainParameter:function(){return this[this.mainParameter]},setMainParameter:function(t){this[this.mainParameter]=t},sendUniformData:function(){},createHelpLayer:function(t){if(!t.helpLayer){var e=document.createElement("canvas");e.width=t.sourceWidth,e.height=t.sourceHeight,t.helpLayer=e}},toObject:function(){var t={type:this.type},e=this.mainParameter;return e&&(t[e]=this[e]),t},toJSON:function(){return this.toObject()}}),n.Image.filters.BaseFilter.fromObject=function(t,e){var i=new n.Image.filters[t.type](t);return e&&e(i),i},function(t){"use strict";var e=t.fabric||(t.fabric={}),i=e.Image.filters,n=e.util.createClass;i.ColorMatrix=n(i.BaseFilter,{type:"ColorMatrix",fragmentSource:"precision highp float;\nuniform sampler2D uTexture;\nvarying vec2 vTexCoord;\nuniform mat4 uColorMatrix;\nuniform vec4 uConstants;\nvoid main() {\nvec4 color = texture2D(uTexture, vTexCoord);\ncolor *= uColorMatrix;\ncolor += uConstants;\ngl_FragColor = color;\n}",matrix:[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],mainParameter:"matrix",colorsOnly:!0,initialize:function(t){this.callSuper("initialize",t),this.matrix=this.matrix.slice(0)},applyTo2d:function(t){var e,i,n,r,o,s=t.imageData,a=s.data,A=a.length,c=this.matrix,l=this.colorsOnly;for(o=0;o<A;o+=4)e=a[o],i=a[o+1],n=a[o+2],l?(a[o]=e*c[0]+i*c[1]+n*c[2]+255*c[4],a[o+1]=e*c[5]+i*c[6]+n*c[7]+255*c[9],a[o+2]=e*c[10]+i*c[11]+n*c[12]+255*c[14]):(r=a[o+3],a[o]=e*c[0]+i*c[1]+n*c[2]+r*c[3]+255*c[4],a[o+1]=e*c[5]+i*c[6]+n*c[7]+r*c[8]+255*c[9],a[o+2]=e*c[10]+i*c[11]+n*c[12]+r*c[13]+255*c[14],a[o+3]=e*c[15]+i*c[16]+n*c[17]+r*c[18]+255*c[19])},getUniformLocations:function(t,e){return{uColorMatrix:t.getUniformLocation(e,"uColorMatrix"),uConstants:t.getUniformLocation(e,"uConstants")}},sendUniformData:function(t,e){var i=this.matrix,n=[i[0],i[1],i[2],i[3],i[5],i[6],i[7],i[8],i[10],i[11],i[12],i[13],i[15],i[16],i[17],i[18]],r=[i[4],i[9],i[14],i[19]];t.uniformMatrix4fv(e.uColorMatrix,!1,n),t.uniform4fv(e.uConstants,r)}}),e.Image.filters.ColorMatrix.fromObject=e.Image.filters.BaseFilter.fromObject}(e),function(t){"use strict";var e=t.fabric||(t.fabric={}),i=e.Image.filters,n=e.util.createClass;i.Brightness=n(i.BaseFilter,{type:"Brightness",fragmentSource:"precision highp float;\nuniform sampler2D uTexture;\nuniform float uBrightness;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = texture2D(uTexture, vTexCoord);\ncolor.rgb += uBrightness;\ngl_FragColor = color;\n}",brightness:0,mainParameter:"brightness",applyTo2d:function(t){if(0!==this.brightness){var e,i=t.imageData,n=i.data,r=n.length,o=Math.round(255*this.brightness);for(e=0;e<r;e+=4)n[e]=n[e]+o,n[e+1]=n[e+1]+o,n[e+2]=n[e+2]+o}},getUniformLocations:function(t,e){return{uBrightness:t.getUniformLocation(e,"uBrightness")}},sendUniformData:function(t,e){t.uniform1f(e.uBrightness,this.brightness)}}),e.Image.filters.Brightness.fromObject=e.Image.filters.BaseFilter.fromObject}(e),function(t){"use strict";var e=t.fabric||(t.fabric={}),i=e.util.object.extend,n=e.Image.filters,r=e.util.createClass;n.Convolute=r(n.BaseFilter,{type:"Convolute",opaque:!1,matrix:[0,0,0,0,1,0,0,0,0],fragmentSource:{Convolute_3_1:"precision highp float;\nuniform sampler2D uTexture;\nuniform float uMatrix[9];\nuniform float uStepW;\nuniform float uStepH;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = vec4(0, 0, 0, 0);\nfor (float h = 0.0; h < 3.0; h+=1.0) {\nfor (float w = 0.0; w < 3.0; w+=1.0) {\nvec2 matrixPos = vec2(uStepW * (w - 1), uStepH * (h - 1));\ncolor += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 3.0 + w)];\n}\n}\ngl_FragColor = color;\n}",Convolute_3_0:"precision highp float;\nuniform sampler2D uTexture;\nuniform float uMatrix[9];\nuniform float uStepW;\nuniform float uStepH;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = vec4(0, 0, 0, 1);\nfor (float h = 0.0; h < 3.0; h+=1.0) {\nfor (float w = 0.0; w < 3.0; w+=1.0) {\nvec2 matrixPos = vec2(uStepW * (w - 1.0), uStepH * (h - 1.0));\ncolor.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 3.0 + w)];\n}\n}\nfloat alpha = texture2D(uTexture, vTexCoord).a;\ngl_FragColor = color;\ngl_FragColor.a = alpha;\n}",Convolute_5_1:"precision highp float;\nuniform sampler2D uTexture;\nuniform float uMatrix[25];\nuniform float uStepW;\nuniform float uStepH;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = vec4(0, 0, 0, 0);\nfor (float h = 0.0; h < 5.0; h+=1.0) {\nfor (float w = 0.0; w < 5.0; w+=1.0) {\nvec2 matrixPos = vec2(uStepW * (w - 2.0), uStepH * (h - 2.0));\ncolor += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 5.0 + w)];\n}\n}\ngl_FragColor = color;\n}",Convolute_5_0:"precision highp float;\nuniform sampler2D uTexture;\nuniform float uMatrix[25];\nuniform float uStepW;\nuniform float uStepH;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = vec4(0, 0, 0, 1);\nfor (float h = 0.0; h < 5.0; h+=1.0) {\nfor (float w = 0.0; w < 5.0; w+=1.0) {\nvec2 matrixPos = vec2(uStepW * (w - 2.0), uStepH * (h - 2.0));\ncolor.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 5.0 + w)];\n}\n}\nfloat alpha = texture2D(uTexture, vTexCoord).a;\ngl_FragColor = color;\ngl_FragColor.a = alpha;\n}",Convolute_7_1:"precision highp float;\nuniform sampler2D uTexture;\nuniform float uMatrix[49];\nuniform float uStepW;\nuniform float uStepH;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = vec4(0, 0, 0, 0);\nfor (float h = 0.0; h < 7.0; h+=1.0) {\nfor (float w = 0.0; w < 7.0; w+=1.0) {\nvec2 matrixPos = vec2(uStepW * (w - 3.0), uStepH * (h - 3.0));\ncolor += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 7.0 + w)];\n}\n}\ngl_FragColor = color;\n}",Convolute_7_0:"precision highp float;\nuniform sampler2D uTexture;\nuniform float uMatrix[49];\nuniform float uStepW;\nuniform float uStepH;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = vec4(0, 0, 0, 1);\nfor (float h = 0.0; h < 7.0; h+=1.0) {\nfor (float w = 0.0; w < 7.0; w+=1.0) {\nvec2 matrixPos = vec2(uStepW * (w - 3.0), uStepH * (h - 3.0));\ncolor.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 7.0 + w)];\n}\n}\nfloat alpha = texture2D(uTexture, vTexCoord).a;\ngl_FragColor = color;\ngl_FragColor.a = alpha;\n}",Convolute_9_1:"precision highp float;\nuniform sampler2D uTexture;\nuniform float uMatrix[81];\nuniform float uStepW;\nuniform float uStepH;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = vec4(0, 0, 0, 0);\nfor (float h = 0.0; h < 9.0; h+=1.0) {\nfor (float w = 0.0; w < 9.0; w+=1.0) {\nvec2 matrixPos = vec2(uStepW * (w - 4.0), uStepH * (h - 4.0));\ncolor += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 9.0 + w)];\n}\n}\ngl_FragColor = color;\n}",Convolute_9_0:"precision highp float;\nuniform sampler2D uTexture;\nuniform float uMatrix[81];\nuniform float uStepW;\nuniform float uStepH;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = vec4(0, 0, 0, 1);\nfor (float h = 0.0; h < 9.0; h+=1.0) {\nfor (float w = 0.0; w < 9.0; w+=1.0) {\nvec2 matrixPos = vec2(uStepW * (w - 4.0), uStepH * (h - 4.0));\ncolor.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 9.0 + w)];\n}\n}\nfloat alpha = texture2D(uTexture, vTexCoord).a;\ngl_FragColor = color;\ngl_FragColor.a = alpha;\n}"},retrieveShader:function(t){var e=Math.sqrt(this.matrix.length),i=this.type+"_"+e+"_"+(this.opaque?1:0),n=this.fragmentSource[i];return t.programCache.hasOwnProperty(i)||(t.programCache[i]=this.createProgram(t.context,n)),t.programCache[i]},applyTo2d:function(t){var e,i,n,r,o,s,a,A,c,l,u,h,f,d=t.imageData,p=d.data,g=this.matrix,v=Math.round(Math.sqrt(g.length)),m=Math.floor(v/2),w=d.width,y=d.height,b=t.ctx.createImageData(w,y),B=b.data,C=this.opaque?1:0;for(u=0;u<y;u++)for(l=0;l<w;l++){for(o=4*(u*w+l),e=0,i=0,n=0,r=0,f=0;f<v;f++)for(h=0;h<v;h++)a=u+f-m,s=l+h-m,a<0||a>=y||s<0||s>=w||(A=4*(a*w+s),c=g[f*v+h],e+=p[A]*c,i+=p[A+1]*c,n+=p[A+2]*c,C||(r+=p[A+3]*c));B[o]=e,B[o+1]=i,B[o+2]=n,B[o+3]=C?p[o+3]:r}t.imageData=b},getUniformLocations:function(t,e){return{uMatrix:t.getUniformLocation(e,"uMatrix"),uOpaque:t.getUniformLocation(e,"uOpaque"),uHalfSize:t.getUniformLocation(e,"uHalfSize"),uSize:t.getUniformLocation(e,"uSize")}},sendUniformData:function(t,e){t.uniform1fv(e.uMatrix,this.matrix)},toObject:function(){return i(this.callSuper("toObject"),{opaque:this.opaque,matrix:this.matrix})}}),e.Image.filters.Convolute.fromObject=e.Image.filters.BaseFilter.fromObject}(e),function(t){"use strict";var e=t.fabric||(t.fabric={}),i=e.Image.filters,n=e.util.createClass;i.Grayscale=n(i.BaseFilter,{type:"Grayscale",fragmentSource:{average:"precision highp float;\nuniform sampler2D uTexture;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = texture2D(uTexture, vTexCoord);\nfloat average = (color.r + color.b + color.g) / 3.0;\ngl_FragColor = vec4(average, average, average, color.a);\n}",lightness:"precision highp float;\nuniform sampler2D uTexture;\nuniform int uMode;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 col = texture2D(uTexture, vTexCoord);\nfloat average = (max(max(col.r, col.g),col.b) + min(min(col.r, col.g),col.b)) / 2.0;\ngl_FragColor = vec4(average, average, average, col.a);\n}",luminosity:"precision highp float;\nuniform sampler2D uTexture;\nuniform int uMode;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 col = texture2D(uTexture, vTexCoord);\nfloat average = 0.21 * col.r + 0.72 * col.g + 0.07 * col.b;\ngl_FragColor = vec4(average, average, average, col.a);\n}"},mode:"average",mainParameter:"mode",applyTo2d:function(t){var e,i,n=t.imageData,r=n.data,o=r.length,s=this.mode;for(e=0;e<o;e+=4)"average"===s?i=(r[e]+r[e+1]+r[e+2])/3:"lightness"===s?i=(Math.min(r[e],r[e+1],r[e+2])+Math.max(r[e],r[e+1],r[e+2]))/2:"luminosity"===s&&(i=.21*r[e]+.72*r[e+1]+.07*r[e+2]),r[e]=i,r[e+1]=i,r[e+2]=i},retrieveShader:function(t){var e=this.type+"_"+this.mode;if(!t.programCache.hasOwnProperty(e)){var i=this.fragmentSource[this.mode];t.programCache[e]=this.createProgram(t.context,i)}return t.programCache[e]},getUniformLocations:function(t,e){return{uMode:t.getUniformLocation(e,"uMode")}},sendUniformData:function(t,e){var i=1;t.uniform1i(e.uMode,i)},isNeutralState:function(){return!1}}),e.Image.filters.Grayscale.fromObject=e.Image.filters.BaseFilter.fromObject}(e),function(t){"use strict";var e=t.fabric||(t.fabric={}),i=e.Image.filters,n=e.util.createClass;i.Invert=n(i.BaseFilter,{type:"Invert",fragmentSource:"precision highp float;\nuniform sampler2D uTexture;\nuniform int uInvert;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = texture2D(uTexture, vTexCoord);\nif (uInvert == 1) {\ngl_FragColor = vec4(1.0 - color.r,1.0 -color.g,1.0 -color.b,color.a);\n} else {\ngl_FragColor = color;\n}\n}",invert:!0,mainParameter:"invert",applyTo2d:function(t){var e,i=t.imageData,n=i.data,r=n.length;for(e=0;e<r;e+=4)n[e]=255-n[e],n[e+1]=255-n[e+1],n[e+2]=255-n[e+2]},isNeutralState:function(){return!this.invert},getUniformLocations:function(t,e){return{uInvert:t.getUniformLocation(e,"uInvert")}},sendUniformData:function(t,e){t.uniform1i(e.uInvert,this.invert)}}),e.Image.filters.Invert.fromObject=e.Image.filters.BaseFilter.fromObject}(e),function(t){"use strict";var e=t.fabric||(t.fabric={}),i=e.util.object.extend,n=e.Image.filters,r=e.util.createClass;n.Noise=r(n.BaseFilter,{type:"Noise",fragmentSource:"precision highp float;\nuniform sampler2D uTexture;\nuniform float uStepH;\nuniform float uNoise;\nuniform float uSeed;\nvarying vec2 vTexCoord;\nfloat rand(vec2 co, float seed, float vScale) {\nreturn fract(sin(dot(co.xy * vScale ,vec2(12.9898 , 78.233))) * 43758.5453 * (seed + 0.01) / 2.0);\n}\nvoid main() {\nvec4 color = texture2D(uTexture, vTexCoord);\ncolor.rgb += (0.5 - rand(vTexCoord, uSeed, 0.1 / uStepH)) * uNoise;\ngl_FragColor = color;\n}",mainParameter:"noise",noise:0,applyTo2d:function(t){if(0!==this.noise){var e,i,n=t.imageData,r=n.data,o=r.length,s=this.noise;for(e=0,o=r.length;e<o;e+=4)i=(.5-Math.random())*s,r[e]+=i,r[e+1]+=i,r[e+2]+=i}},getUniformLocations:function(t,e){return{uNoise:t.getUniformLocation(e,"uNoise"),uSeed:t.getUniformLocation(e,"uSeed")}},sendUniformData:function(t,e){t.uniform1f(e.uNoise,this.noise/255),t.uniform1f(e.uSeed,Math.random())},toObject:function(){return i(this.callSuper("toObject"),{noise:this.noise})}}),e.Image.filters.Noise.fromObject=e.Image.filters.BaseFilter.fromObject}(e),function(t){"use strict";var e=t.fabric||(t.fabric={}),i=e.Image.filters,n=e.util.createClass;i.Pixelate=n(i.BaseFilter,{type:"Pixelate",blocksize:4,mainParameter:"blocksize",fragmentSource:"precision highp float;\nuniform sampler2D uTexture;\nuniform float uBlocksize;\nuniform float uStepW;\nuniform float uStepH;\nvarying vec2 vTexCoord;\nvoid main() {\nfloat blockW = uBlocksize * uStepW;\nfloat blockH = uBlocksize * uStepW;\nint posX = int(vTexCoord.x / blockW);\nint posY = int(vTexCoord.y / blockH);\nfloat fposX = float(posX);\nfloat fposY = float(posY);\nvec2 squareCoords = vec2(fposX * blockW, fposY * blockH);\nvec4 color = texture2D(uTexture, squareCoords);\ngl_FragColor = color;\n}",applyTo2d:function(t){var e,i,n,r,o,s,a,A,c,l,u,h=t.imageData,f=h.data,d=h.height,p=h.width;for(i=0;i<d;i+=this.blocksize)for(n=0;n<p;n+=this.blocksize)for(e=4*i*p+4*n,r=f[e],o=f[e+1],s=f[e+2],a=f[e+3],l=Math.min(i+this.blocksize,d),u=Math.min(n+this.blocksize,p),A=i;A<l;A++)for(c=n;c<u;c++)e=4*A*p+4*c,f[e]=r,f[e+1]=o,f[e+2]=s,f[e+3]=a},isNeutralState:function(){return 1===this.blocksize},getUniformLocations:function(t,e){return{uBlocksize:t.getUniformLocation(e,"uBlocksize"),uStepW:t.getUniformLocation(e,"uStepW"),uStepH:t.getUniformLocation(e,"uStepH")}},sendUniformData:function(t,e){t.uniform1f(e.uBlocksize,this.blocksize)}}),e.Image.filters.Pixelate.fromObject=e.Image.filters.BaseFilter.fromObject}(e),function(t){"use strict";var e=t.fabric||(t.fabric={}),i=e.util.object.extend,n=e.Image.filters,r=e.util.createClass;n.RemoveColor=r(n.BaseFilter,{type:"RemoveColor",color:"#FFFFFF",fragmentSource:"precision highp float;\nuniform sampler2D uTexture;\nuniform vec4 uLow;\nuniform vec4 uHigh;\nvarying vec2 vTexCoord;\nvoid main() {\ngl_FragColor = texture2D(uTexture, vTexCoord);\nif(all(greaterThan(gl_FragColor.rgb,uLow.rgb)) && all(greaterThan(uHigh.rgb,gl_FragColor.rgb))) {\ngl_FragColor.a = 0.0;\n}\n}",distance:.02,useAlpha:!1,applyTo2d:function(t){var i,n,r,o,s=t.imageData,a=s.data,A=255*this.distance,c=new e.Color(this.color).getSource(),l=[c[0]-A,c[1]-A,c[2]-A],u=[c[0]+A,c[1]+A,c[2]+A];for(i=0;i<a.length;i+=4)n=a[i],r=a[i+1],o=a[i+2],n>l[0]&&r>l[1]&&o>l[2]&&n<u[0]&&r<u[1]&&o<u[2]&&(a[i+3]=0)},getUniformLocations:function(t,e){return{uLow:t.getUniformLocation(e,"uLow"),uHigh:t.getUniformLocation(e,"uHigh")}},sendUniformData:function(t,i){var n=new e.Color(this.color).getSource(),r=parseFloat(this.distance),o=[0+n[0]/255-r,0+n[1]/255-r,0+n[2]/255-r,1],s=[n[0]/255+r,n[1]/255+r,n[2]/255+r,1];t.uniform4fv(i.uLow,o),t.uniform4fv(i.uHigh,s)},toObject:function(){return i(this.callSuper("toObject"),{color:this.color,distance:this.distance})}}),e.Image.filters.RemoveColor.fromObject=e.Image.filters.BaseFilter.fromObject}(e),function(t){"use strict";var e=t.fabric||(t.fabric={}),i=e.Image.filters,n=e.util.createClass,r={Brownie:[.5997,.34553,-.27082,0,.186,-.0377,.86095,.15059,0,-.1449,.24113,-.07441,.44972,0,-.02965,0,0,0,1,0],Vintage:[.62793,.32021,-.03965,0,.03784,.02578,.64411,.03259,0,.02926,.0466,-.08512,.52416,0,.02023,0,0,0,1,0],Kodachrome:[1.12855,-.39673,-.03992,0,.24991,-.16404,1.08352,-.05498,0,.09698,-.16786,-.56034,1.60148,0,.13972,0,0,0,1,0],Technicolor:[1.91252,-.85453,-.09155,0,.04624,-.30878,1.76589,-.10601,0,-.27589,-.2311,-.75018,1.84759,0,.12137,0,0,0,1,0],Polaroid:[1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0],Sepia:[.393,.769,.189,0,0,.349,.686,.168,0,0,.272,.534,.131,0,0,0,0,0,1,0],BlackWhite:[1.5,1.5,1.5,0,-1,1.5,1.5,1.5,0,-1,1.5,1.5,1.5,0,-1,0,0,0,1,0]};for(var o in r)i[o]=n(i.ColorMatrix,{type:o,matrix:r[o],mainParameter:!1,colorsOnly:!0}),e.Image.filters[o].fromObject=e.Image.filters.BaseFilter.fromObject}(e),function(t){"use strict";var e=t.fabric,i=e.Image.filters,n=e.util.createClass;i.BlendColor=n(i.BaseFilter,{type:"BlendColor",color:"#F95C63",mode:"multiply",alpha:1,fragmentSource:{multiply:"gl_FragColor.rgb *= uColor.rgb;\n",screen:"gl_FragColor.rgb = 1.0 - (1.0 - gl_FragColor.rgb) * (1.0 - uColor.rgb);\n",add:"gl_FragColor.rgb += uColor.rgb;\n",diff:"gl_FragColor.rgb = abs(gl_FragColor.rgb - uColor.rgb);\n",subtract:"gl_FragColor.rgb -= uColor.rgb;\n",lighten:"gl_FragColor.rgb = max(gl_FragColor.rgb, uColor.rgb);\n",darken:"gl_FragColor.rgb = min(gl_FragColor.rgb, uColor.rgb);\n",exclusion:"gl_FragColor.rgb += uColor.rgb - 2.0 * (uColor.rgb * gl_FragColor.rgb);\n",overlay:"if (uColor.r < 0.5) {\ngl_FragColor.r *= 2.0 * uColor.r;\n} else {\ngl_FragColor.r = 1.0 - 2.0 * (1.0 - gl_FragColor.r) * (1.0 - uColor.r);\n}\nif (uColor.g < 0.5) {\ngl_FragColor.g *= 2.0 * uColor.g;\n} else {\ngl_FragColor.g = 1.0 - 2.0 * (1.0 - gl_FragColor.g) * (1.0 - uColor.g);\n}\nif (uColor.b < 0.5) {\ngl_FragColor.b *= 2.0 * uColor.b;\n} else {\ngl_FragColor.b = 1.0 - 2.0 * (1.0 - gl_FragColor.b) * (1.0 - uColor.b);\n}\n",tint:"gl_FragColor.rgb *= (1.0 - uColor.a);\ngl_FragColor.rgb += uColor.rgb;\n"},buildSource:function(t){return"precision highp float;\nuniform sampler2D uTexture;\nuniform vec4 uColor;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = texture2D(uTexture, vTexCoord);\ngl_FragColor = color;\nif (color.a > 0.0) {\n"+this.fragmentSource[t]+"}\n}"},retrieveShader:function(t){var e,i=this.type+"_"+this.mode;return t.programCache.hasOwnProperty(i)||(e=this.buildSource(this.mode),t.programCache[i]=this.createProgram(t.context,e)),t.programCache[i]},applyTo2d:function(t){var i,n,r,o,s,a,A,c=t.imageData,l=c.data,u=l.length,h=1-this.alpha;A=new e.Color(this.color).getSource(),i=A[0]*this.alpha,n=A[1]*this.alpha,r=A[2]*this.alpha;for(var f=0;f<u;f+=4)switch(o=l[f],s=l[f+1],a=l[f+2],this.mode){case"multiply":l[f]=o*i/255,l[f+1]=s*n/255,l[f+2]=a*r/255;break;case"screen":l[f]=255-(255-o)*(255-i)/255,l[f+1]=255-(255-s)*(255-n)/255,l[f+2]=255-(255-a)*(255-r)/255;break;case"add":l[f]=o+i,l[f+1]=s+n,l[f+2]=a+r;break;case"diff":case"difference":l[f]=Math.abs(o-i),l[f+1]=Math.abs(s-n),l[f+2]=Math.abs(a-r);break;case"subtract":l[f]=o-i,l[f+1]=s-n,l[f+2]=a-r;break;case"darken":l[f]=Math.min(o,i),l[f+1]=Math.min(s,n),l[f+2]=Math.min(a,r);break;case"lighten":l[f]=Math.max(o,i),l[f+1]=Math.max(s,n),l[f+2]=Math.max(a,r);break;case"overlay":l[f]=i<128?2*o*i/255:255-2*(255-o)*(255-i)/255,l[f+1]=n<128?2*s*n/255:255-2*(255-s)*(255-n)/255,l[f+2]=r<128?2*a*r/255:255-2*(255-a)*(255-r)/255;break;case"exclusion":l[f]=i+o-2*i*o/255,l[f+1]=n+s-2*n*s/255,l[f+2]=r+a-2*r*a/255;break;case"tint":l[f]=i+o*h,l[f+1]=n+s*h,l[f+2]=r+a*h}},getUniformLocations:function(t,e){return{uColor:t.getUniformLocation(e,"uColor")}},sendUniformData:function(t,i){var n=new e.Color(this.color).getSource();n[0]=this.alpha*n[0]/255,n[1]=this.alpha*n[1]/255,n[2]=this.alpha*n[2]/255,n[3]=this.alpha,t.uniform4fv(i.uColor,n)},toObject:function(){return{type:this.type,color:this.color,mode:this.mode,alpha:this.alpha}}}),e.Image.filters.BlendColor.fromObject=e.Image.filters.BaseFilter.fromObject}(e),function(t){"use strict";var e=t.fabric,i=e.Image.filters,n=e.util.createClass;i.BlendImage=n(i.BaseFilter,{type:"BlendImage",image:null,mode:"multiply",alpha:1,vertexSource:"attribute vec2 aPosition;\nvarying vec2 vTexCoord;\nvarying vec2 vTexCoord2;\nuniform mat3 uTransformMatrix;\nvoid main() {\nvTexCoord = aPosition;\nvTexCoord2 = (uTransformMatrix * vec3(aPosition, 1.0)).xy;\ngl_Position = vec4(aPosition * 2.0 - 1.0, 0.0, 1.0);\n}",fragmentSource:{multiply:"precision highp float;\nuniform sampler2D uTexture;\nuniform sampler2D uImage;\nuniform vec4 uColor;\nvarying vec2 vTexCoord;\nvarying vec2 vTexCoord2;\nvoid main() {\nvec4 color = texture2D(uTexture, vTexCoord);\nvec4 color2 = texture2D(uImage, vTexCoord2);\ncolor.rgba *= color2.rgba;\ngl_FragColor = color;\n}",mask:"precision highp float;\nuniform sampler2D uTexture;\nuniform sampler2D uImage;\nuniform vec4 uColor;\nvarying vec2 vTexCoord;\nvarying vec2 vTexCoord2;\nvoid main() {\nvec4 color = texture2D(uTexture, vTexCoord);\nvec4 color2 = texture2D(uImage, vTexCoord2);\ncolor.a = color2.a;\ngl_FragColor = color;\n}"},retrieveShader:function(t){var e=this.type+"_"+this.mode,i=this.fragmentSource[this.mode];return t.programCache.hasOwnProperty(e)||(t.programCache[e]=this.createProgram(t.context,i)),t.programCache[e]},applyToWebGL:function(t){var e=t.context,i=this.createTexture(t.filterBackend,this.image);this.bindAdditionalTexture(e,i,e.TEXTURE1),this.callSuper("applyToWebGL",t),this.unbindAdditionalTexture(e,e.TEXTURE1)},createTexture:function(t,e){return t.getCachedTexture(e.cacheKey,e._element)},calculateMatrix:function(){var t=this.image,e=t._element.width,i=t._element.height;return[1/t.scaleX,0,0,0,1/t.scaleY,0,-t.left/e,-t.top/i,1]},applyTo2d:function(t){var i,n,r,o,s,a,A,c,l,u,h,f=t.imageData,d=t.filterBackend.resources,p=f.data,g=p.length,v=f.width,m=f.height,w=this.image;d.blendImage||(d.blendImage=e.util.createCanvasElement()),l=d.blendImage,u=l.getContext("2d"),l.width!==v||l.height!==m?(l.width=v,l.height=m):u.clearRect(0,0,v,m),u.setTransform(w.scaleX,0,0,w.scaleY,w.left,w.top),u.drawImage(w._element,0,0,v,m),h=u.getImageData(0,0,v,m).data;for(var y=0;y<g;y+=4)switch(s=p[y],a=p[y+1],A=p[y+2],c=p[y+3],i=h[y],n=h[y+1],r=h[y+2],o=h[y+3],this.mode){case"multiply":p[y]=s*i/255,p[y+1]=a*n/255,p[y+2]=A*r/255,p[y+3]=c*o/255;break;case"mask":p[y+3]=o;break}},getUniformLocations:function(t,e){return{uTransformMatrix:t.getUniformLocation(e,"uTransformMatrix"),uImage:t.getUniformLocation(e,"uImage")}},sendUniformData:function(t,e){var i=this.calculateMatrix();t.uniform1i(e.uImage,1),t.uniformMatrix3fv(e.uTransformMatrix,!1,i)},toObject:function(){return{type:this.type,image:this.image&&this.image.toObject(),mode:this.mode,alpha:this.alpha}}}),e.Image.filters.BlendImage.fromObject=function(t,i){e.Image.fromObject(t.image,(function(n){var r=e.util.object.clone(t);r.image=n,i(new e.Image.filters.BlendImage(r))}))}}(e),function(t){"use strict";var e=t.fabric||(t.fabric={}),i=Math.pow,n=Math.floor,r=Math.sqrt,o=Math.abs,s=Math.round,a=Math.sin,A=Math.ceil,c=e.Image.filters,l=e.util.createClass;c.Resize=l(c.BaseFilter,{type:"Resize",resizeType:"hermite",scaleX:1,scaleY:1,lanczosLobes:3,getUniformLocations:function(t,e){return{uDelta:t.getUniformLocation(e,"uDelta"),uTaps:t.getUniformLocation(e,"uTaps")}},sendUniformData:function(t,e){t.uniform2fv(e.uDelta,this.horizontal?[1/this.width,0]:[0,1/this.height]),t.uniform1fv(e.uTaps,this.taps)},retrieveShader:function(t){var e=this.getFilterWindow(),i=this.type+"_"+e;if(!t.programCache.hasOwnProperty(i)){var n=this.generateShader(e);t.programCache[i]=this.createProgram(t.context,n)}return t.programCache[i]},getFilterWindow:function(){var t=this.tempScale;return Math.ceil(this.lanczosLobes/t)},getTaps:function(){for(var t=this.lanczosCreate(this.lanczosLobes),e=this.tempScale,i=this.getFilterWindow(),n=new Array(i),r=1;r<=i;r++)n[r-1]=t(r*e);return n},generateShader:function(t){for(var e=new Array(t),i=this.fragmentSourceTOP,n=1;n<=t;n++)e[n-1]=n+".0 * uDelta";return i+="uniform float uTaps["+t+"];\n",i+="void main() {\n",i+="  vec4 color = texture2D(uTexture, vTexCoord);\n",i+="  float sum = 1.0;\n",e.forEach((function(t,e){i+="  color += texture2D(uTexture, vTexCoord + "+t+") * uTaps["+e+"];\n",i+="  color += texture2D(uTexture, vTexCoord - "+t+") * uTaps["+e+"];\n",i+="  sum += 2.0 * uTaps["+e+"];\n"})),i+="  gl_FragColor = color / sum;\n",i+="}",i},fragmentSourceTOP:"precision highp float;\nuniform sampler2D uTexture;\nuniform vec2 uDelta;\nvarying vec2 vTexCoord;\n",applyTo:function(t){t.webgl?(t.passes++,this.width=t.sourceWidth,this.horizontal=!0,this.dW=Math.round(this.width*this.scaleX),this.dH=t.sourceHeight,this.tempScale=this.dW/this.width,this.taps=this.getTaps(),t.destinationWidth=this.dW,this._setupFrameBuffer(t),this.applyToWebGL(t),this._swapTextures(t),t.sourceWidth=t.destinationWidth,this.height=t.sourceHeight,this.horizontal=!1,this.dH=Math.round(this.height*this.scaleY),this.tempScale=this.dH/this.height,this.taps=this.getTaps(),t.destinationHeight=this.dH,this._setupFrameBuffer(t),this.applyToWebGL(t),this._swapTextures(t),t.sourceHeight=t.destinationHeight):this.applyTo2d(t)},isNeutralState:function(){return 1===this.scaleX&&1===this.scaleY},lanczosCreate:function(t){return function(e){if(e>=t||e<=-t)return 0;if(e<1.1920929e-7&&e>-1.1920929e-7)return 1;e*=Math.PI;var i=e/t;return a(e)/e*a(i)/i}},applyTo2d:function(t){var e=t.imageData,i=this.scaleX,n=this.scaleY;this.rcpScaleX=1/i,this.rcpScaleY=1/n;var r,o=e.width,a=e.height,A=s(o*i),c=s(a*n);"sliceHack"===this.resizeType?r=this.sliceByTwo(t,o,a,A,c):"hermite"===this.resizeType?r=this.hermiteFastResize(t,o,a,A,c):"bilinear"===this.resizeType?r=this.bilinearFiltering(t,o,a,A,c):"lanczos"===this.resizeType&&(r=this.lanczosResize(t,o,a,A,c)),t.imageData=r},sliceByTwo:function(t,i,r,o,s){var a,A,c=t.imageData,l=.5,u=!1,h=!1,f=i*l,d=r*l,p=e.filterBackend.resources,g=0,v=0,m=i,w=0;p.sliceByTwo||(p.sliceByTwo=document.createElement("canvas")),a=p.sliceByTwo,(a.width<1.5*i||a.height<r)&&(a.width=1.5*i,a.height=r),A=a.getContext("2d"),A.clearRect(0,0,1.5*i,r),A.putImageData(c,0,0),o=n(o),s=n(s);while(!u||!h)i=f,r=d,o<n(f*l)?f=n(f*l):(f=o,u=!0),s<n(d*l)?d=n(d*l):(d=s,h=!0),A.drawImage(a,g,v,i,r,m,w,f,d),g=m,v=w,w+=d;return A.getImageData(g,v,o,s)},lanczosResize:function(t,e,s,a,c){function l(t){var A,E,x,_,S,T,F,Q,U,O,H;for(B.x=(t+.5)*p,C.x=n(B.x),A=0;A<c;A++){for(B.y=(A+.5)*g,C.y=n(B.y),S=0,T=0,F=0,Q=0,U=0,E=C.x-w;E<=C.x+w;E++)if(!(E<0||E>=e)){O=n(1e3*o(E-B.x)),b[O]||(b[O]={});for(var D=C.y-y;D<=C.y+y;D++)D<0||D>=s||(H=n(1e3*o(D-B.y)),b[O][H]||(b[O][H]=d(r(i(O*v,2)+i(H*m,2))/1e3)),x=b[O][H],x>0&&(_=4*(D*e+E),S+=x,T+=x*u[_],F+=x*u[_+1],Q+=x*u[_+2],U+=x*u[_+3]))}_=4*(A*a+t),f[_]=T/S,f[_+1]=F/S,f[_+2]=Q/S,f[_+3]=U/S}return++t<a?l(t):h}var u=t.imageData.data,h=t.ctx.createImageData(a,c),f=h.data,d=this.lanczosCreate(this.lanczosLobes),p=this.rcpScaleX,g=this.rcpScaleY,v=2/this.rcpScaleX,m=2/this.rcpScaleY,w=A(p*this.lanczosLobes/2),y=A(g*this.lanczosLobes/2),b={},B={},C={};return l(0)},bilinearFiltering:function(t,e,i,r,o){var s,a,A,c,l,u,h,f,d,p,g,v,m,w=0,y=this.rcpScaleX,b=this.rcpScaleY,B=4*(e-1),C=t.imageData,E=C.data,x=t.ctx.createImageData(r,o),_=x.data;for(h=0;h<o;h++)for(f=0;f<r;f++)for(l=n(y*f),u=n(b*h),d=y*f-l,p=b*h-u,m=4*(u*e+l),g=0;g<4;g++)s=E[m+g],a=E[m+4+g],A=E[m+B+g],c=E[m+B+4+g],v=s*(1-d)*(1-p)+a*d*(1-p)+A*p*(1-d)+c*d*p,_[w++]=v;return x},hermiteFastResize:function(t,e,i,s,a){for(var c=this.rcpScaleX,l=this.rcpScaleY,u=A(c/2),h=A(l/2),f=t.imageData,d=f.data,p=t.ctx.createImageData(s,a),g=p.data,v=0;v<a;v++)for(var m=0;m<s;m++){for(var w=4*(m+v*s),y=0,b=0,B=0,C=0,E=0,x=0,_=0,S=(v+.5)*l,T=n(v*l);T<(v+1)*l;T++)for(var F=o(S-(T+.5))/h,Q=(m+.5)*c,U=F*F,O=n(m*c);O<(m+1)*c;O++){var H=o(Q-(O+.5))/u,D=r(U+H*H);D>1&&D<-1||(y=2*D*D*D-3*D*D+1,y>0&&(H=4*(O+T*e),_+=y*d[H+3],B+=y,d[H+3]<255&&(y=y*d[H+3]/250),C+=y*d[H],E+=y*d[H+1],x+=y*d[H+2],b+=y))}g[w]=C/b,g[w+1]=E/b,g[w+2]=x/b,g[w+3]=_/B}return p},toObject:function(){return{type:this.type,scaleX:this.scaleX,scaleY:this.scaleY,resizeType:this.resizeType,lanczosLobes:this.lanczosLobes}}}),e.Image.filters.Resize.fromObject=e.Image.filters.BaseFilter.fromObject}(e),function(t){"use strict";var e=t.fabric||(t.fabric={}),i=e.Image.filters,n=e.util.createClass;i.Contrast=n(i.BaseFilter,{type:"Contrast",fragmentSource:"precision highp float;\nuniform sampler2D uTexture;\nuniform float uContrast;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = texture2D(uTexture, vTexCoord);\nfloat contrastF = 1.015 * (uContrast + 1.0) / (1.0 * (1.015 - uContrast));\ncolor.rgb = contrastF * (color.rgb - 0.5) + 0.5;\ngl_FragColor = color;\n}",contrast:0,mainParameter:"contrast",applyTo2d:function(t){if(0!==this.contrast){var e,i=t.imageData,n=i.data,r=n.length,o=Math.floor(255*this.contrast),s=259*(o+255)/(255*(259-o));for(e=0;e<r;e+=4)n[e]=s*(n[e]-128)+128,n[e+1]=s*(n[e+1]-128)+128,n[e+2]=s*(n[e+2]-128)+128}},getUniformLocations:function(t,e){return{uContrast:t.getUniformLocation(e,"uContrast")}},sendUniformData:function(t,e){t.uniform1f(e.uContrast,this.contrast)}}),e.Image.filters.Contrast.fromObject=e.Image.filters.BaseFilter.fromObject}(e),function(t){"use strict";var e=t.fabric||(t.fabric={}),i=e.Image.filters,n=e.util.createClass;i.Saturation=n(i.BaseFilter,{type:"Saturation",fragmentSource:"precision highp float;\nuniform sampler2D uTexture;\nuniform float uSaturation;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = texture2D(uTexture, vTexCoord);\nfloat rgMax = max(color.r, color.g);\nfloat rgbMax = max(rgMax, color.b);\ncolor.r += rgbMax != color.r ? (rgbMax - color.r) * uSaturation : 0.00;\ncolor.g += rgbMax != color.g ? (rgbMax - color.g) * uSaturation : 0.00;\ncolor.b += rgbMax != color.b ? (rgbMax - color.b) * uSaturation : 0.00;\ngl_FragColor = color;\n}",saturation:0,mainParameter:"saturation",applyTo2d:function(t){if(0!==this.saturation){var e,i,n=t.imageData,r=n.data,o=r.length,s=-this.saturation;for(e=0;e<o;e+=4)i=Math.max(r[e],r[e+1],r[e+2]),r[e]+=i!==r[e]?(i-r[e])*s:0,r[e+1]+=i!==r[e+1]?(i-r[e+1])*s:0,r[e+2]+=i!==r[e+2]?(i-r[e+2])*s:0}},getUniformLocations:function(t,e){return{uSaturation:t.getUniformLocation(e,"uSaturation")}},sendUniformData:function(t,e){t.uniform1f(e.uSaturation,-this.saturation)}}),e.Image.filters.Saturation.fromObject=e.Image.filters.BaseFilter.fromObject}(e),function(t){"use strict";var e=t.fabric||(t.fabric={}),i=e.Image.filters,n=e.util.createClass;i.Blur=n(i.BaseFilter,{type:"Blur",fragmentSource:"precision highp float;\nuniform sampler2D uTexture;\nuniform vec2 uDelta;\nvarying vec2 vTexCoord;\nconst float nSamples = 15.0;\nvec3 v3offset = vec3(12.9898, 78.233, 151.7182);\nfloat random(vec3 scale) {\nreturn fract(sin(dot(gl_FragCoord.xyz, scale)) * 43758.5453);\n}\nvoid main() {\nvec4 color = vec4(0.0);\nfloat total = 0.0;\nfloat offset = random(v3offset);\nfor (float t = -nSamples; t <= nSamples; t++) {\nfloat percent = (t + offset - 0.5) / nSamples;\nfloat weight = 1.0 - abs(percent);\ncolor += texture2D(uTexture, vTexCoord + uDelta * percent) * weight;\ntotal += weight;\n}\ngl_FragColor = color / total;\n}",blur:0,mainParameter:"blur",applyTo:function(t){t.webgl?(this.aspectRatio=t.sourceWidth/t.sourceHeight,t.passes++,this._setupFrameBuffer(t),this.horizontal=!0,this.applyToWebGL(t),this._swapTextures(t),this._setupFrameBuffer(t),this.horizontal=!1,this.applyToWebGL(t),this._swapTextures(t)):this.applyTo2d(t)},applyTo2d:function(t){t.imageData=this.simpleBlur(t)},simpleBlur:function(t){var i,n,r=t.filterBackend.resources,o=t.imageData.width,s=t.imageData.height;r.blurLayer1||(r.blurLayer1=e.util.createCanvasElement(),r.blurLayer2=e.util.createCanvasElement()),i=r.blurLayer1,n=r.blurLayer2,i.width===o&&i.height===s||(n.width=i.width=o,n.height=i.height=s);var a,A,c,l,u=i.getContext("2d"),h=n.getContext("2d"),f=15,d=.06*this.blur*.5;for(u.putImageData(t.imageData,0,0),h.clearRect(0,0,o,s),l=-f;l<=f;l++)a=(Math.random()-.5)/4,A=l/f,c=d*A*o+a,h.globalAlpha=1-Math.abs(A),h.drawImage(i,c,a),u.drawImage(n,0,0),h.globalAlpha=1,h.clearRect(0,0,n.width,n.height);for(l=-f;l<=f;l++)a=(Math.random()-.5)/4,A=l/f,c=d*A*s+a,h.globalAlpha=1-Math.abs(A),h.drawImage(i,a,c),u.drawImage(n,0,0),h.globalAlpha=1,h.clearRect(0,0,n.width,n.height);t.ctx.drawImage(i,0,0);var p=t.ctx.getImageData(0,0,i.width,i.height);return u.globalAlpha=1,u.clearRect(0,0,i.width,i.height),p},getUniformLocations:function(t,e){return{delta:t.getUniformLocation(e,"uDelta")}},sendUniformData:function(t,e){var i=this.chooseRightDelta();t.uniform2fv(e.delta,i)},chooseRightDelta:function(){var t,e=1,i=[0,0];return this.horizontal?this.aspectRatio>1&&(e=1/this.aspectRatio):this.aspectRatio<1&&(e=this.aspectRatio),t=e*this.blur*.12,this.horizontal?i[0]=t:i[1]=t,i}}),i.Blur.fromObject=e.Image.filters.BaseFilter.fromObject}(e),function(t){"use strict";var e=t.fabric||(t.fabric={}),i=e.Image.filters,n=e.util.createClass;i.Gamma=n(i.BaseFilter,{type:"Gamma",fragmentSource:"precision highp float;\nuniform sampler2D uTexture;\nuniform vec3 uGamma;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = texture2D(uTexture, vTexCoord);\nvec3 correction = (1.0 / uGamma);\ncolor.r = pow(color.r, correction.r);\ncolor.g = pow(color.g, correction.g);\ncolor.b = pow(color.b, correction.b);\ngl_FragColor = color;\ngl_FragColor.rgb *= color.a;\n}",gamma:[1,1,1],mainParameter:"gamma",initialize:function(t){this.gamma=[1,1,1],i.BaseFilter.prototype.initialize.call(this,t)},applyTo2d:function(t){var e,i=t.imageData,n=i.data,r=this.gamma,o=n.length,s=1/r[0],a=1/r[1],A=1/r[2];for(this.rVals||(this.rVals=new Uint8Array(256),this.gVals=new Uint8Array(256),this.bVals=new Uint8Array(256)),e=0,o=256;e<o;e++)this.rVals[e]=255*Math.pow(e/255,s),this.gVals[e]=255*Math.pow(e/255,a),this.bVals[e]=255*Math.pow(e/255,A);for(e=0,o=n.length;e<o;e+=4)n[e]=this.rVals[n[e]],n[e+1]=this.gVals[n[e+1]],n[e+2]=this.bVals[n[e+2]]},getUniformLocations:function(t,e){return{uGamma:t.getUniformLocation(e,"uGamma")}},sendUniformData:function(t,e){t.uniform3fv(e.uGamma,this.gamma)}}),e.Image.filters.Gamma.fromObject=e.Image.filters.BaseFilter.fromObject}(e),function(t){"use strict";var e=t.fabric||(t.fabric={}),i=e.Image.filters,n=e.util.createClass;i.Composed=n(i.BaseFilter,{type:"Composed",subFilters:[],initialize:function(t){this.callSuper("initialize",t),this.subFilters=this.subFilters.slice(0)},applyTo:function(t){t.passes+=this.subFilters.length-1,this.subFilters.forEach((function(e){e.applyTo(t)}))},toObject:function(){return e.util.object.extend(this.callSuper("toObject"),{subFilters:this.subFilters.map((function(t){return t.toObject()}))})},isNeutralState:function(){return!this.subFilters.some((function(t){return!t.isNeutralState()}))}}),e.Image.filters.Composed.fromObject=function(t,i){var n=t.subFilters||[],r=n.map((function(t){return new e.Image.filters[t.type](t)})),o=new e.Image.filters.Composed({subFilters:r});return i&&i(o),o}}(e),function(t){"use strict";var e=t.fabric||(t.fabric={}),i=e.Image.filters,n=e.util.createClass;i.HueRotation=n(i.ColorMatrix,{type:"HueRotation",rotation:0,mainParameter:"rotation",calculateMatrix:function(){var t=this.rotation*Math.PI,i=e.util.cos(t),n=e.util.sin(t),r=1/3,o=Math.sqrt(r)*n,s=1-i;this.matrix=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],this.matrix[0]=i+s/3,this.matrix[1]=r*s-o,this.matrix[2]=r*s+o,this.matrix[5]=r*s+o,this.matrix[6]=i+r*s,this.matrix[7]=r*s-o,this.matrix[10]=r*s-o,this.matrix[11]=r*s+o,this.matrix[12]=i+r*s},isNeutralState:function(t){return this.calculateMatrix(),i.BaseFilter.prototype.isNeutralState.call(this,t)},applyTo:function(t){this.calculateMatrix(),i.BaseFilter.prototype.applyTo.call(this,t)}}),e.Image.filters.HueRotation.fromObject=e.Image.filters.BaseFilter.fromObject}(e),function(t){"use strict";var e=t.fabric||(t.fabric={}),i=e.util.object.clone;if(e.Text)e.warn("fabric.Text is already defined");else{var n="fontFamily fontWeight fontSize text underline overline linethrough textAlign fontStyle lineHeight textBackgroundColor charSpacing styles path".split(" ");e.Text=e.util.createClass(e.Object,{_dimensionAffectingProps:["fontSize","fontWeight","fontFamily","fontStyle","lineHeight","text","charSpacing","textAlign","styles","path"],_reNewline:/\r?\n/,_reSpacesAndTabs:/[ \t\r]/g,_reSpaceAndTab:/[ \t\r]/,_reWords:/\S+/g,type:"text",fontSize:40,fontWeight:"normal",fontFamily:"Times New Roman",underline:!1,overline:!1,linethrough:!1,textAlign:"left",fontStyle:"normal",lineHeight:1.16,superscript:{size:.6,baseline:-.35},subscript:{size:.6,baseline:.11},textBackgroundColor:"",stateProperties:e.Object.prototype.stateProperties.concat(n),cacheProperties:e.Object.prototype.cacheProperties.concat(n),stroke:null,shadow:null,path:null,_fontSizeFraction:.222,offsets:{underline:.1,linethrough:-.315,overline:-.88},_fontSizeMult:1.13,charSpacing:0,styles:null,_measuringContext:null,deltaY:0,_styleProperties:["stroke","strokeWidth","fill","fontFamily","fontSize","fontWeight","fontStyle","underline","overline","linethrough","deltaY","textBackgroundColor"],__charBounds:[],CACHE_FONT_SIZE:400,MIN_TEXT_WIDTH:2,initialize:function(t,e){this.styles=e&&e.styles||{},this.text=t,this.__skipDimension=!0,this.callSuper("initialize",e),this.path&&this.setPathInfo(),this.__skipDimension=!1,this.initDimensions(),this.setCoords(),this.setupState({propertySet:"_dimensionAffectingProps"})},setPathInfo:function(){var t=this.path;t&&(t.segmentsInfo=e.util.getPathSegmentsInfo(t.path))},getMeasuringContext:function(){return e._measuringContext||(e._measuringContext=this.canvas&&this.canvas.contextCache||e.util.createCanvasElement().getContext("2d")),e._measuringContext},_splitText:function(){var t=this._splitTextIntoLines(this.text);return this.textLines=t.lines,this._textLines=t.graphemeLines,this._unwrappedTextLines=t._unwrappedLines,this._text=t.graphemeText,t},initDimensions:function(){this.__skipDimension||(this._splitText(),this._clearCache(),this.path?(this.width=this.path.width,this.height=this.path.height):(this.width=this.calcTextWidth()||this.cursorWidth||this.MIN_TEXT_WIDTH,this.height=this.calcTextHeight()),-1!==this.textAlign.indexOf("justify")&&this.enlargeSpaces(),this.saveState({propertySet:"_dimensionAffectingProps"}))},enlargeSpaces:function(){for(var t,e,i,n,r,o,s,a=0,A=this._textLines.length;a<A;a++)if(("justify"===this.textAlign||a!==A-1&&!this.isEndOfWrapping(a))&&(n=0,r=this._textLines[a],e=this.getLineWidth(a),e<this.width&&(s=this.textLines[a].match(this._reSpacesAndTabs)))){i=s.length,t=(this.width-e)/i;for(var c=0,l=r.length;c<=l;c++)o=this.__charBounds[a][c],this._reSpaceAndTab.test(r[c])?(o.width+=t,o.kernedWidth+=t,o.left+=n,n+=t):o.left+=n}},isEndOfWrapping:function(t){return t===this._textLines.length-1},missingNewlineOffset:function(){return 1},toString:function(){return"#<fabric.Text ("+this.complexity()+'): { "text": "'+this.text+'", "fontFamily": "'+this.fontFamily+'" }>'},_getCacheCanvasDimensions:function(){var t=this.callSuper("_getCacheCanvasDimensions"),e=this.fontSize;return t.width+=e*t.zoomX,t.height+=e*t.zoomY,t},_render:function(t){this._setTextStyles(t),this._renderTextLinesBackground(t),this._renderTextDecoration(t,"underline"),this._renderText(t),this._renderTextDecoration(t,"overline"),this._renderTextDecoration(t,"linethrough")},_renderText:function(t){"stroke"===this.paintFirst?(this._renderTextStroke(t),this._renderTextFill(t)):(this._renderTextFill(t),this._renderTextStroke(t))},_setTextStyles:function(t,e,i){t.textBaseline="alphabetic",t.font=this._getFontDeclaration(e,i)},calcTextWidth:function(){for(var t=this.getLineWidth(0),e=1,i=this._textLines.length;e<i;e++){var n=this.getLineWidth(e);n>t&&(t=n)}return t},_renderTextLine:function(t,e,i,n,r,o){this._renderChars(t,e,i,n,r,o)},_renderTextLinesBackground:function(t){if(this.textBackgroundColor||this.styleHas("textBackgroundColor")){for(var e,i,n,r,o,s,a=t.fillStyle,A=this._getLeftOffset(),c=this._getTopOffset(),l=0,u=0,h=this.path,f=0,d=this._textLines.length;f<d;f++)if(e=this.getHeightOfLine(f),this.textBackgroundColor||this.styleHas("textBackgroundColor",f)){n=this._textLines[f],i=this._getLineLeftOffset(f),u=0,l=0,r=this.getValueOfPropertyAt(f,0,"textBackgroundColor");for(var p=0,g=n.length;p<g;p++)o=this.__charBounds[f][p],s=this.getValueOfPropertyAt(f,p,"textBackgroundColor"),h?(t.save(),t.translate(o.renderLeft,o.renderTop),t.rotate(o.angle),t.fillStyle=s,s&&t.fillRect(-o.width/2,-e/this.lineHeight*(1-this._fontSizeFraction),o.width,e/this.lineHeight),t.restore()):s!==r?(t.fillStyle=r,r&&t.fillRect(A+i+l,c,u,e/this.lineHeight),l=o.left,u=o.width,r=s):u+=o.kernedWidth;s&&!h&&(t.fillStyle=s,t.fillRect(A+i+l,c,u,e/this.lineHeight)),c+=e}else c+=e;t.fillStyle=a,this._removeShadow(t)}},getFontCache:function(t){var i=t.fontFamily.toLowerCase();e.charWidthsCache[i]||(e.charWidthsCache[i]={});var n=e.charWidthsCache[i],r=t.fontStyle.toLowerCase()+"_"+(t.fontWeight+"").toLowerCase();return n[r]||(n[r]={}),n[r]},_measureChar:function(t,e,i,n){var r,o,s,a,A=this.getFontCache(e),c=this._getFontDeclaration(e),l=this._getFontDeclaration(n),u=i+t,h=c===l,f=e.fontSize/this.CACHE_FONT_SIZE;if(i&&void 0!==A[i]&&(s=A[i]),void 0!==A[t]&&(a=r=A[t]),h&&void 0!==A[u]&&(o=A[u],a=o-s),void 0===r||void 0===s||void 0===o){var d=this.getMeasuringContext();this._setTextStyles(d,e,!0)}return void 0===r&&(a=r=d.measureText(t).width,A[t]=r),void 0===s&&h&&i&&(s=d.measureText(i).width,A[i]=s),h&&void 0===o&&(o=d.measureText(u).width,A[u]=o,a=o-s),{width:r*f,kernedWidth:a*f}},getHeightOfChar:function(t,e){return this.getValueOfPropertyAt(t,e,"fontSize")},measureLine:function(t){var e=this._measureLine(t);return 0!==this.charSpacing&&(e.width-=this._getWidthOfCharSpacing()),e.width<0&&(e.width=0),e},_measureLine:function(t){var i,n,r,o,s,a,A=0,c=this._textLines[t],l=0,u=new Array(c.length),h=0,f=this.path;for(this.__charBounds[t]=u,f&&(s=e.util.getPointOnPath(f.path,0,f.segmentsInfo),a=f.segmentsInfo[f.segmentsInfo.length-1].length,s.x+=f.pathOffset.x,s.y+=f.pathOffset.y),i=0;i<c.length;i++)n=c[i],o=this._getGraphemeBox(n,t,i,r),f&&(h>a&&(h%=a),this._setGraphemeOnPath(h,o,s)),u[i]=o,A+=o.kernedWidth,h+=o.kernedWidth,r=n;return u[i]={left:o?o.left+o.width:0,width:0,kernedWidth:0,height:this.fontSize},{width:A,numOfSpaces:l}},_setGraphemeOnPath:function(t,i,n){var r=t+i.kernedWidth/2,o=this.path,s=e.util.getPointOnPath(o.path,r,o.segmentsInfo);i.renderLeft=s.x-n.x,i.renderTop=s.y-n.y,i.angle=s.angle},_getGraphemeBox:function(t,e,i,n,r){var o,s=this.getCompleteStyleDeclaration(e,i),a=n?this.getCompleteStyleDeclaration(e,i-1):{},A=this._measureChar(t,s,n,a),c=A.kernedWidth,l=A.width;0!==this.charSpacing&&(o=this._getWidthOfCharSpacing(),l+=o,c+=o);var u={width:l,left:0,height:s.fontSize,kernedWidth:c,deltaY:s.deltaY};if(i>0&&!r){var h=this.__charBounds[e][i-1];u.left=h.left+h.width+A.kernedWidth-A.width}return u},getHeightOfLine:function(t){if(this.__lineHeights[t])return this.__lineHeights[t];for(var e=this._textLines[t],i=this.getHeightOfChar(t,0),n=1,r=e.length;n<r;n++)i=Math.max(this.getHeightOfChar(t,n),i);return this.__lineHeights[t]=i*this.lineHeight*this._fontSizeMult},calcTextHeight:function(){for(var t,e=0,i=0,n=this._textLines.length;i<n;i++)t=this.getHeightOfLine(i),e+=i===n-1?t/this.lineHeight:t;return e},_getLeftOffset:function(){return-this.width/2},_getTopOffset:function(){return-this.height/2},_renderTextCommon:function(t,e){t.save();for(var i=0,n=this._getLeftOffset(),r=this._getTopOffset(),o=0,s=this._textLines.length;o<s;o++){var a=this.getHeightOfLine(o),A=a/this.lineHeight,c=this._getLineLeftOffset(o);this._renderTextLine(e,t,this._textLines[o],n+c,r+i+A,o),i+=a}t.restore()},_renderTextFill:function(t){(this.fill||this.styleHas("fill"))&&this._renderTextCommon(t,"fillText")},_renderTextStroke:function(t){(this.stroke&&0!==this.strokeWidth||!this.isEmptyStyles())&&(this.shadow&&!this.shadow.affectStroke&&this._removeShadow(t),t.save(),this._setLineDash(t,this.strokeDashArray),t.beginPath(),this._renderTextCommon(t,"strokeText"),t.closePath(),t.restore())},_renderChars:function(t,e,i,n,r,o){var s,a,A,c,l=this.getHeightOfLine(o),u=-1!==this.textAlign.indexOf("justify"),h="",f=0,d=this.path,p=!u&&0===this.charSpacing&&this.isEmptyStyles(o)&&!d;if(e.save(),r-=l*this._fontSizeFraction/this.lineHeight,p)return this._renderChar(t,e,o,0,i.join(""),n,r,l),void e.restore();for(var g=0,v=i.length-1;g<=v;g++)c=g===v||this.charSpacing||d,h+=i[g],A=this.__charBounds[o][g],0===f?(n+=A.kernedWidth-A.width,f+=A.width):f+=A.kernedWidth,u&&!c&&this._reSpaceAndTab.test(i[g])&&(c=!0),c||(s=s||this.getCompleteStyleDeclaration(o,g),a=this.getCompleteStyleDeclaration(o,g+1),c=this._hasStyleChanged(s,a)),c&&(d?(e.save(),e.translate(A.renderLeft,A.renderTop),e.rotate(A.angle),this._renderChar(t,e,o,g,h,-f/2,0,l),e.restore()):this._renderChar(t,e,o,g,h,n,r,l),h="",s=a,n+=f,f=0);e.restore()},_applyPatternGradientTransformText:function(t){var i,n=e.util.createCanvasElement(),r=this.width+this.strokeWidth,o=this.height+this.strokeWidth;return n.width=r,n.height=o,i=n.getContext("2d"),i.beginPath(),i.moveTo(0,0),i.lineTo(r,0),i.lineTo(r,o),i.lineTo(0,o),i.closePath(),i.translate(r/2,o/2),i.fillStyle=t.toLive(i),this._applyPatternGradientTransform(i,t),i.fill(),i.createPattern(n,"no-repeat")},handleFiller:function(t,e,i){var n,r;return i.toLive?"percentage"===i.gradientUnits||i.gradientTrasnform||i.patternTransform?(n=-this.width/2,r=-this.height/2,t.translate(n,r),t[e]=this._applyPatternGradientTransformText(i),{offsetX:n,offsetY:r}):(t[e]=i.toLive(t,this),this._applyPatternGradientTransform(t,i)):(t[e]=i,{offsetX:0,offsetY:0})},_setStrokeStyles:function(t,e){return t.lineWidth=e.strokeWidth,t.lineCap=this.strokeLineCap,t.lineDashOffset=this.strokeDashOffset,t.lineJoin=this.strokeLineJoin,t.miterLimit=this.strokeMiterLimit,this.handleFiller(t,"strokeStyle",e.stroke)},_setFillStyles:function(t,e){return this.handleFiller(t,"fillStyle",e.fill)},_renderChar:function(t,e,i,n,r,o,s){var a,A,c=this._getStyleDeclaration(i,n),l=this.getCompleteStyleDeclaration(i,n),u="fillText"===t&&l.fill,h="strokeText"===t&&l.stroke&&l.strokeWidth;(h||u)&&(e.save(),u&&(a=this._setFillStyles(e,l)),h&&(A=this._setStrokeStyles(e,l)),e.font=this._getFontDeclaration(l),c&&c.textBackgroundColor&&this._removeShadow(e),c&&c.deltaY&&(s+=c.deltaY),u&&e.fillText(r,o-a.offsetX,s-a.offsetY),h&&e.strokeText(r,o-A.offsetX,s-A.offsetY),e.restore())},setSuperscript:function(t,e){return this._setScript(t,e,this.superscript)},setSubscript:function(t,e){return this._setScript(t,e,this.subscript)},_setScript:function(t,e,i){var n=this.get2DCursorLocation(t,!0),r=this.getValueOfPropertyAt(n.lineIndex,n.charIndex,"fontSize"),o=this.getValueOfPropertyAt(n.lineIndex,n.charIndex,"deltaY"),s={fontSize:r*i.size,deltaY:o+r*i.baseline};return this.setSelectionStyles(s,t,e),this},_hasStyleChanged:function(t,e){return t.fill!==e.fill||t.stroke!==e.stroke||t.strokeWidth!==e.strokeWidth||t.fontSize!==e.fontSize||t.fontFamily!==e.fontFamily||t.fontWeight!==e.fontWeight||t.fontStyle!==e.fontStyle||t.deltaY!==e.deltaY},_hasStyleChangedForSvg:function(t,e){return this._hasStyleChanged(t,e)||t.overline!==e.overline||t.underline!==e.underline||t.linethrough!==e.linethrough},_getLineLeftOffset:function(t){var e=this.getLineWidth(t);return"center"===this.textAlign?(this.width-e)/2:"right"===this.textAlign?this.width-e:"justify-center"===this.textAlign&&this.isEndOfWrapping(t)?(this.width-e)/2:"justify-right"===this.textAlign&&this.isEndOfWrapping(t)?this.width-e:0},_clearCache:function(){this.__lineWidths=[],this.__lineHeights=[],this.__charBounds=[]},_shouldClearDimensionCache:function(){var t=this._forceClearCache;return t||(t=this.hasStateChanged("_dimensionAffectingProps")),t&&(this.dirty=!0,this._forceClearCache=!1),t},getLineWidth:function(t){if(this.__lineWidths[t])return this.__lineWidths[t];var e,i,n=this._textLines[t];return""===n?e=0:(i=this.measureLine(t),e=i.width),this.__lineWidths[t]=e,e},_getWidthOfCharSpacing:function(){return 0!==this.charSpacing?this.fontSize*this.charSpacing/1e3:0},getValueOfPropertyAt:function(t,e,i){var n=this._getStyleDeclaration(t,e);return n&&"undefined"!==typeof n[i]?n[i]:this[i]},_renderTextDecoration:function(t,e){if(this[e]||this.styleHas(e)){for(var i,n,r,o,s,a,A,c,l,u,h,f,d,p,g,v,m=this._getLeftOffset(),w=this._getTopOffset(),y=this.path,b=this._getWidthOfCharSpacing(),B=0,C=this._textLines.length;B<C;B++)if(i=this.getHeightOfLine(B),this[e]||this.styleHas(e,B)){A=this._textLines[B],p=i/this.lineHeight,o=this._getLineLeftOffset(B),u=0,h=0,c=this.getValueOfPropertyAt(B,0,e),v=this.getValueOfPropertyAt(B,0,"fill"),l=w+p*(1-this._fontSizeFraction),n=this.getHeightOfChar(B,0),s=this.getValueOfPropertyAt(B,0,"deltaY");for(var E=0,x=A.length;E<x;E++)f=this.__charBounds[B][E],d=this.getValueOfPropertyAt(B,E,e),g=this.getValueOfPropertyAt(B,E,"fill"),r=this.getHeightOfChar(B,E),a=this.getValueOfPropertyAt(B,E,"deltaY"),y&&d&&g?(t.save(),t.fillStyle=v,t.translate(f.renderLeft,f.renderTop),t.rotate(f.angle),t.fillRect(-f.kernedWidth/2,this.offsets[e]*r+a,f.kernedWidth,this.fontSize/15),t.restore()):(d!==c||g!==v||r!==n||a!==s)&&h>0?(c&&v&&(t.fillStyle=v,t.fillRect(m+o+u,l+this.offsets[e]*n+s,h,this.fontSize/15)),u=f.left,h=f.width,c=d,v=g,n=r,s=a):h+=f.kernedWidth;t.fillStyle=g,d&&g&&t.fillRect(m+o+u,l+this.offsets[e]*n+s,h-b,this.fontSize/15),w+=i}else w+=i;this._removeShadow(t)}},_getFontDeclaration:function(t,i){var n=t||this,r=this.fontFamily,o=e.Text.genericFonts.indexOf(r.toLowerCase())>-1,s=void 0===r||r.indexOf("'")>-1||r.indexOf(",")>-1||r.indexOf('"')>-1||o?n.fontFamily:'"'+n.fontFamily+'"';return[e.isLikelyNode?n.fontWeight:n.fontStyle,e.isLikelyNode?n.fontStyle:n.fontWeight,i?this.CACHE_FONT_SIZE+"px":n.fontSize+"px",s].join(" ")},render:function(t){this.visible&&(this.canvas&&this.canvas.skipOffscreen&&!this.group&&!this.isOnScreen()||(this._shouldClearDimensionCache()&&this.initDimensions(),this.callSuper("render",t)))},_splitTextIntoLines:function(t){for(var i=t.split(this._reNewline),n=new Array(i.length),r=["\n"],o=[],s=0;s<i.length;s++)n[s]=e.util.string.graphemeSplit(i[s]),o=o.concat(n[s],r);return o.pop(),{_unwrappedLines:n,lines:i,graphemeText:o,graphemeLines:n}},toObject:function(t){var e=["text","fontSize","fontWeight","fontFamily","fontStyle","lineHeight","underline","overline","linethrough","textAlign","textBackgroundColor","charSpacing","path"].concat(t),n=this.callSuper("toObject",e);return n.styles=i(this.styles,!0),n.path=this.path&&this.path.toObject(),n},set:function(t,e){this.callSuper("set",t,e);var i=!1,n=!1;if("object"===typeof t)for(var r in t)"path"===r&&this.setPathInfo(),i=i||-1!==this._dimensionAffectingProps.indexOf(r),n=n||"path"===r;else i=-1!==this._dimensionAffectingProps.indexOf(t),n="path"===t;return n&&this.setPathInfo(),i&&(this.initDimensions(),this.setCoords()),this},complexity:function(){return 1}}),e.Text.ATTRIBUTE_NAMES=e.SHARED_ATTRIBUTES.concat("x y dx dy font-family font-style font-weight font-size letter-spacing text-decoration text-anchor".split(" ")),e.Text.DEFAULT_SVG_FONT_SIZE=16,e.Text.fromElement=function(t,n,r){if(!t)return n(null);var o=e.parseAttributes(t,e.Text.ATTRIBUTE_NAMES),s=o.textAnchor||"left";if(r=e.util.object.extend(r?i(r):{},o),r.top=r.top||0,r.left=r.left||0,o.textDecoration){var a=o.textDecoration;-1!==a.indexOf("underline")&&(r.underline=!0),-1!==a.indexOf("overline")&&(r.overline=!0),-1!==a.indexOf("line-through")&&(r.linethrough=!0),delete r.textDecoration}"dx"in o&&(r.left+=o.dx),"dy"in o&&(r.top+=o.dy),"fontSize"in r||(r.fontSize=e.Text.DEFAULT_SVG_FONT_SIZE);var A="";"textContent"in t?A=t.textContent:"firstChild"in t&&null!==t.firstChild&&"data"in t.firstChild&&null!==t.firstChild.data&&(A=t.firstChild.data),A=A.replace(/^\s+|\s+$|\n+/g,"").replace(/\s+/g," ");var c=r.strokeWidth;r.strokeWidth=0;var l=new e.Text(A,r),u=l.getScaledHeight()/l.height,h=(l.height+l.strokeWidth)*l.lineHeight-l.height,f=h*u,d=l.getScaledHeight()+f,p=0;"center"===s&&(p=l.getScaledWidth()/2),"right"===s&&(p=l.getScaledWidth()),l.set({left:l.left-p,top:l.top-(d-l.fontSize*(.07+l._fontSizeFraction))/l.lineHeight,strokeWidth:"undefined"!==typeof c?c:1}),n(l)},e.Text.fromObject=function(t,n){var r=i(t),o=t.path;return delete r.path,e.Object._fromObject("Text",r,(function(t){o?e.Object._fromObject("Path",o,(function(e){t.set("path",e),n(t)}),"path"):n(t)}),"text")},e.Text.genericFonts=["sans-serif","serif","cursive","fantasy","monospace"],e.util.createAccessors&&e.util.createAccessors(e.Text)}}(e),function(){n.util.object.extend(n.Text.prototype,{isEmptyStyles:function(t){if(!this.styles)return!0;if("undefined"!==typeof t&&!this.styles[t])return!0;var e="undefined"===typeof t?this.styles:{line:this.styles[t]};for(var i in e)for(var n in e[i])for(var r in e[i][n])return!1;return!0},styleHas:function(t,e){if(!this.styles||!t||""===t)return!1;if("undefined"!==typeof e&&!this.styles[e])return!1;var i="undefined"===typeof e?this.styles:{0:this.styles[e]};for(var n in i)for(var r in i[n])if("undefined"!==typeof i[n][r][t])return!0;return!1},cleanStyle:function(t){if(!this.styles||!t||""===t)return!1;var e,i,n=this.styles,r=0,o=!0,s=0;for(var a in n){for(var A in e=0,n[a]){var c=n[a][A],l=c.hasOwnProperty(t);r++,l?(i?c[t]!==i&&(o=!1):i=c[t],c[t]===this[t]&&delete c[t]):o=!1,0!==Object.keys(c).length?e++:delete n[a][A]}0===e&&delete n[a]}for(var u=0;u<this._textLines.length;u++)s+=this._textLines[u].length;o&&r===s&&(this[t]=i,this.removeStyle(t))},removeStyle:function(t){if(this.styles&&t&&""!==t){var e,i,n,r=this.styles;for(i in r){for(n in e=r[i],e)delete e[n][t],0===Object.keys(e[n]).length&&delete e[n];0===Object.keys(e).length&&delete r[i]}}},_extendStyles:function(t,e){var i=this.get2DCursorLocation(t);this._getLineStyle(i.lineIndex)||this._setLineStyle(i.lineIndex),this._getStyleDeclaration(i.lineIndex,i.charIndex)||this._setStyleDeclaration(i.lineIndex,i.charIndex,{}),n.util.object.extend(this._getStyleDeclaration(i.lineIndex,i.charIndex),e)},get2DCursorLocation:function(t,e){"undefined"===typeof t&&(t=this.selectionStart);for(var i=e?this._unwrappedTextLines:this._textLines,n=i.length,r=0;r<n;r++){if(t<=i[r].length)return{lineIndex:r,charIndex:t};t-=i[r].length+this.missingNewlineOffset(r)}return{lineIndex:r-1,charIndex:i[r-1].length<t?i[r-1].length:t}},getSelectionStyles:function(t,e,i){"undefined"===typeof t&&(t=this.selectionStart||0),"undefined"===typeof e&&(e=this.selectionEnd||t);for(var n=[],r=t;r<e;r++)n.push(this.getStyleAtPosition(r,i));return n},getStyleAtPosition:function(t,e){var i=this.get2DCursorLocation(t),n=e?this.getCompleteStyleDeclaration(i.lineIndex,i.charIndex):this._getStyleDeclaration(i.lineIndex,i.charIndex);return n||{}},setSelectionStyles:function(t,e,i){"undefined"===typeof e&&(e=this.selectionStart||0),"undefined"===typeof i&&(i=this.selectionEnd||e);for(var n=e;n<i;n++)this._extendStyles(n,t);return this._forceClearCache=!0,this},_getStyleDeclaration:function(t,e){var i=this.styles&&this.styles[t];return i?i[e]:null},getCompleteStyleDeclaration:function(t,e){for(var i,n=this._getStyleDeclaration(t,e)||{},r={},o=0;o<this._styleProperties.length;o++)i=this._styleProperties[o],r[i]="undefined"===typeof n[i]?this[i]:n[i];return r},_setStyleDeclaration:function(t,e,i){this.styles[t][e]=i},_deleteStyleDeclaration:function(t,e){delete this.styles[t][e]},_getLineStyle:function(t){return!!this.styles[t]},_setLineStyle:function(t){this.styles[t]={}},_deleteLineStyle:function(t){delete this.styles[t]}})}(),function(){function t(t){t.textDecoration&&(t.textDecoration.indexOf("underline")>-1&&(t.underline=!0),t.textDecoration.indexOf("line-through")>-1&&(t.linethrough=!0),t.textDecoration.indexOf("overline")>-1&&(t.overline=!0),delete t.textDecoration)}n.IText=n.util.createClass(n.Text,n.Observable,{type:"i-text",selectionStart:0,selectionEnd:0,selectionColor:"rgba(17,119,255,0.3)",isEditing:!1,editable:!0,editingBorderColor:"rgba(102,153,255,0.25)",cursorWidth:2,cursorColor:"",cursorDelay:1e3,cursorDuration:600,caching:!0,_reSpace:/\s|\n/,_currentCursorOpacity:0,_selectionDirection:null,_abortCursorAnimation:!1,__widthOfSpace:[],inCompositionMode:!1,initialize:function(t,e){this.callSuper("initialize",t,e),this.initBehavior()},setSelectionStart:function(t){t=Math.max(t,0),this._updateAndFire("selectionStart",t)},setSelectionEnd:function(t){t=Math.min(t,this.text.length),this._updateAndFire("selectionEnd",t)},_updateAndFire:function(t,e){this[t]!==e&&(this._fireSelectionChanged(),this[t]=e),this._updateTextarea()},_fireSelectionChanged:function(){this.fire("selection:changed"),this.canvas&&this.canvas.fire("text:selection:changed",{target:this})},initDimensions:function(){this.isEditing&&this.initDelayedCursor(),this.clearContextTop(),this.callSuper("initDimensions")},render:function(t){this.clearContextTop(),this.callSuper("render",t),this.cursorOffsetCache={},this.renderCursorOrSelection()},_render:function(t){this.callSuper("_render",t)},clearContextTop:function(t){if(this.isEditing&&this.canvas&&this.canvas.contextTop){var e=this.canvas.contextTop,i=this.canvas.viewportTransform;e.save(),e.transform(i[0],i[1],i[2],i[3],i[4],i[5]),this.transform(e),this._clearTextArea(e),t||e.restore()}},renderCursorOrSelection:function(){if(this.isEditing&&this.canvas&&this.canvas.contextTop){var t=this._getCursorBoundaries(),e=this.canvas.contextTop;this.clearContextTop(!0),this.selectionStart===this.selectionEnd?this.renderCursor(t,e):this.renderSelection(t,e),e.restore()}},_clearTextArea:function(t){var e=this.width+4,i=this.height+4;t.clearRect(-e/2,-i/2,e,i)},_getCursorBoundaries:function(t){"undefined"===typeof t&&(t=this.selectionStart);var e=this._getLeftOffset(),i=this._getTopOffset(),n=this._getCursorBoundariesOffsets(t);return{left:e,top:i,leftOffset:n.left,topOffset:n.top}},_getCursorBoundariesOffsets:function(t){if(this.cursorOffsetCache&&"top"in this.cursorOffsetCache)return this.cursorOffsetCache;var e,i,n,r,o=0,s=0,a=this.get2DCursorLocation(t);n=a.charIndex,i=a.lineIndex;for(var A=0;A<i;A++)o+=this.getHeightOfLine(A);e=this._getLineLeftOffset(i);var c=this.__charBounds[i][n];return c&&(s=c.left),0!==this.charSpacing&&n===this._textLines[i].length&&(s-=this._getWidthOfCharSpacing()),r={top:o,left:e+(s>0?s:0)},this.cursorOffsetCache=r,this.cursorOffsetCache},renderCursor:function(t,e){var i=this.get2DCursorLocation(),n=i.lineIndex,r=i.charIndex>0?i.charIndex-1:0,o=this.getValueOfPropertyAt(n,r,"fontSize"),s=this.scaleX*this.canvas.getZoom(),a=this.cursorWidth/s,A=t.topOffset,c=this.getValueOfPropertyAt(n,r,"deltaY");A+=(1-this._fontSizeFraction)*this.getHeightOfLine(n)/this.lineHeight-o*(1-this._fontSizeFraction),this.inCompositionMode&&this.renderSelection(t,e),e.fillStyle=this.cursorColor||this.getValueOfPropertyAt(n,r,"fill"),e.globalAlpha=this.__isMousedown?1:this._currentCursorOpacity,e.fillRect(t.left+t.leftOffset-a/2,A+t.top+c,a,o)},renderSelection:function(t,e){for(var i=this.inCompositionMode?this.hiddenTextarea.selectionStart:this.selectionStart,n=this.inCompositionMode?this.hiddenTextarea.selectionEnd:this.selectionEnd,r=-1!==this.textAlign.indexOf("justify"),o=this.get2DCursorLocation(i),s=this.get2DCursorLocation(n),a=o.lineIndex,A=s.lineIndex,c=o.charIndex<0?0:o.charIndex,l=s.charIndex<0?0:s.charIndex,u=a;u<=A;u++){var h=this._getLineLeftOffset(u)||0,f=this.getHeightOfLine(u),d=0,p=0,g=0;if(u===a&&(p=this.__charBounds[a][c].left),u>=a&&u<A)g=r&&!this.isEndOfWrapping(u)?this.width:this.getLineWidth(u)||5;else if(u===A)if(0===l)g=this.__charBounds[A][l].left;else{var v=this._getWidthOfCharSpacing();g=this.__charBounds[A][l-1].left+this.__charBounds[A][l-1].width-v}d=f,(this.lineHeight<1||u===A&&this.lineHeight>1)&&(f/=this.lineHeight),this.inCompositionMode?(e.fillStyle=this.compositionColor||"black",e.fillRect(t.left+h+p,t.top+t.topOffset+f,g-p,1)):(e.fillStyle=this.selectionColor,e.fillRect(t.left+h+p,t.top+t.topOffset,g-p,f)),t.topOffset+=d}},getCurrentCharFontSize:function(){var t=this._getCurrentCharIndex();return this.getValueOfPropertyAt(t.l,t.c,"fontSize")},getCurrentCharColor:function(){var t=this._getCurrentCharIndex();return this.getValueOfPropertyAt(t.l,t.c,"fill")},_getCurrentCharIndex:function(){var t=this.get2DCursorLocation(this.selectionStart,!0),e=t.charIndex>0?t.charIndex-1:0;return{l:t.lineIndex,c:e}}}),n.IText.fromObject=function(e,i){if(t(e),e.styles)for(var r in e.styles)for(var o in e.styles[r])t(e.styles[r][o]);n.Object._fromObject("IText",e,i,"text")}}(),function(){var t=n.util.object.clone;n.util.object.extend(n.IText.prototype,{initBehavior:function(){this.initAddedHandler(),this.initRemovedHandler(),this.initCursorSelectionHandlers(),this.initDoubleClickSimulation(),this.mouseMoveHandler=this.mouseMoveHandler.bind(this)},onDeselect:function(){this.isEditing&&this.exitEditing(),this.selected=!1},initAddedHandler:function(){var t=this;this.on("added",(function(){var e=t.canvas;e&&(e._hasITextHandlers||(e._hasITextHandlers=!0,t._initCanvasHandlers(e)),e._iTextInstances=e._iTextInstances||[],e._iTextInstances.push(t))}))},initRemovedHandler:function(){var t=this;this.on("removed",(function(){var e=t.canvas;e&&(e._iTextInstances=e._iTextInstances||[],n.util.removeFromArray(e._iTextInstances,t),0===e._iTextInstances.length&&(e._hasITextHandlers=!1,t._removeCanvasHandlers(e)))}))},_initCanvasHandlers:function(t){t._mouseUpITextHandler=function(){t._iTextInstances&&t._iTextInstances.forEach((function(t){t.__isMousedown=!1}))},t.on("mouse:up",t._mouseUpITextHandler)},_removeCanvasHandlers:function(t){t.off("mouse:up",t._mouseUpITextHandler)},_tick:function(){this._currentTickState=this._animateCursor(this,1,this.cursorDuration,"_onTickComplete")},_animateCursor:function(t,e,i,n){var r;return r={isAborted:!1,abort:function(){this.isAborted=!0}},t.animate("_currentCursorOpacity",e,{duration:i,onComplete:function(){r.isAborted||t[n]()},onChange:function(){t.canvas&&t.selectionStart===t.selectionEnd&&t.renderCursorOrSelection()},abort:function(){return r.isAborted}}),r},_onTickComplete:function(){var t=this;this._cursorTimeout1&&clearTimeout(this._cursorTimeout1),this._cursorTimeout1=setTimeout((function(){t._currentTickCompleteState=t._animateCursor(t,0,this.cursorDuration/2,"_tick")}),100)},initDelayedCursor:function(t){var e=this,i=t?0:this.cursorDelay;this.abortCursorAnimation(),this._currentCursorOpacity=1,this._cursorTimeout2=setTimeout((function(){e._tick()}),i)},abortCursorAnimation:function(){var t=this._currentTickState||this._currentTickCompleteState,e=this.canvas;this._currentTickState&&this._currentTickState.abort(),this._currentTickCompleteState&&this._currentTickCompleteState.abort(),clearTimeout(this._cursorTimeout1),clearTimeout(this._cursorTimeout2),this._currentCursorOpacity=0,t&&e&&e.clearContext(e.contextTop||e.contextContainer)},selectAll:function(){return this.selectionStart=0,this.selectionEnd=this._text.length,this._fireSelectionChanged(),this._updateTextarea(),this},getSelectedText:function(){return this._text.slice(this.selectionStart,this.selectionEnd).join("")},findWordBoundaryLeft:function(t){var e=0,i=t-1;if(this._reSpace.test(this._text[i]))while(this._reSpace.test(this._text[i]))e++,i--;while(/\S/.test(this._text[i])&&i>-1)e++,i--;return t-e},findWordBoundaryRight:function(t){var e=0,i=t;if(this._reSpace.test(this._text[i]))while(this._reSpace.test(this._text[i]))e++,i++;while(/\S/.test(this._text[i])&&i<this._text.length)e++,i++;return t+e},findLineBoundaryLeft:function(t){var e=0,i=t-1;while(!/\n/.test(this._text[i])&&i>-1)e++,i--;return t-e},findLineBoundaryRight:function(t){var e=0,i=t;while(!/\n/.test(this._text[i])&&i<this._text.length)e++,i++;return t+e},searchWordBoundary:function(t,e){var i=this._text,r=this._reSpace.test(i[t])?t-1:t,o=i[r],s=n.reNonWord;while(!s.test(o)&&r>0&&r<i.length)r+=e,o=i[r];return s.test(o)&&(r+=1===e?0:1),r},selectWord:function(t){t=t||this.selectionStart;var e=this.searchWordBoundary(t,-1),i=this.searchWordBoundary(t,1);this.selectionStart=e,this.selectionEnd=i,this._fireSelectionChanged(),this._updateTextarea(),this.renderCursorOrSelection()},selectLine:function(t){t=t||this.selectionStart;var e=this.findLineBoundaryLeft(t),i=this.findLineBoundaryRight(t);return this.selectionStart=e,this.selectionEnd=i,this._fireSelectionChanged(),this._updateTextarea(),this},enterEditing:function(t){if(!this.isEditing&&this.editable)return this.canvas&&(this.canvas.calcOffset(),this.exitEditingOnOthers(this.canvas)),this.isEditing=!0,this.initHiddenTextarea(t),this.hiddenTextarea.focus(),this.hiddenTextarea.value=this.text,this._updateTextarea(),this._saveEditingProps(),this._setEditingProps(),this._textBeforeEdit=this.text,this._tick(),this.fire("editing:entered"),this._fireSelectionChanged(),this.canvas?(this.canvas.fire("text:editing:entered",{target:this}),this.initMouseMoveHandler(),this.canvas.requestRenderAll(),this):this},exitEditingOnOthers:function(t){t._iTextInstances&&t._iTextInstances.forEach((function(t){t.selected=!1,t.isEditing&&t.exitEditing()}))},initMouseMoveHandler:function(){this.canvas.on("mouse:move",this.mouseMoveHandler)},mouseMoveHandler:function(t){if(this.__isMousedown&&this.isEditing){var e=this.getSelectionStartFromPointer(t.e),i=this.selectionStart,n=this.selectionEnd;(e===this.__selectionStartOnMouseDown&&i!==n||i!==e&&n!==e)&&(e>this.__selectionStartOnMouseDown?(this.selectionStart=this.__selectionStartOnMouseDown,this.selectionEnd=e):(this.selectionStart=e,this.selectionEnd=this.__selectionStartOnMouseDown),this.selectionStart===i&&this.selectionEnd===n||(this.restartCursorIfNeeded(),this._fireSelectionChanged(),this._updateTextarea(),this.renderCursorOrSelection()))}},_setEditingProps:function(){this.hoverCursor="text",this.canvas&&(this.canvas.defaultCursor=this.canvas.moveCursor="text"),this.borderColor=this.editingBorderColor,this.hasControls=this.selectable=!1,this.lockMovementX=this.lockMovementY=!0},fromStringToGraphemeSelection:function(t,e,i){var r=i.slice(0,t),o=n.util.string.graphemeSplit(r).length;if(t===e)return{selectionStart:o,selectionEnd:o};var s=i.slice(t,e),a=n.util.string.graphemeSplit(s).length;return{selectionStart:o,selectionEnd:o+a}},fromGraphemeToStringSelection:function(t,e,i){var n=i.slice(0,t),r=n.join("").length;if(t===e)return{selectionStart:r,selectionEnd:r};var o=i.slice(t,e),s=o.join("").length;return{selectionStart:r,selectionEnd:r+s}},_updateTextarea:function(){if(this.cursorOffsetCache={},this.hiddenTextarea){if(!this.inCompositionMode){var t=this.fromGraphemeToStringSelection(this.selectionStart,this.selectionEnd,this._text);this.hiddenTextarea.selectionStart=t.selectionStart,this.hiddenTextarea.selectionEnd=t.selectionEnd}this.updateTextareaPosition()}},updateFromTextArea:function(){if(this.hiddenTextarea){this.cursorOffsetCache={},this.text=this.hiddenTextarea.value,this._shouldClearDimensionCache()&&(this.initDimensions(),this.setCoords());var t=this.fromStringToGraphemeSelection(this.hiddenTextarea.selectionStart,this.hiddenTextarea.selectionEnd,this.hiddenTextarea.value);this.selectionEnd=this.selectionStart=t.selectionEnd,this.inCompositionMode||(this.selectionStart=t.selectionStart),this.updateTextareaPosition()}},updateTextareaPosition:function(){if(this.selectionStart===this.selectionEnd){var t=this._calcTextareaPosition();this.hiddenTextarea.style.left=t.left,this.hiddenTextarea.style.top=t.top}},_calcTextareaPosition:function(){if(!this.canvas)return{x:1,y:1};var t=this.inCompositionMode?this.compositionStart:this.selectionStart,e=this._getCursorBoundaries(t),i=this.get2DCursorLocation(t),r=i.lineIndex,o=i.charIndex,s=this.getValueOfPropertyAt(r,o,"fontSize")*this.lineHeight,a=e.leftOffset,A=this.calcTransformMatrix(),c={x:e.left+a,y:e.top+e.topOffset+s},l=this.canvas.getRetinaScaling(),u=this.canvas.upperCanvasEl,h=u.width/l,f=u.height/l,d=h-s,p=f-s,g=u.clientWidth/h,v=u.clientHeight/f;return c=n.util.transformPoint(c,A),c=n.util.transformPoint(c,this.canvas.viewportTransform),c.x*=g,c.y*=v,c.x<0&&(c.x=0),c.x>d&&(c.x=d),c.y<0&&(c.y=0),c.y>p&&(c.y=p),c.x+=this.canvas._offset.left,c.y+=this.canvas._offset.top,{left:c.x+"px",top:c.y+"px",fontSize:s+"px",charHeight:s}},_saveEditingProps:function(){this._savedProps={hasControls:this.hasControls,borderColor:this.borderColor,lockMovementX:this.lockMovementX,lockMovementY:this.lockMovementY,hoverCursor:this.hoverCursor,selectable:this.selectable,defaultCursor:this.canvas&&this.canvas.defaultCursor,moveCursor:this.canvas&&this.canvas.moveCursor}},_restoreEditingProps:function(){this._savedProps&&(this.hoverCursor=this._savedProps.hoverCursor,this.hasControls=this._savedProps.hasControls,this.borderColor=this._savedProps.borderColor,this.selectable=this._savedProps.selectable,this.lockMovementX=this._savedProps.lockMovementX,this.lockMovementY=this._savedProps.lockMovementY,this.canvas&&(this.canvas.defaultCursor=this._savedProps.defaultCursor,this.canvas.moveCursor=this._savedProps.moveCursor))},exitEditing:function(){var t=this._textBeforeEdit!==this.text,e=this.hiddenTextarea;return this.selected=!1,this.isEditing=!1,this.selectionEnd=this.selectionStart,e&&(e.blur&&e.blur(),e.parentNode&&e.parentNode.removeChild(e)),this.hiddenTextarea=null,this.abortCursorAnimation(),this._restoreEditingProps(),this._currentCursorOpacity=0,this._shouldClearDimensionCache()&&(this.initDimensions(),this.setCoords()),this.fire("editing:exited"),t&&this.fire("modified"),this.canvas&&(this.canvas.off("mouse:move",this.mouseMoveHandler),this.canvas.fire("text:editing:exited",{target:this}),t&&this.canvas.fire("object:modified",{target:this})),this},_removeExtraneousStyles:function(){for(var t in this.styles)this._textLines[t]||delete this.styles[t]},removeStyleFromTo:function(t,e){var i,n,r=this.get2DCursorLocation(t,!0),o=this.get2DCursorLocation(e,!0),s=r.lineIndex,a=r.charIndex,A=o.lineIndex,c=o.charIndex;if(s!==A){if(this.styles[s])for(i=a;i<this._unwrappedTextLines[s].length;i++)delete this.styles[s][i];if(this.styles[A])for(i=c;i<this._unwrappedTextLines[A].length;i++)n=this.styles[A][i],n&&(this.styles[s]||(this.styles[s]={}),this.styles[s][a+i-c]=n);for(i=s+1;i<=A;i++)delete this.styles[i];this.shiftLineStyles(A,s-A)}else if(this.styles[s]){n=this.styles[s];var l,u,h=c-a;for(i=a;i<c;i++)delete n[i];for(u in this.styles[s])l=parseInt(u,10),l>=c&&(n[l-h]=n[u],delete n[u])}},shiftLineStyles:function(e,i){var n=t(this.styles);for(var r in this.styles){var o=parseInt(r,10);o>e&&(this.styles[o+i]=n[o],n[o-i]||delete this.styles[o])}},restartCursorIfNeeded:function(){this._currentTickState&&!this._currentTickState.isAborted&&this._currentTickCompleteState&&!this._currentTickCompleteState.isAborted||this.initDelayedCursor()},insertNewlineStyleObject:function(e,i,n,r){var o,s={},a=!1,A=this._unwrappedTextLines[e].length===i;for(var c in n||(n=1),this.shiftLineStyles(e,n),this.styles[e]&&(o=this.styles[e][0===i?i:i-1]),this.styles[e]){var l=parseInt(c,10);l>=i&&(a=!0,s[l-i]=this.styles[e][c],A&&0===i||delete this.styles[e][c])}var u=!1;a&&!A&&(this.styles[e+n]=s,u=!0),u&&n--;while(n>0)r&&r[n-1]?this.styles[e+n]={0:t(r[n-1])}:o?this.styles[e+n]={0:t(o)}:delete this.styles[e+n],n--;this._forceClearCache=!0},insertCharStyleObject:function(e,i,n,r){this.styles||(this.styles={});var o=this.styles[e],s=o?t(o):{};for(var a in n||(n=1),s){var A=parseInt(a,10);A>=i&&(o[A+n]=s[A],s[A-n]||delete o[A])}if(this._forceClearCache=!0,r)while(n--)Object.keys(r[n]).length&&(this.styles[e]||(this.styles[e]={}),this.styles[e][i+n]=t(r[n]));else if(o){var c=o[i?i-1:1];while(c&&n--)this.styles[e][i+n]=t(c)}},insertNewStyleBlock:function(t,e,i){for(var n=this.get2DCursorLocation(e,!0),r=[0],o=0,s=0;s<t.length;s++)"\n"===t[s]?(o++,r[o]=0):r[o]++;r[0]>0&&(this.insertCharStyleObject(n.lineIndex,n.charIndex,r[0],i),i=i&&i.slice(r[0]+1)),o&&this.insertNewlineStyleObject(n.lineIndex,n.charIndex+r[0],o);for(s=1;s<o;s++)r[s]>0?this.insertCharStyleObject(n.lineIndex+s,0,r[s],i):i&&(this.styles[n.lineIndex+s][0]=i[0]),i=i&&i.slice(r[s]+1);r[s]>0&&this.insertCharStyleObject(n.lineIndex+s,0,r[s],i)},setSelectionStartEndWithShift:function(t,e,i){i<=t?(e===t?this._selectionDirection="left":"right"===this._selectionDirection&&(this._selectionDirection="left",this.selectionEnd=t),this.selectionStart=i):i>t&&i<e?"right"===this._selectionDirection?this.selectionEnd=i:this.selectionStart=i:(e===t?this._selectionDirection="right":"left"===this._selectionDirection&&(this._selectionDirection="right",this.selectionStart=e),this.selectionEnd=i)},setSelectionInBoundaries:function(){var t=this.text.length;this.selectionStart>t?this.selectionStart=t:this.selectionStart<0&&(this.selectionStart=0),this.selectionEnd>t?this.selectionEnd=t:this.selectionEnd<0&&(this.selectionEnd=0)}})}(),n.util.object.extend(n.IText.prototype,{initDoubleClickSimulation:function(){this.__lastClickTime=+new Date,this.__lastLastClickTime=+new Date,this.__lastPointer={},this.on("mousedown",this.onMouseDown)},onMouseDown:function(t){if(this.canvas){this.__newClickTime=+new Date;var e=t.pointer;this.isTripleClick(e)&&(this.fire("tripleclick",t),this._stopEvent(t.e)),this.__lastLastClickTime=this.__lastClickTime,this.__lastClickTime=this.__newClickTime,this.__lastPointer=e,this.__lastIsEditing=this.isEditing,this.__lastSelected=this.selected}},isTripleClick:function(t){return this.__newClickTime-this.__lastClickTime<500&&this.__lastClickTime-this.__lastLastClickTime<500&&this.__lastPointer.x===t.x&&this.__lastPointer.y===t.y},_stopEvent:function(t){t.preventDefault&&t.preventDefault(),t.stopPropagation&&t.stopPropagation()},initCursorSelectionHandlers:function(){this.initMousedownHandler(),this.initMouseupHandler(),this.initClicks()},doubleClickHandler:function(t){this.isEditing&&this.selectWord(this.getSelectionStartFromPointer(t.e))},tripleClickHandler:function(t){this.isEditing&&this.selectLine(this.getSelectionStartFromPointer(t.e))},initClicks:function(){this.on("mousedblclick",this.doubleClickHandler),this.on("tripleclick",this.tripleClickHandler)},_mouseDownHandler:function(t){!this.canvas||!this.editable||t.e.button&&1!==t.e.button||(this.__isMousedown=!0,this.selected&&(this.inCompositionMode=!1,this.setCursorByClick(t.e)),this.isEditing&&(this.__selectionStartOnMouseDown=this.selectionStart,this.selectionStart===this.selectionEnd&&this.abortCursorAnimation(),this.renderCursorOrSelection()))},_mouseDownHandlerBefore:function(t){!this.canvas||!this.editable||t.e.button&&1!==t.e.button||(this.selected=this===this.canvas._activeObject)},initMousedownHandler:function(){this.on("mousedown",this._mouseDownHandler),this.on("mousedown:before",this._mouseDownHandlerBefore)},initMouseupHandler:function(){this.on("mouseup",this.mouseUpHandler)},mouseUpHandler:function(t){if(this.__isMousedown=!1,!(!this.editable||this.group||t.transform&&t.transform.actionPerformed||t.e.button&&1!==t.e.button)){if(this.canvas){var e=this.canvas._activeObject;if(e&&e!==this)return}this.__lastSelected&&!this.__corner?(this.selected=!1,this.__lastSelected=!1,this.enterEditing(t.e),this.selectionStart===this.selectionEnd?this.initDelayedCursor(!0):this.renderCursorOrSelection()):this.selected=!0}},setCursorByClick:function(t){var e=this.getSelectionStartFromPointer(t),i=this.selectionStart,n=this.selectionEnd;t.shiftKey?this.setSelectionStartEndWithShift(i,n,e):(this.selectionStart=e,this.selectionEnd=e),this.isEditing&&(this._fireSelectionChanged(),this._updateTextarea())},getSelectionStartFromPointer:function(t){for(var e,i,n=this.getLocalPointer(t),r=0,o=0,s=0,a=0,A=0,c=0,l=this._textLines.length;c<l;c++){if(!(s<=n.y))break;s+=this.getHeightOfLine(c)*this.scaleY,A=c,c>0&&(a+=this._textLines[c-1].length+this.missingNewlineOffset(c-1))}e=this._getLineLeftOffset(A),o=e*this.scaleX,i=this._textLines[A];for(var u=0,h=i.length;u<h;u++){if(r=o,o+=this.__charBounds[A][u].kernedWidth*this.scaleX,!(o<=n.x))break;a++}return this._getNewSelectionStartFromOffset(n,r,o,a,h)},_getNewSelectionStartFromOffset:function(t,e,i,n,r){var o=t.x-e,s=i-t.x,a=s>o||s<0?0:1,A=n+a;return this.flipX&&(A=r-A),A>this._text.length&&(A=this._text.length),A}}),n.util.object.extend(n.IText.prototype,{initHiddenTextarea:function(){this.hiddenTextarea=n.document.createElement("textarea"),this.hiddenTextarea.setAttribute("autocapitalize","off"),this.hiddenTextarea.setAttribute("autocorrect","off"),this.hiddenTextarea.setAttribute("autocomplete","off"),this.hiddenTextarea.setAttribute("spellcheck","false"),this.hiddenTextarea.setAttribute("data-fabric-hiddentextarea",""),this.hiddenTextarea.setAttribute("wrap","off");var t=this._calcTextareaPosition();this.hiddenTextarea.style.cssText="position: absolute; top: "+t.top+"; left: "+t.left+"; z-index: -999; opacity: 0; width: 1px; height: 1px; font-size: 1px; paddingtop: "+t.fontSize+";",n.document.body.appendChild(this.hiddenTextarea),n.util.addListener(this.hiddenTextarea,"keydown",this.onKeyDown.bind(this)),n.util.addListener(this.hiddenTextarea,"keyup",this.onKeyUp.bind(this)),n.util.addListener(this.hiddenTextarea,"input",this.onInput.bind(this)),n.util.addListener(this.hiddenTextarea,"copy",this.copy.bind(this)),n.util.addListener(this.hiddenTextarea,"cut",this.copy.bind(this)),n.util.addListener(this.hiddenTextarea,"paste",this.paste.bind(this)),n.util.addListener(this.hiddenTextarea,"compositionstart",this.onCompositionStart.bind(this)),n.util.addListener(this.hiddenTextarea,"compositionupdate",this.onCompositionUpdate.bind(this)),n.util.addListener(this.hiddenTextarea,"compositionend",this.onCompositionEnd.bind(this)),!this._clickHandlerInitialized&&this.canvas&&(n.util.addListener(this.canvas.upperCanvasEl,"click",this.onClick.bind(this)),this._clickHandlerInitialized=!0)},keysMap:{9:"exitEditing",27:"exitEditing",33:"moveCursorUp",34:"moveCursorDown",35:"moveCursorRight",36:"moveCursorLeft",37:"moveCursorLeft",38:"moveCursorUp",39:"moveCursorRight",40:"moveCursorDown"},ctrlKeysMapUp:{67:"copy",88:"cut"},ctrlKeysMapDown:{65:"selectAll"},onClick:function(){this.hiddenTextarea&&this.hiddenTextarea.focus()},onKeyDown:function(t){if(this.isEditing){if(t.keyCode in this.keysMap)this[this.keysMap[t.keyCode]](t);else{if(!(t.keyCode in this.ctrlKeysMapDown)||!t.ctrlKey&&!t.metaKey)return;this[this.ctrlKeysMapDown[t.keyCode]](t)}t.stopImmediatePropagation(),t.preventDefault(),t.keyCode>=33&&t.keyCode<=40?(this.inCompositionMode=!1,this.clearContextTop(),this.renderCursorOrSelection()):this.canvas&&this.canvas.requestRenderAll()}},onKeyUp:function(t){!this.isEditing||this._copyDone||this.inCompositionMode?this._copyDone=!1:t.keyCode in this.ctrlKeysMapUp&&(t.ctrlKey||t.metaKey)&&(this[this.ctrlKeysMapUp[t.keyCode]](t),t.stopImmediatePropagation(),t.preventDefault(),this.canvas&&this.canvas.requestRenderAll())},onInput:function(t){var e=this.fromPaste;if(this.fromPaste=!1,t&&t.stopPropagation(),this.isEditing){var i,r,o,s,a,A=this._splitTextIntoLines(this.hiddenTextarea.value).graphemeText,c=this._text.length,l=A.length,u=l-c,h=this.selectionStart,f=this.selectionEnd,d=h!==f;if(""===this.hiddenTextarea.value)return this.styles={},this.updateFromTextArea(),this.fire("changed"),void(this.canvas&&(this.canvas.fire("text:changed",{target:this}),this.canvas.requestRenderAll()));var p=this.fromStringToGraphemeSelection(this.hiddenTextarea.selectionStart,this.hiddenTextarea.selectionEnd,this.hiddenTextarea.value),g=h>p.selectionStart;d?(i=this._text.slice(h,f),u+=f-h):l<c&&(i=g?this._text.slice(f+u,f):this._text.slice(h,h-u)),r=A.slice(p.selectionEnd-u,p.selectionEnd),i&&i.length&&(r.length&&(o=this.getSelectionStyles(h,h+1,!1),o=r.map((function(){return o[0]}))),d?(s=h,a=f):g?(s=f-i.length,a=f):(s=f,a=f+i.length),this.removeStyleFromTo(s,a)),r.length&&(e&&r.join("")===n.copiedText&&!n.disableStyleCopyPaste&&(o=n.copiedTextStyle),this.insertNewStyleBlock(r,h,o)),this.updateFromTextArea(),this.fire("changed"),this.canvas&&(this.canvas.fire("text:changed",{target:this}),this.canvas.requestRenderAll())}},onCompositionStart:function(){this.inCompositionMode=!0},onCompositionEnd:function(){this.inCompositionMode=!1},onCompositionUpdate:function(t){this.compositionStart=t.target.selectionStart,this.compositionEnd=t.target.selectionEnd,this.updateTextareaPosition()},copy:function(){this.selectionStart!==this.selectionEnd&&(n.copiedText=this.getSelectedText(),n.disableStyleCopyPaste?n.copiedTextStyle=null:n.copiedTextStyle=this.getSelectionStyles(this.selectionStart,this.selectionEnd,!0),this._copyDone=!0)},paste:function(){this.fromPaste=!0},_getClipboardData:function(t){return t&&t.clipboardData||n.window.clipboardData},_getWidthBeforeCursor:function(t,e){var i,n=this._getLineLeftOffset(t);return e>0&&(i=this.__charBounds[t][e-1],n+=i.left+i.width),n},getDownCursorOffset:function(t,e){var i=this._getSelectionForOffset(t,e),n=this.get2DCursorLocation(i),r=n.lineIndex;if(r===this._textLines.length-1||t.metaKey||34===t.keyCode)return this._text.length-i;var o=n.charIndex,s=this._getWidthBeforeCursor(r,o),a=this._getIndexOnLine(r+1,s),A=this._textLines[r].slice(o);return A.length+a+1+this.missingNewlineOffset(r)},_getSelectionForOffset:function(t,e){return t.shiftKey&&this.selectionStart!==this.selectionEnd&&e?this.selectionEnd:this.selectionStart},getUpCursorOffset:function(t,e){var i=this._getSelectionForOffset(t,e),n=this.get2DCursorLocation(i),r=n.lineIndex;if(0===r||t.metaKey||33===t.keyCode)return-i;var o=n.charIndex,s=this._getWidthBeforeCursor(r,o),a=this._getIndexOnLine(r-1,s),A=this._textLines[r].slice(0,o),c=this.missingNewlineOffset(r-1);return-this._textLines[r-1].length+a-A.length+(1-c)},_getIndexOnLine:function(t,e){for(var i,n,r=this._textLines[t],o=this._getLineLeftOffset(t),s=o,a=0,A=0,c=r.length;A<c;A++)if(i=this.__charBounds[t][A].width,s+=i,s>e){n=!0;var l=s-i,u=s,h=Math.abs(l-e),f=Math.abs(u-e);a=f<h?A:A-1;break}return n||(a=r.length-1),a},moveCursorDown:function(t){this.selectionStart>=this._text.length&&this.selectionEnd>=this._text.length||this._moveCursorUpOrDown("Down",t)},moveCursorUp:function(t){0===this.selectionStart&&0===this.selectionEnd||this._moveCursorUpOrDown("Up",t)},_moveCursorUpOrDown:function(t,e){var i="get"+t+"CursorOffset",n=this[i](e,"right"===this._selectionDirection);e.shiftKey?this.moveCursorWithShift(n):this.moveCursorWithoutShift(n),0!==n&&(this.setSelectionInBoundaries(),this.abortCursorAnimation(),this._currentCursorOpacity=1,this.initDelayedCursor(),this._fireSelectionChanged(),this._updateTextarea())},moveCursorWithShift:function(t){var e="left"===this._selectionDirection?this.selectionStart+t:this.selectionEnd+t;return this.setSelectionStartEndWithShift(this.selectionStart,this.selectionEnd,e),0!==t},moveCursorWithoutShift:function(t){return t<0?(this.selectionStart+=t,this.selectionEnd=this.selectionStart):(this.selectionEnd+=t,this.selectionStart=this.selectionEnd),0!==t},moveCursorLeft:function(t){0===this.selectionStart&&0===this.selectionEnd||this._moveCursorLeftOrRight("Left",t)},_move:function(t,e,i){var n;if(t.altKey)n=this["findWordBoundary"+i](this[e]);else{if(!t.metaKey&&35!==t.keyCode&&36!==t.keyCode)return this[e]+="Left"===i?-1:1,!0;n=this["findLineBoundary"+i](this[e])}if(void 0!==typeof n&&this[e]!==n)return this[e]=n,!0},_moveLeft:function(t,e){return this._move(t,e,"Left")},_moveRight:function(t,e){return this._move(t,e,"Right")},moveCursorLeftWithoutShift:function(t){var e=!0;return this._selectionDirection="left",this.selectionEnd===this.selectionStart&&0!==this.selectionStart&&(e=this._moveLeft(t,"selectionStart")),this.selectionEnd=this.selectionStart,e},moveCursorLeftWithShift:function(t){return"right"===this._selectionDirection&&this.selectionStart!==this.selectionEnd?this._moveLeft(t,"selectionEnd"):0!==this.selectionStart?(this._selectionDirection="left",this._moveLeft(t,"selectionStart")):void 0},moveCursorRight:function(t){this.selectionStart>=this._text.length&&this.selectionEnd>=this._text.length||this._moveCursorLeftOrRight("Right",t)},_moveCursorLeftOrRight:function(t,e){var i="moveCursor"+t+"With";this._currentCursorOpacity=1,e.shiftKey?i+="Shift":i+="outShift",this[i](e)&&(this.abortCursorAnimation(),this.initDelayedCursor(),this._fireSelectionChanged(),this._updateTextarea())},moveCursorRightWithShift:function(t){return"left"===this._selectionDirection&&this.selectionStart!==this.selectionEnd?this._moveRight(t,"selectionStart"):this.selectionEnd!==this._text.length?(this._selectionDirection="right",this._moveRight(t,"selectionEnd")):void 0},moveCursorRightWithoutShift:function(t){var e=!0;return this._selectionDirection="right",this.selectionStart===this.selectionEnd?(e=this._moveRight(t,"selectionStart"),this.selectionEnd=this.selectionStart):this.selectionStart=this.selectionEnd,e},removeChars:function(t,e){"undefined"===typeof e&&(e=t+1),this.removeStyleFromTo(t,e),this._text.splice(t,e-t),this.text=this._text.join(""),this.set("dirty",!0),this._shouldClearDimensionCache()&&(this.initDimensions(),this.setCoords()),this._removeExtraneousStyles()},insertChars:function(t,e,i,r){"undefined"===typeof r&&(r=i),r>i&&this.removeStyleFromTo(i,r);var o=n.util.string.graphemeSplit(t);this.insertNewStyleBlock(o,i,e),this._text=[].concat(this._text.slice(0,i),o,this._text.slice(r)),this.text=this._text.join(""),this.set("dirty",!0),this._shouldClearDimensionCache()&&(this.initDimensions(),this.setCoords()),this._removeExtraneousStyles()}}),function(){var t=n.util.toFixed,e=/  +/g;n.util.object.extend(n.Text.prototype,{_toSVG:function(){var t=this._getSVGLeftTopOffsets(),e=this._getSVGTextAndBg(t.textTop,t.textLeft);return this._wrapSVGTextAndBg(e)},toSVG:function(t){return this._createBaseSVGMarkup(this._toSVG(),{reviver:t,noStyle:!0,withShadow:!0})},_getSVGLeftTopOffsets:function(){return{textLeft:-this.width/2,textTop:-this.height/2,lineTop:this.getHeightOfLine(0)}},_wrapSVGTextAndBg:function(t){var e=!0,i=this.getSvgTextDecoration(this);return[t.textBgRects.join(""),'\t\t<text xml:space="preserve" ',this.fontFamily?'font-family="'+this.fontFamily.replace(/"/g,"'")+'" ':"",this.fontSize?'font-size="'+this.fontSize+'" ':"",this.fontStyle?'font-style="'+this.fontStyle+'" ':"",this.fontWeight?'font-weight="'+this.fontWeight+'" ':"",i?'text-decoration="'+i+'" ':"",'style="',this.getSvgStyles(e),'"',this.addPaintOrder()," >",t.textSpans.join(""),"</text>\n"]},_getSVGTextAndBg:function(t,e){var i,n=[],r=[],o=t;this._setSVGBg(r);for(var s=0,a=this._textLines.length;s<a;s++)i=this._getLineLeftOffset(s),(this.textBackgroundColor||this.styleHas("textBackgroundColor",s))&&this._setSVGTextLineBg(r,s,e+i,o),this._setSVGTextLineText(n,s,e+i,o),o+=this.getHeightOfLine(s);return{textSpans:n,textBgRects:r}},_createTextCharSpan:function(i,r,o,s){var a=i!==i.trim()||i.match(e),A=this.getSvgSpanStyles(r,a),c=A?'style="'+A+'"':"",l=r.deltaY,u="",h=n.Object.NUM_FRACTION_DIGITS;return l&&(u=' dy="'+t(l,h)+'" '),['<tspan x="',t(o,h),'" y="',t(s,h),'" ',u,c,">",n.util.string.escapeXml(i),"</tspan>"].join("")},_setSVGTextLineText:function(t,e,i,n){var r,o,s,a,A,c=this.getHeightOfLine(e),l=-1!==this.textAlign.indexOf("justify"),u="",h=0,f=this._textLines[e];n+=c*(1-this._fontSizeFraction)/this.lineHeight;for(var d=0,p=f.length-1;d<=p;d++)A=d===p||this.charSpacing,u+=f[d],s=this.__charBounds[e][d],0===h?(i+=s.kernedWidth-s.width,h+=s.width):h+=s.kernedWidth,l&&!A&&this._reSpaceAndTab.test(f[d])&&(A=!0),A||(r=r||this.getCompleteStyleDeclaration(e,d),o=this.getCompleteStyleDeclaration(e,d+1),A=this._hasStyleChangedForSvg(r,o)),A&&(a=this._getStyleDeclaration(e,d)||{},t.push(this._createTextCharSpan(u,a,i,n)),u="",r=o,i+=h,h=0)},_pushTextBgRect:function(e,i,r,o,s,a){var A=n.Object.NUM_FRACTION_DIGITS;e.push("\t\t<rect ",this._getFillAttributes(i),' x="',t(r,A),'" y="',t(o,A),'" width="',t(s,A),'" height="',t(a,A),'"></rect>\n')},_setSVGTextLineBg:function(t,e,i,n){for(var r,o,s=this._textLines[e],a=this.getHeightOfLine(e)/this.lineHeight,A=0,c=0,l=this.getValueOfPropertyAt(e,0,"textBackgroundColor"),u=0,h=s.length;u<h;u++)r=this.__charBounds[e][u],o=this.getValueOfPropertyAt(e,u,"textBackgroundColor"),o!==l?(l&&this._pushTextBgRect(t,l,i+c,n,A,a),c=r.left,A=r.width,l=o):A+=r.kernedWidth;o&&this._pushTextBgRect(t,o,i+c,n,A,a)},_getFillAttributes:function(t){var e=t&&"string"===typeof t?new n.Color(t):"";return e&&e.getSource()&&1!==e.getAlpha()?'opacity="'+e.getAlpha()+'" fill="'+e.setAlpha(1).toRgb()+'"':'fill="'+t+'"'},_getSVGLineTopOffset:function(t){for(var e=0,i=0,n=0;n<t;n++)e+=this.getHeightOfLine(n);return i=this.getHeightOfLine(n),{lineTop:e,offset:(this._fontSizeMult-this._fontSizeFraction)*i/(this.lineHeight*this._fontSizeMult)}},getSvgStyles:function(t){var e=n.Object.prototype.getSvgStyles.call(this,t);return e+" white-space: pre;"}})}(),function(t){"use strict";var e=t.fabric||(t.fabric={});e.Textbox=e.util.createClass(e.IText,e.Observable,{type:"textbox",minWidth:20,dynamicMinWidth:2,__cachedLines:null,lockScalingFlip:!0,noScaleCache:!1,_dimensionAffectingProps:e.Text.prototype._dimensionAffectingProps.concat("width"),_wordJoiners:/[ \t\r]/,splitByGrapheme:!1,initDimensions:function(){this.__skipDimension||(this.isEditing&&this.initDelayedCursor(),this.clearContextTop(),this._clearCache(),this.dynamicMinWidth=0,this._styleMap=this._generateStyleMap(this._splitText()),this.dynamicMinWidth>this.width&&this._set("width",this.dynamicMinWidth),-1!==this.textAlign.indexOf("justify")&&this.enlargeSpaces(),this.height=this.calcTextHeight(),this.saveState({propertySet:"_dimensionAffectingProps"}))},_generateStyleMap:function(t){for(var e=0,i=0,n=0,r={},o=0;o<t.graphemeLines.length;o++)"\n"===t.graphemeText[n]&&o>0?(i=0,n++,e++):!this.splitByGrapheme&&this._reSpaceAndTab.test(t.graphemeText[n])&&o>0&&(i++,n++),r[o]={line:e,offset:i},n+=t.graphemeLines[o].length,i+=t.graphemeLines[o].length;return r},styleHas:function(t,i){if(this._styleMap&&!this.isWrapping){var n=this._styleMap[i];n&&(i=n.line)}return e.Text.prototype.styleHas.call(this,t,i)},isEmptyStyles:function(t){if(!this.styles)return!0;var e,i,n=0,r=t+1,o=!1,s=this._styleMap[t],a=this._styleMap[t+1];for(var A in s&&(t=s.line,n=s.offset),a&&(r=a.line,o=r===t,e=a.offset),i="undefined"===typeof t?this.styles:{line:this.styles[t]},i)for(var c in i[A])if(c>=n&&(!o||c<e))for(var l in i[A][c])return!1;return!0},_getStyleDeclaration:function(t,e){if(this._styleMap&&!this.isWrapping){var i=this._styleMap[t];if(!i)return null;t=i.line,e=i.offset+e}return this.callSuper("_getStyleDeclaration",t,e)},_setStyleDeclaration:function(t,e,i){var n=this._styleMap[t];t=n.line,e=n.offset+e,this.styles[t][e]=i},_deleteStyleDeclaration:function(t,e){var i=this._styleMap[t];t=i.line,e=i.offset+e,delete this.styles[t][e]},_getLineStyle:function(t){var e=this._styleMap[t];return!!this.styles[e.line]},_setLineStyle:function(t){var e=this._styleMap[t];this.styles[e.line]={}},_wrapText:function(t,e){var i,n=[];for(this.isWrapping=!0,i=0;i<t.length;i++)n=n.concat(this._wrapLine(t[i],i,e));return this.isWrapping=!1,n},_measureWord:function(t,e,i){var n,r=0,o=!0;i=i||0;for(var s=0,a=t.length;s<a;s++){var A=this._getGraphemeBox(t[s],e,s+i,n,o);r+=A.kernedWidth,n=t[s]}return r},_wrapLine:function(t,i,n,r){var o=0,s=this.splitByGrapheme,a=[],A=[],c=s?e.util.string.graphemeSplit(t):t.split(this._wordJoiners),l="",u=0,h=s?"":" ",f=0,d=0,p=0,g=!0,v=this._getWidthOfCharSpacing();r=r||0;0===c.length&&c.push([]),n-=r;for(var m=0;m<c.length;m++)l=s?c[m]:e.util.string.graphemeSplit(c[m]),f=this._measureWord(l,i,u),u+=l.length,o+=d+f-v,o>n&&!g?(a.push(A),A=[],o=f,g=!0):o+=v,g||s||A.push(h),A=A.concat(l),d=s?0:this._measureWord([h],i,u),u++,g=!1,f>p&&(p=f);return m&&a.push(A),p+r>this.dynamicMinWidth&&(this.dynamicMinWidth=p-v+r),a},isEndOfWrapping:function(t){return!this._styleMap[t+1]||this._styleMap[t+1].line!==this._styleMap[t].line},missingNewlineOffset:function(t){return this.splitByGrapheme?this.isEndOfWrapping(t)?1:0:1},_splitTextIntoLines:function(t){for(var i=e.Text.prototype._splitTextIntoLines.call(this,t),n=this._wrapText(i.lines,this.width),r=new Array(n.length),o=0;o<n.length;o++)r[o]=n[o].join("");return i.lines=r,i.graphemeLines=n,i},getMinWidth:function(){return Math.max(this.minWidth,this.dynamicMinWidth)},_removeExtraneousStyles:function(){var t={};for(var e in this._styleMap)this._textLines[e]&&(t[this._styleMap[e].line]=1);for(var e in this.styles)t[e]||delete this.styles[e]},toObject:function(t){return this.callSuper("toObject",["minWidth","splitByGrapheme"].concat(t))}}),e.Textbox.fromObject=function(t,i){return e.Object._fromObject("Textbox",t,i,"text")}}(e),function(){var t=n.controlsUtils,e=t.scaleSkewCursorStyleHandler,i=t.scaleCursorStyleHandler,r=t.scalingEqually,o=t.scalingYOrSkewingX,s=t.scalingXOrSkewingY,a=t.scaleOrSkewActionName,A=n.Object.prototype.controls;if(A.ml=new n.Control({x:-.5,y:0,cursorStyleHandler:e,actionHandler:s,getActionName:a}),A.mr=new n.Control({x:.5,y:0,cursorStyleHandler:e,actionHandler:s,getActionName:a}),A.mb=new n.Control({x:0,y:.5,cursorStyleHandler:e,actionHandler:o,getActionName:a}),A.mt=new n.Control({x:0,y:-.5,cursorStyleHandler:e,actionHandler:o,getActionName:a}),A.tl=new n.Control({x:-.5,y:-.5,cursorStyleHandler:i,actionHandler:r}),A.tr=new n.Control({x:.5,y:-.5,cursorStyleHandler:i,actionHandler:r}),A.bl=new n.Control({x:-.5,y:.5,cursorStyleHandler:i,actionHandler:r}),A.br=new n.Control({x:.5,y:.5,cursorStyleHandler:i,actionHandler:r}),A.mtr=new n.Control({x:0,y:-.5,actionHandler:t.rotationWithSnapping,cursorStyleHandler:t.rotationStyleHandler,offsetY:-40,withConnection:!0,actionName:"rotate"}),n.Textbox){var c=n.Textbox.prototype.controls={};c.mtr=A.mtr,c.tr=A.tr,c.br=A.br,c.tl=A.tl,c.bl=A.bl,c.mt=A.mt,c.mb=A.mb,c.mr=new n.Control({x:.5,y:0,actionHandler:t.changeWidth,cursorStyleHandler:e,actionName:"resizing"}),c.ml=new n.Control({x:-.5,y:0,actionHandler:t.changeWidth,cursorStyleHandler:e,actionName:"resizing"})}}()}).call(this,i("b639").Buffer)},"7b0b":function(t,e,i){var n=i("1d80");t.exports=function(t){return Object(n(t))}},"7c73":function(t,e,i){var n,r=i("825a"),o=i("37e8"),s=i("7839"),a=i("d012"),A=i("1be4"),c=i("cc12"),l=i("f772"),u=">",h="<",f="prototype",d="script",p=l("IE_PROTO"),g=function(){},v=function(t){return h+d+u+t+h+"/"+d+u},m=function(t){t.write(v("")),t.close();var e=t.parentWindow.Object;return t=null,e},w=function(){var t,e=c("iframe"),i="java"+d+":";return e.style.display="none",A.appendChild(e),e.src=String(i),t=e.contentWindow.document,t.open(),t.write(v("document.F=Object")),t.close(),t.F},y=function(){try{n=document.domain&&new ActiveXObject("htmlfile")}catch(e){}y=n?m(n):w();var t=s.length;while(t--)delete y[f][s[t]];return y()};a[p]=!0,t.exports=Object.create||function(t,e){var i;return null!==t?(g[f]=r(t),i=new g,g[f]=null,i[p]=t):i=y(),void 0===e?i:o(i,e)}},"7db0":function(t,e,i){"use strict";var n=i("23e7"),r=i("b727").find,o=i("44d2"),s="find",a=!0;s in[]&&Array(1)[s]((function(){a=!1})),n({target:"Array",proto:!0,forced:a},{find:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}}),o(s)},"7dd0":function(t,e,i){"use strict";var n=i("23e7"),r=i("9ed3"),o=i("e163"),s=i("d2bb"),a=i("d44e"),A=i("9112"),c=i("6eeb"),l=i("b622"),u=i("c430"),h=i("3f8c"),f=i("ae93"),d=f.IteratorPrototype,p=f.BUGGY_SAFARI_ITERATORS,g=l("iterator"),v="keys",m="values",w="entries",y=function(){return this};t.exports=function(t,e,i,l,f,b,B){r(i,e,l);var C,E,x,_=function(t){if(t===f&&U)return U;if(!p&&t in F)return F[t];switch(t){case v:return function(){return new i(this,t)};case m:return function(){return new i(this,t)};case w:return function(){return new i(this,t)}}return function(){return new i(this)}},S=e+" Iterator",T=!1,F=t.prototype,Q=F[g]||F["@@iterator"]||f&&F[f],U=!p&&Q||_(f),O="Array"==e&&F.entries||Q;if(O&&(C=o(O.call(new t)),d!==Object.prototype&&C.next&&(u||o(C)===d||(s?s(C,d):"function"!=typeof C[g]&&A(C,g,y)),a(C,S,!0,!0),u&&(h[S]=y))),f==m&&Q&&Q.name!==m&&(T=!0,U=function(){return Q.call(this)}),u&&!B||F[g]===U||A(F,g,U),h[e]=U,f)if(E={values:_(m),keys:b?U:_(v),entries:_(w)},B)for(x in E)(p||T||!(x in F))&&c(F,x,E[x]);else n({target:e,proto:!0,forced:p||T},E);return E}},"7f75":function(t,e,i){(function(e,i){t.exports=i()})("undefined"!==typeof self&&self,(function(){return function(t){var e={};function i(n){if(e[n])return e[n].exports;var r=e[n]={i:n,l:!1,exports:{}};return t[n].call(r.exports,r,r.exports,i),r.l=!0,r.exports}return i.m=t,i.c=e,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)i.d(n,r,function(e){return t[e]}.bind(null,r));return n},i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s="fb15")}({"0ca3":function(t,e,i){"use strict";var n=i("c6aa"),r=i.n(n);r.a},7937:function(t,e,i){},"7fca":function(t,e,i){"use strict";var n=i("c10a"),r=i.n(n);r.a},8875:function(t,e,i){var n,r,o;(function(i,s){r=[],n=s,o="function"===typeof n?n.apply(e,r):n,void 0===o||(t.exports=o)})("undefined"!==typeof self&&self,(function(){function t(){if(document.currentScript)return document.currentScript;try{throw new Error}catch(u){var t,e,i,n=/.*at [^(]*\((.*):(.+):(.+)\)$/gi,r=/@([^@]*):(\d+):(\d+)\s*$/gi,o=n.exec(u.stack)||r.exec(u.stack),s=o&&o[1]||!1,a=o&&o[2]||!1,A=document.location.href.replace(document.location.hash,""),c=document.getElementsByTagName("script");s===A&&(t=document.documentElement.outerHTML,e=new RegExp("(?:[^\\n]+?\\n){0,"+(a-2)+"}[^<]*<script>([\\d\\D]*?)<\\/script>[\\d\\D]*","i"),i=t.replace(e,"$1").trim());for(var l=0;l<c.length;l++){if("interactive"===c[l].readyState)return c[l];if(c[l].src===s)return c[l];if(s===A&&c[l].innerHTML&&c[l].innerHTML.trim()===i)return c[l]}return null}}return t}))},9334:function(t,e,i){"use strict";var n=i("7937"),r=i.n(n);r.a},c10a:function(t,e,i){},c6aa:function(t,e,i){},fb15:function(t,e,i){"use strict";if(i.r(e),i.d(e,"DEFAULT_BACKGROUND_COLOR",(function(){return U})),i.d(e,"DEFAULT_BORDER_RADIUS",(function(){return O})),i.d(e,"DEFAULT_ROW_LENGTH",(function(){return H})),i.d(e,"DEFAULT_TRIGGER_CONTAINER_SPACE",(function(){return D})),i.d(e,"DEFAULT_SWATCH_SIZE",(function(){return I})),i.d(e,"DEFAULT_SHOW_BORDER",(function(){return k})),i.d(e,"extractPropertyFromPreset",(function(){return R})),"undefined"!==typeof window){var n=window.document.currentScript,r=i("8875");n=r(),"currentScript"in document||Object.defineProperty(document,"currentScript",{get:r});var o=n&&n.src.match(/(.+\/)[^/]+\.js(\?.*)?$/);o&&(i.p=o[1])}var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"vue-swatches",attrs:{tabindex:"-1"},on:{blur:function(e){return t.onBlur(e.relatedTarget)}}},[t.inline?t._e():i("div",{ref:"triggerWrapper",staticClass:"vue-swatches__trigger__wrapper",on:{click:t.togglePopover}},[t._t("trigger",[i("div",{staticClass:"vue-swatches__trigger",class:{"vue-swatches--is-empty":!t.value,"vue-swatches--is-disabled":t.disabled},style:t.triggerStyles},[i("div",{directives:[{name:"show",rawName:"v-show",value:t.isNoColor,expression:"isNoColor"}],staticClass:"vue-swatches__diagonal__wrapper vue-swatches--has-children-centered"},[i("div",{staticClass:"vue-swatches__diagonal"})])])])],2),i("transition",{attrs:{name:"vue-swatches-show-hide"}},[i("div",{directives:[{name:"show",rawName:"v-show",value:t.inline||t.isOpen,expression:"inline || isOpen"}],ref:"containerWrapper",staticClass:"vue-swatches__container",class:{"vue-swatches--inline":t.inline},style:t.containerStyles},[i("div",{staticClass:"vue-swatches__wrapper",style:t.wrapperStyles},[t.isNested?t._l(t.computedSwatches,(function(e,n){return i("div",{key:n,staticClass:"vue-swatches__row"},t._l(e,(function(r,o){return i("v-swatch",{key:o,attrs:{"is-last":n===t.computedSwatches.length-1&&o===e.length,"row-length-setted":null!==t.rowLength||null!==t.presetRowLength,"border-radius":t.computedBorderRadius,disabled:t.getSwatchDisabled(r),inline:t.inline,selected:t.checkEquality(t.getSwatchColor(r),t.value),"swatch-size":t.computedSwatchSize,"spacing-size":t.computedSpacingSize,"show-border":t.getSwatchShowBorder(r),"show-checkbox":t.showCheckbox,"show-labels":t.showLabels,"swatch-color":t.getSwatchColor(r),"swatch-label":t.getSwatchLabel(r),"swatch-alt":t.getSwatchAlt(r),"swatch-style":t.swatchStyle},on:{blur:function(e){return t.onBlur(e)},click:function(e){return t.updateSwatch(r)}},nativeOn:{click:function(e){return t.updateSwatch(r)}}})})),1)})):t._l(t.computedSwatches,(function(e,n){return i("v-swatch",{key:n,attrs:{"is-last":n===t.computedSwatches.length-1,"row-length-setted":null!==t.rowLength||null!==t.presetRowLength,"border-radius":t.computedBorderRadius,disabled:t.getSwatchDisabled(e),inline:t.inline,selected:t.checkEquality(t.getSwatchColor(e),t.value),"swatch-size":t.computedSwatchSize,"spacing-size":t.computedSpacingSize,"show-border":t.getSwatchShowBorder(e),"show-checkbox":t.showCheckbox,"show-labels":t.showLabels,"swatch-color":t.getSwatchColor(e),"swatch-label":t.getSwatchLabel(e),"swatch-alt":t.getSwatchAlt(e),"swatch-style":t.swatchStyle},on:{blur:function(e){return t.onBlur(e)},click:function(i){return t.updateSwatch(e)}},nativeOn:{click:function(i){return t.updateSwatch(e)}}})}))],2),t.showFallback?i("div",{staticClass:"vue-swatches__fallback__wrapper",style:t.computedFallbackWrapperStyles},[i("span",{staticClass:"vue-swatches__fallback__input--wrapper"},[i("input",{ref:"fallbackInput",staticClass:"vue-swatches__fallback__input",class:t.fallbackInputClass,attrs:{type:t.fallbackInputType},domProps:{value:t.internalValue},on:{input:function(e){return t.updateSwatch(e.target.value,{fromFallbackInput:!0})}}})]),t.showFallbackOk?i("button",{staticClass:"vue-swatches__fallback__button",class:t.fallbackOkClass,on:{click:function(e){return e.preventDefault(),t.onFallbackButtonClick(e)}}},[t._v(" "+t._s(t.fallbackOkText)+" ")]):t._e()]):t._e()])])],1)},a=[],A={colors:["#1FBC9C","#1CA085","#2ECC70","#27AF60","#3398DB","#2980B9","#A463BF","#8E43AD","#3D556E","#222F3D","#F2C511","#F39C19","#E84B3C","#C0382B","#DDE6E8","#BDC3C8"],rowLength:4},c={colors:["#CC0001","#E36101","#FFCC00","#009900","#0066CB","#000000","#FFFFFF"],showBorder:!0},l={colors:[["#000000","#434343","#666666","#999999","#b7b7b7","#cccccc","#d9d9d9","#efefef","#f3f3f3","#ffffff"],["#980000","#ff0000","#ff9900","#ffff00","#00ff00","#00ffff","#4a86e8","#0000ff","#9900ff","#ff00ff"],["#e6b8af","#f4cccc","#fce5cd","#fff2cc","#d9ead3","#d0e0e3","#c9daf8","#cfe2f3","#d9d2e9","#ead1dc"],["#dd7e6b","#ea9999","#f9cb9c","#ffe599","#b6d7a8","#a2c4c9","#a4c2f4","#9fc5e8","#b4a7d6","#d5a6bd"],["#cc4125","#e06666","#f6b26b","#ffd966","#93c47d","#76a5af","#6d9eeb","#6fa8dc","#8e7cc3","#c27ba0"],["#a61c00","#cc0000","#e69138","#f1c232","#6aa84f","#45818e","#3c78d8","#3d85c6","#674ea7","#a64d79"],["#85200c","#990000","#b45f06","#bf9000","#38761d","#134f5c","#1155cc","#0b5394","#351c75","#741b47"],["#5b0f00","#660000","#783f04","#7f6000","#274e13","#0c343d","#1c4587","#073763","#20124d","#4c1130"]],borderRadius:"0",rowLength:10,swatchSize:24,spacingSize:0},u=function(){var t=this,e=this,i=e.$createElement,n=e._self._c||i;return n("div",{staticClass:"vue-swatches__swatch",class:{"vue-swatches__swatch--border":e.showBorder,"vue-swatches__swatch--selected":e.selected,"vue-swatches__swatch--is-disabled":e.disabled},style:e.swatchStyles,attrs:{"aria-label":e.swatchAlt,role:"button",tabindex:"0"},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.$emit("click",e.swatchColor)},blur:function(e){return t.$emit("blur",e.relatedTarget)}}},[""===e.swatchColor?n("div",{staticClass:"vue-swatches__diagonal__wrapper vue-swatches--has-children-centered"},[n("div",{staticClass:"vue-swatches__diagonal"})]):e._e(),n("v-check",{directives:[{name:"show",rawName:"v-show",value:e.showCheckbox&&e.selected,expression:"showCheckbox && selected"}]}),e.showLabels?n("div",{staticClass:"vue-swatches__swatch__label",style:e.labelStyles},[e._v(" "+e._s(e.swatchLabel)+" ")]):e._e()],1)},h=[],f=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"vue-swatches__check__wrapper vue-swatches--has-children-centered"},[i("div",{staticClass:"vue-swatches__check__circle vue-swatches--has-children-centered"},[i("svg",{staticClass:"check",attrs:{version:"1.1",role:"presentation",width:"12",height:"12",viewBox:"0 0 1792 1792"}},[i("path",{staticClass:"vue-swatches__check__path",attrs:{d:"M1671 566q0 40-28 68l-724 724-136 136q-28 28-68 28t-68-28l-136-136-362-362q-28-28-28-68t28-68l136-136q28-28 68-28t68 28l294 295 656-657q28-28 68-28t68 28l136 136q28 28 28 68z"}})])])])},d=[],p={name:"v-check",data:function(){return{}}},g=p;function v(t,e,i,n,r,o,s,a){var A,c="function"===typeof t?t.options:t;if(e&&(c.render=e,c.staticRenderFns=i,c._compiled=!0),n&&(c.functional=!0),o&&(c._scopeId="data-v-"+o),s?(A=function(t){t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,t||"undefined"===typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),r&&r.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(s)},c._ssrRegister=A):r&&(A=a?function(){r.call(this,this.$root.$options.shadowRoot)}:r),A)if(c.functional){c._injectStyles=A;var l=c.render;c.render=function(t,e){return A.call(e),l(t,e)}}else{var u=c.beforeCreate;c.beforeCreate=u?[].concat(u,A):[A]}return{exports:t,options:c}}i("7fca");var m=v(g,f,d,!1,null,null,null),w=m.exports;function y(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,n)}return i}function b(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?y(Object(i),!0).forEach((function(e){B(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):y(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}function B(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}var C={name:"v-swatch",components:{VCheck:w},props:{borderRadius:{type:String},isLast:{type:Boolean,default:!1},rowLengthSetted:{type:Boolean,default:!1},disabled:{type:Boolean},inline:{type:Boolean},selected:{type:Boolean,default:!1},showCheckbox:{type:Boolean},showBorder:{type:Boolean},showLabels:{type:Boolean},spacingSize:{type:Number},swatchColor:{type:String,default:""},swatchLabel:{type:String},swatchAlt:{type:String},swatchSize:{type:Number},swatchStyle:{type:Object}},data:function(){return{}},computed:{computedLabelStyle:function(){var t=8+3*Math.floor(this.spacingSize/5);return{bottom:"-".concat(t,"px")}},computedSwatchStyle:function(){var t={width:"".concat(this.swatchSize,"px"),height:"".concat(this.swatchSize,"px"),borderRadius:this.borderRadius,backgroundColor:""!==this.swatchColor?this.swatchColor:"#FFFFFF",cursor:this.cursorStyle};return this.inline&&this.isLast||(t.marginRight="".concat(this.spacingSize,"px")),this.inline&&!this.rowLengthSetted?t:b({},t,{marginBottom:"".concat(this.spacingSize,"px")})},cursorStyle:function(){return this.disabled?"not-allowed":"pointer"},labelStyles:function(){return[this.computedLabelStyle]},swatchStyles:function(){return[this.computedSwatchStyle,this.swatchStyle]}}},E=C,x=(i("0ca3"),v(E,u,h,!1,null,null,null)),_=x.exports;function S(t){return S="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},S(t)}function T(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,n)}return i}function F(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?T(Object(i),!0).forEach((function(e){Q(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):T(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}function Q(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}var U="#ffffff",O="10px",H=4,D=5,I=42,k=!1,R=function(t,e,i){return"string"!==typeof t?null:"text-basic"===t?void 0===c[e]?null:c[e]:"text-advanced"===t?void 0===l[e]?null:l[e]:"basic"===t||i?void 0===A[e]?null:A[e]:null},M={name:"v-swatches",components:{VSwatch:_},props:{backgroundColor:{type:String,default:U},closeOnSelect:{type:Boolean,default:!0},swatches:{type:[Array,String],default:function(){return"basic"}},disabled:{type:Boolean,default:!1},fallbackInputClass:{type:[Array,Object,String],default:null},fallbackInputType:{type:String,default:function(){return"text"},validator:function(t){return-1!==["text","color"].indexOf(t)}},fallbackOkClass:{type:[Array,Object,String],default:null},fallbackOkText:{type:String,default:"Ok"},inline:{type:Boolean,default:!1},shapes:{type:String,default:"squares"},popoverX:{type:String,default:"right"},popoverY:{type:String,default:"bottom"},rowLength:{type:[Number,String],default:null},showBorder:{type:Boolean,default:null},showFallback:{type:Boolean,default:!1},showCheckbox:{type:Boolean,default:!0},showLabels:{type:Boolean,default:!1},spacingSize:{type:Number,default:null},swatchSize:{type:[Number,String],default:null},swatchStyle:{type:[Object,Array],default:function(){}},triggerStyle:{type:[Object,Array],default:function(){}},wrapperStyle:{type:[Object,Array],default:function(){}},value:{type:String,default:null}},data:function(){return{alwaysOnScreenStyle:{},componentMounted:!1,internalValue:this.value,internalIsOpen:!1}},computed:{isNested:function(){return!!(this.computedSwatches&&this.computedSwatches.length&&this.computedSwatches[0]instanceof Array)},isOpen:function(){return!this.inline&&this.internalIsOpen},isNoColor:function(){return this.checkEquality("",this.value)},presetBorderRadius:function(){return R(this.swatches,"borderRadius")},presetRowLength:function(){return R(this.swatches,"rowLength")},presetShowBorder:function(){return R(this.swatches,"showBorder")},presetSwatchSize:function(){return R(this.swatches,"swatchSize")},presetSpacingSize:function(){return R(this.swatches,"spacingSize")},computedSwatches:function(){return this.swatches instanceof Array?this.swatches:"string"===typeof this.swatches?R(this.swatches,"colors",!0):[]},computedBorderRadius:function(){return null!==this.presetBorderRadius?this.presetBorderRadius:this.borderRadius},computedRowLength:function(){return null!==this.rowLength?Number(this.rowLength):null!==this.presetRowLength?this.presetRowLength:this.computedSwatches.length<H&&!this.isNested?this.computedSwatches.length:H},computedSwatchSize:function(){return null!==this.swatchSize?Number(this.swatchSize):null!==this.presetSwatchSize?this.presetSwatchSize:I},computedSpacingSize:function(){return null!==this.spacingSize?this.spacingSize:null!==this.presetSpacingSize?this.presetSpacingSize:Math.round(.25*this.computedSwatchSize)},computedShowBorder:function(){return null!==this.showBorder?this.showBorder:null!==this.presetShowBorder?this.presetShowBorder:k},showFallbackOk:function(){return!this.inline},borderRadius:function(){return"squares"===this.shapes?"".concat(Math.round(.25*this.computedSwatchSize),"px"):"circles"===this.shapes?"50%":""},wrapperWidth:function(){return this.computedRowLength*(this.computedSwatchSize+this.computedSpacingSize)},computedtriggerStyle:function(){return{width:"42px",height:"42px",backgroundColor:this.value?this.value:"#ffffff",borderRadius:"circles"===this.shapes?"50%":O}},triggerStyles:function(){return[this.computedtriggerStyle,this.triggerStyle]},containerStyles:function(){var t=[{backgroundColor:this.backgroundColor},this.alwaysOnScreenStyle];return this.inline?t:[].concat(t,[{padding:"5px",marginBottom:"5px"}])},computedWrapperStyle:function(){return this.inline?{}:{paddingTop:"".concat(this.computedSpacingSize,"px"),paddingLeft:"".concat(this.computedSpacingSize,"px"),width:"".concat(this.wrapperWidth,"px")}},wrapperStyles:function(){return[this.computedWrapperStyle,this.wrapperStyle]},computedFallbackWrapperStyle:function(){var t={marginLeft:"".concat(this.computedSpacingSize,"px"),paddingBottom:"".concat(this.computedSpacingSize,"px")};return this.inline?t:F({},t,{width:"".concat(this.wrapperWidth-this.computedSpacingSize,"px")})},computedFallbackWrapperStyles:function(){return[this.computedFallbackWrapperStyle]}},watch:{value:function(t){this.internalValue=t}},mounted:function(){this.componentMounted=!0},methods:{checkEquality:function(t,e){return!(!t&&""!==t||!e&&""!==e)&&t.toUpperCase()===e.toUpperCase()},hidePopover:function(){this.internalIsOpen=!1,this.$el.blur(),this.$emit("close",this.internalValue)},getAlwaysOnScreenStyle:function(){var t={},e=this.$refs.triggerWrapper,i=this.$refs.containerWrapper;if(!this.componentMounted||this.inline||!e||!window||!document)return t;var n=e.getBoundingClientRect(),r=5,o=(document.documentElement.clientWidth||window.innerWidth)-5,s=5,a=(document.documentElement.clientHeight||window.innerHeight)-5;i.style.visibility="hidden",i.style.display="block";var A=i.getBoundingClientRect();return i.style.display="none",i.style.visibility="visible","top"===this.popoverY?n.top-A.height<s?(t.top="".concat(n.height+D,"px"),t.bottom="auto"):(t.bottom="".concat(n.height+D,"px"),t.top="auto"):"bottom"===this.popoverY&&(n.bottom+A.height>a?(t.bottom="".concat(n.height+D,"px"),t.top="auto"):(t.top="".concat(n.height+D,"px"),t.bottom="auto")),"left"===this.popoverX?n.right-A.width<r?(t.left=0,t.right="auto"):(t.right=0,t.left="auto"):"right"===this.popoverX&&(n.left+A.width>o?(t.right=0,t.left="auto"):(t.left=0,t.right="auto")),t},getSwatchShowBorder:function(t){return"string"===typeof t?this.computedShowBorder:"object"===S(t)?void 0!==t.showBorder?t.showBorder:this.computedShowBorder:void 0},getSwatchColor:function(t){return"string"===typeof t?t:"object"===S(t)?t.color:void 0},getSwatchDisabled:function(t){return"string"===typeof t?this.disabled:"object"===S(t)?void 0!==t.disabled?t.disabled:this.disabled:void 0},getSwatchLabel:function(t){return"string"===typeof t?t:"object"===S(t)?t.label||t.color:void 0},getSwatchAlt:function(t){return"string"===typeof t?t:"object"===S(t)?t.alt||this.getSwatchLabel(t):void 0},onBlur:function(t){this.isOpen&&(null!==t&&this.$el.contains(t)||(this.internalIsOpen=!1,this.$emit("close",this.internalValue)))},onFallbackButtonClick:function(){this.hidePopover()},showPopover:function(){this.isOpen||this.inline||this.disabled||(this.alwaysOnScreenStyle=this.getAlwaysOnScreenStyle(),this.internalIsOpen=!0,this.$el.focus(),this.$emit("open"))},togglePopover:function(){this.isOpen?this.hidePopover():this.showPopover()},updateSwatch:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=e.fromFallbackInput;if(!this.getSwatchDisabled(t)){var n=this.getSwatchColor(t);this.internalValue=n,this.$emit("input",n),!this.closeOnSelect||this.inline||i||this.hidePopover()}}}},P=M,N=(i("9334"),v(P,s,a,!1,null,null,null)),L=N.exports;e["default"]=L}})["default"]}))},"7f9a":function(t,e,i){var n=i("da84"),r=i("8925"),o=n.WeakMap;t.exports="function"===typeof o&&/native code/.test(r(o))},"806a":function(t,e,i){var n=i("6f17"),r=Math.min;t.exports=function(t){return t>0?r(n(t),9007199254740991):0}},"80ae":function(t,e,i){"use strict";var n=i("b235"),r=i("227f");n({target:"RegExp",proto:!0,forced:/./.exec!==r},{exec:r})},"80fa":function(t,e,i){var n=i("7083"),r=i("9b43");(t.exports=function(t,e){return r[t]||(r[t]=void 0!==e?e:{})})("versions",[]).push({version:"3.11.1",mode:n?"pure":"global",copyright:" 2021 Denis Pushkarev (zloirock.ru)"})},8180:function(t,e,i){var n,r,o,s=i("8646"),a=i("f2f2"),A=i("f0e4"),c=i("d348"),l=i("657c"),u=i("9b43"),h=i("932f"),f=i("b064"),d="Object already initialized",p=a.WeakMap,g=function(t){return o(t)?r(t):n(t,{})},v=function(t){return function(e){var i;if(!A(e)||(i=r(e)).type!==t)throw TypeError("Incompatible receiver, "+t+" required");return i}};if(s){var m=u.state||(u.state=new p),w=m.get,y=m.has,b=m.set;n=function(t,e){if(y.call(m,t))throw new TypeError(d);return e.facade=t,b.call(m,t,e),e},r=function(t){return w.call(m,t)||{}},o=function(t){return y.call(m,t)}}else{var B=h("state");f[B]=!0,n=function(t,e){if(l(t,B))throw new TypeError(d);return e.facade=t,c(t,B,e),e},r=function(t){return l(t,B)?t[B]:{}},o=function(t){return l(t,B)}}t.exports={set:n,get:r,has:o,enforce:g,getterFor:v}},"81d5":function(t,e,i){"use strict";var n=i("7b0b"),r=i("23cb"),o=i("50c4");t.exports=function(t){var e=n(this),i=o(e.length),s=arguments.length,a=r(s>1?arguments[1]:void 0,i),A=s>2?arguments[2]:void 0,c=void 0===A?i:r(A,i);while(c>a)e[a++]=t;return e}},"820c":function(t,e,i){var n=i("b5a5"),r=n("toStringTag"),o={};o[r]="z",t.exports="[object z]"===String(o)},"825a":function(t,e,i){var n=i("861d");t.exports=function(t){if(!n(t))throw TypeError(String(t)+" is not an object");return t}},"83ab":function(t,e,i){var n=i("d039");t.exports=!n((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},8418:function(t,e,i){"use strict";var n=i("c04e"),r=i("9bf2"),o=i("5c6c");t.exports=function(t,e,i){var s=n(e);s in t?r.f(t,s,o(0,i)):t[s]=i}},"861d":function(t,e){t.exports=function(t){return"object"===typeof t?null!==t:"function"===typeof t}},8646:function(t,e,i){var n=i("f2f2"),r=i("9a49"),o=n.WeakMap;t.exports="function"===typeof o&&/native code/.test(r(o))},8814:function(t,e){t.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},8875:function(t,e,i){var n,r,o;(function(i,s){r=[],n=s,o="function"===typeof n?n.apply(e,r):n,void 0===o||(t.exports=o)})("undefined"!==typeof self&&self,(function(){function t(){var e=Object.getOwnPropertyDescriptor(document,"currentScript");if(!e&&"currentScript"in document&&document.currentScript)return document.currentScript;if(e&&e.get!==t&&document.currentScript)return document.currentScript;try{throw new Error}catch(f){var i,n,r,o=/.*at [^(]*\((.*):(.+):(.+)\)$/gi,s=/@([^@]*):(\d+):(\d+)\s*$/gi,a=o.exec(f.stack)||s.exec(f.stack),A=a&&a[1]||!1,c=a&&a[2]||!1,l=document.location.href.replace(document.location.hash,""),u=document.getElementsByTagName("script");A===l&&(i=document.documentElement.outerHTML,n=new RegExp("(?:[^\\n]+?\\n){0,"+(c-2)+"}[^<]*<script>([\\d\\D]*?)<\\/script>[\\d\\D]*","i"),r=i.replace(n,"$1").trim());for(var h=0;h<u.length;h++){if("interactive"===u[h].readyState)return u[h];if(u[h].src===A)return u[h];if(A===l&&u[h].innerHTML&&u[h].innerHTML.trim()===r)return u[h]}return null}}return t}))},8925:function(t,e,i){var n=i("c6cd"),r=Function.toString;"function"!=typeof n.inspectSource&&(n.inspectSource=function(t){return r.call(t)}),t.exports=n.inspectSource},"8aa5":function(t,e,i){"use strict";var n=i("6547").charAt;t.exports=function(t,e,i){return e+(i?n(t,e).length:1)}},"8bbf":function(e,i){e.exports=t},"8d66":function(t,e){t.exports="\t\n\v\f\r \u2028\u2029\ufeff"},"8dcb":function(t,e,i){var n=i("2b9c"),r=i("b5a5"),o=i("a3a6"),s=r("species");t.exports=function(t){return o>=51||!n((function(){var e=[],i=e.constructor={};return i[s]=function(){return{foo:1}},1!==e[t](Boolean).foo}))}},"8ec2":function(t,e,i){var n=i("6540"),r=i("a46c"),o=i("d5c2"),s=i("59d3");t.exports=n("Reflect","ownKeys")||function(t){var e=r.f(s(t)),i=o.f;return i?e.concat(i(t)):e}},"908c":function(t,e,i){var n=i("6540");t.exports=n("navigator","userAgent")||""},"90e3":function(t,e){var i=0,n=Math.random();t.exports=function(t){return"Symbol("+String(void 0===t?"":t)+")_"+(++i+n).toString(36)}},9112:function(t,e,i){var n=i("83ab"),r=i("9bf2"),o=i("5c6c");t.exports=n?function(t,e,i){return r.f(t,e,o(1,i))}:function(t,e,i){return t[e]=i,t}},9152:function(t,e){
/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */
e.read=function(t,e,i,n,r){var o,s,a=8*r-n-1,A=(1<<a)-1,c=A>>1,l=-7,u=i?r-1:0,h=i?-1:1,f=t[e+u];for(u+=h,o=f&(1<<-l)-1,f>>=-l,l+=a;l>0;o=256*o+t[e+u],u+=h,l-=8);for(s=o&(1<<-l)-1,o>>=-l,l+=n;l>0;s=256*s+t[e+u],u+=h,l-=8);if(0===o)o=1-c;else{if(o===A)return s?NaN:1/0*(f?-1:1);s+=Math.pow(2,n),o-=c}return(f?-1:1)*s*Math.pow(2,o-n)},e.write=function(t,e,i,n,r,o){var s,a,A,c=8*o-r-1,l=(1<<c)-1,u=l>>1,h=23===r?Math.pow(2,-24)-Math.pow(2,-77):0,f=n?0:o-1,d=n?1:-1,p=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(a=isNaN(e)?1:0,s=l):(s=Math.floor(Math.log(e)/Math.LN2),e*(A=Math.pow(2,-s))<1&&(s--,A*=2),e+=s+u>=1?h/A:h*Math.pow(2,1-u),e*A>=2&&(s++,A/=2),s+u>=l?(a=0,s=l):s+u>=1?(a=(e*A-1)*Math.pow(2,r),s+=u):(a=e*Math.pow(2,u-1)*Math.pow(2,r),s=0));r>=8;t[i+f]=255&a,f+=d,a/=256,r-=8);for(s=s<<r|a,c+=r;c>0;t[i+f]=255&s,f+=d,s/=256,c-=8);t[i+f-d]|=128*p}},9263:function(t,e,i){"use strict";var n=i("ad6d"),r=i("9f7f"),o=i("5692"),s=RegExp.prototype.exec,a=o("native-string-replace",String.prototype.replace),A=s,c=function(){var t=/a/,e=/b*/g;return s.call(t,"a"),s.call(e,"a"),0!==t.lastIndex||0!==e.lastIndex}(),l=r.UNSUPPORTED_Y||r.BROKEN_CARET,u=void 0!==/()??/.exec("")[1],h=c||u||l;h&&(A=function(t){var e,i,r,o,A=this,h=l&&A.sticky,f=n.call(A),d=A.source,p=0,g=t;return h&&(f=f.replace("y",""),-1===f.indexOf("g")&&(f+="g"),g=String(t).slice(A.lastIndex),A.lastIndex>0&&(!A.multiline||A.multiline&&"\n"!==t[A.lastIndex-1])&&(d="(?: "+d+")",g=" "+g,p++),i=new RegExp("^(?:"+d+")",f)),u&&(i=new RegExp("^"+d+"$(?!\\s)",f)),c&&(e=A.lastIndex),r=s.call(h?i:A,g),h?r?(r.input=r.input.slice(p),r[0]=r[0].slice(p),r.index=A.lastIndex,A.lastIndex+=r[0].length):A.lastIndex=0:c&&r&&(A.lastIndex=A.global?r.index+r[0].length:e),u&&r&&r.length>1&&a.call(r[0],i,(function(){for(o=1;o<arguments.length-2;o++)void 0===arguments[o]&&(r[o]=void 0)})),r}),t.exports=A},"932f":function(t,e,i){var n=i("80fa"),r=i("9536"),o=n("keys");t.exports=function(t){return o[t]||(o[t]=r(t))}},"94ca":function(t,e,i){var n=i("d039"),r=/#|\.prototype\./,o=function(t,e){var i=a[s(t)];return i==c||i!=A&&("function"==typeof e?n(e):!!e)},s=o.normalize=function(t){return String(t).replace(r,".").toLowerCase()},a=o.data={},A=o.NATIVE="N",c=o.POLYFILL="P";t.exports=o},9536:function(t,e){var i=0,n=Math.random();t.exports=function(t){return"Symbol("+String(void 0===t?"":t)+")_"+(++i+n).toString(36)}},"95bf":function(t,e,i){var n=i("f0e4"),r=i("3a40"),o=i("b5a5"),s=o("species");t.exports=function(t,e){var i;return r(t)&&(i=t.constructor,"function"!=typeof i||i!==Array&&!r(i.prototype)?n(i)&&(i=i[s],null===i&&(i=void 0)):i=void 0),new(void 0===i?Array:i)(0===e?0:e)}},"96cf":function(t,e,i){var n=function(t){"use strict";var e,i=Object.prototype,n=i.hasOwnProperty,r="function"===typeof Symbol?Symbol:{},o=r.iterator||"@@iterator",s=r.asyncIterator||"@@asyncIterator",a=r.toStringTag||"@@toStringTag";function A(t,e,i){return Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{A({},"")}catch(O){A=function(t,e,i){return t[e]=i}}function c(t,e,i,n){var r=e&&e.prototype instanceof g?e:g,o=Object.create(r.prototype),s=new F(n||[]);return o._invoke=x(t,i,s),o}function l(t,e,i){try{return{type:"normal",arg:t.call(e,i)}}catch(O){return{type:"throw",arg:O}}}t.wrap=c;var u="suspendedStart",h="suspendedYield",f="executing",d="completed",p={};function g(){}function v(){}function m(){}var w={};w[o]=function(){return this};var y=Object.getPrototypeOf,b=y&&y(y(Q([])));b&&b!==i&&n.call(b,o)&&(w=b);var B=m.prototype=g.prototype=Object.create(w);function C(t){["next","throw","return"].forEach((function(e){A(t,e,(function(t){return this._invoke(e,t)}))}))}function E(t,e){function i(r,o,s,a){var A=l(t[r],t,o);if("throw"!==A.type){var c=A.arg,u=c.value;return u&&"object"===typeof u&&n.call(u,"__await")?e.resolve(u.__await).then((function(t){i("next",t,s,a)}),(function(t){i("throw",t,s,a)})):e.resolve(u).then((function(t){c.value=t,s(c)}),(function(t){return i("throw",t,s,a)}))}a(A.arg)}var r;function o(t,n){function o(){return new e((function(e,r){i(t,n,e,r)}))}return r=r?r.then(o,o):o()}this._invoke=o}function x(t,e,i){var n=u;return function(r,o){if(n===f)throw new Error("Generator is already running");if(n===d){if("throw"===r)throw o;return U()}i.method=r,i.arg=o;while(1){var s=i.delegate;if(s){var a=_(s,i);if(a){if(a===p)continue;return a}}if("next"===i.method)i.sent=i._sent=i.arg;else if("throw"===i.method){if(n===u)throw n=d,i.arg;i.dispatchException(i.arg)}else"return"===i.method&&i.abrupt("return",i.arg);n=f;var A=l(t,e,i);if("normal"===A.type){if(n=i.done?d:h,A.arg===p)continue;return{value:A.arg,done:i.done}}"throw"===A.type&&(n=d,i.method="throw",i.arg=A.arg)}}}function _(t,i){var n=t.iterator[i.method];if(n===e){if(i.delegate=null,"throw"===i.method){if(t.iterator["return"]&&(i.method="return",i.arg=e,_(t,i),"throw"===i.method))return p;i.method="throw",i.arg=new TypeError("The iterator does not provide a 'throw' method")}return p}var r=l(n,t.iterator,i.arg);if("throw"===r.type)return i.method="throw",i.arg=r.arg,i.delegate=null,p;var o=r.arg;return o?o.done?(i[t.resultName]=o.value,i.next=t.nextLoc,"return"!==i.method&&(i.method="next",i.arg=e),i.delegate=null,p):o:(i.method="throw",i.arg=new TypeError("iterator result is not an object"),i.delegate=null,p)}function S(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function T(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function F(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(S,this),this.reset(!0)}function Q(t){if(t){var i=t[o];if(i)return i.call(t);if("function"===typeof t.next)return t;if(!isNaN(t.length)){var r=-1,s=function i(){while(++r<t.length)if(n.call(t,r))return i.value=t[r],i.done=!1,i;return i.value=e,i.done=!0,i};return s.next=s}}return{next:U}}function U(){return{value:e,done:!0}}return v.prototype=B.constructor=m,m.constructor=v,v.displayName=A(m,a,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"===typeof t&&t.constructor;return!!e&&(e===v||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,m):(t.__proto__=m,A(t,a,"GeneratorFunction")),t.prototype=Object.create(B),t},t.awrap=function(t){return{__await:t}},C(E.prototype),E.prototype[s]=function(){return this},t.AsyncIterator=E,t.async=function(e,i,n,r,o){void 0===o&&(o=Promise);var s=new E(c(e,i,n,r),o);return t.isGeneratorFunction(i)?s:s.next().then((function(t){return t.done?t.value:s.next()}))},C(B),A(B,a,"Generator"),B[o]=function(){return this},B.toString=function(){return"[object Generator]"},t.keys=function(t){var e=[];for(var i in t)e.push(i);return e.reverse(),function i(){while(e.length){var n=e.pop();if(n in t)return i.value=n,i.done=!1,i}return i.done=!0,i}},t.values=Q,F.prototype={constructor:F,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(T),!t)for(var i in this)"t"===i.charAt(0)&&n.call(this,i)&&!isNaN(+i.slice(1))&&(this[i]=e)},stop:function(){this.done=!0;var t=this.tryEntries[0],e=t.completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var i=this;function r(n,r){return a.type="throw",a.arg=t,i.next=n,r&&(i.method="next",i.arg=e),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var s=this.tryEntries[o],a=s.completion;if("root"===s.tryLoc)return r("end");if(s.tryLoc<=this.prev){var A=n.call(s,"catchLoc"),c=n.call(s,"finallyLoc");if(A&&c){if(this.prev<s.catchLoc)return r(s.catchLoc,!0);if(this.prev<s.finallyLoc)return r(s.finallyLoc)}else if(A){if(this.prev<s.catchLoc)return r(s.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<s.finallyLoc)return r(s.finallyLoc)}}}},abrupt:function(t,e){for(var i=this.tryEntries.length-1;i>=0;--i){var r=this.tryEntries[i];if(r.tryLoc<=this.prev&&n.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var o=r;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var s=o?o.completion:{};return s.type=t,s.arg=e,o?(this.method="next",this.next=o.finallyLoc,p):this.complete(s)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),p},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var i=this.tryEntries[e];if(i.finallyLoc===t)return this.complete(i.completion,i.afterLoc),T(i),p}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var i=this.tryEntries[e];if(i.tryLoc===t){var n=i.completion;if("throw"===n.type){var r=n.arg;T(i)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(t,i,n){return this.delegate={iterator:Q(t),resultName:i,nextLoc:n},"next"===this.method&&(this.arg=e),p}},t}(t.exports);try{regeneratorRuntime=n}catch(r){Function("r","regeneratorRuntime = r")(n)}},"99af":function(t,e,i){"use strict";var n=i("23e7"),r=i("d039"),o=i("e8b5"),s=i("861d"),a=i("7b0b"),A=i("50c4"),c=i("8418"),l=i("65f0"),u=i("1dde"),h=i("b622"),f=i("2d00"),d=h("isConcatSpreadable"),p=9007199254740991,g="Maximum allowed index exceeded",v=f>=51||!r((function(){var t=[];return t[d]=!1,t.concat()[0]!==t})),m=u("concat"),w=function(t){if(!s(t))return!1;var e=t[d];return void 0!==e?!!e:o(t)},y=!v||!m;n({target:"Array",proto:!0,forced:y},{concat:function(t){var e,i,n,r,o,s=a(this),u=l(s,0),h=0;for(e=-1,n=arguments.length;e<n;e++)if(o=-1===e?s:arguments[e],w(o)){if(r=A(o.length),h+r>p)throw TypeError(g);for(i=0;i<r;i++,h++)i in o&&c(u,h,o[i])}else{if(h>=p)throw TypeError(g);c(u,h++,o)}return u.length=h,u}})},"99b3":function(t,e,i){var n=i("f0e4");t.exports=function(t){if(!n(t)&&null!==t)throw TypeError("Can't set "+String(t)+" as a prototype");return t}},"9a49":function(t,e,i){var n=i("9b43"),r=Function.toString;"function"!=typeof n.inspectSource&&(n.inspectSource=function(t){return r.call(t)}),t.exports=n.inspectSource},"9aa1":function(t,e,i){"use strict";var n={}.propertyIsEnumerable,r=Object.getOwnPropertyDescriptor,o=r&&!n.call({1:2},1);e.f=o?function(t){var e=r(this,t);return!!e&&e.enumerable}:n},"9b43":function(t,e,i){var n=i("f2f2"),r=i("e568"),o="__core-js_shared__",s=n[o]||r(o,{});t.exports=s},"9bdd":function(t,e,i){var n=i("825a"),r=i("2a62");t.exports=function(t,e,i,o){try{return o?e(n(i)[0],i[1]):e(i)}catch(s){throw r(t),s}}},"9bf2":function(t,e,i){var n=i("83ab"),r=i("0cfb"),o=i("825a"),s=i("c04e"),a=Object.defineProperty;e.f=n?a:function(t,e,i){if(o(t),e=s(e,!0),o(i),r)try{return a(t,e,i)}catch(n){}if("get"in i||"set"in i)throw TypeError("Accessors not supported");return"value"in i&&(t[e]=i.value),t}},"9ed3":function(t,e,i){"use strict";var n=i("ae93").IteratorPrototype,r=i("7c73"),o=i("5c6c"),s=i("d44e"),a=i("3f8c"),A=function(){return this};t.exports=function(t,e,i){var c=e+" Iterator";return t.prototype=r(n,{next:o(1,i)}),s(t,c,!1,!0),a[c]=A,t}},"9f7f":function(t,e,i){"use strict";var n=i("d039");function r(t,e){return RegExp(t,e)}e.UNSUPPORTED_Y=n((function(){var t=r("a","y");return t.lastIndex=2,null!=t.exec("abcd")})),e.BROKEN_CARET=n((function(){var t=r("^r","gy");return t.lastIndex=2,null!=t.exec("str")}))},a3a6:function(t,e,i){var n,r,o=i("f2f2"),s=i("908c"),a=o.process,A=a&&a.versions,c=A&&A.v8;c?(n=c.split("."),r=n[0]+n[1]):s&&(n=s.match(/Edge\/(\d+)/),(!n||n[1]>=74)&&(n=s.match(/Chrome\/(\d+)/),n&&(r=n[1]))),t.exports=r&&+r},a434:function(t,e,i){"use strict";var n=i("23e7"),r=i("23cb"),o=i("a691"),s=i("50c4"),a=i("7b0b"),A=i("65f0"),c=i("8418"),l=i("1dde"),u=l("splice"),h=Math.max,f=Math.min,d=9007199254740991,p="Maximum allowed length exceeded";n({target:"Array",proto:!0,forced:!u},{splice:function(t,e){var i,n,l,u,g,v,m=a(this),w=s(m.length),y=r(t,w),b=arguments.length;if(0===b?i=n=0:1===b?(i=0,n=w-y):(i=b-2,n=f(h(o(e),0),w-y)),w+i-n>d)throw TypeError(p);for(l=A(m,n),u=0;u<n;u++)g=y+u,g in m&&c(l,u,m[g]);if(l.length=n,i<n){for(u=y;u<w-n;u++)g=u+n,v=u+i,g in m?m[v]=m[g]:delete m[v];for(u=w;u>w-n+i;u--)delete m[u-1]}else if(i>n)for(u=w-n;u>y;u--)g=u+n-1,v=u+i-1,g in m?m[v]=m[g]:delete m[v];for(u=0;u<i;u++)m[u+y]=arguments[u+2];return m.length=w-n+i,l}})},a46c:function(t,e,i){var n=i("4601"),r=i("8814"),o=r.concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return n(t,o)}},a4b4:function(t,e,i){var n=i("342f");t.exports=/web0s(?!.*chrome)/i.test(n)},a4d3:function(t,e,i){"use strict";var n=i("23e7"),r=i("da84"),o=i("d066"),s=i("c430"),a=i("83ab"),A=i("4930"),c=i("fdbf"),l=i("d039"),u=i("5135"),h=i("e8b5"),f=i("861d"),d=i("825a"),p=i("7b0b"),g=i("fc6a"),v=i("c04e"),m=i("5c6c"),w=i("7c73"),y=i("df75"),b=i("241c"),B=i("057f"),C=i("7418"),E=i("06cf"),x=i("9bf2"),_=i("d1e7"),S=i("9112"),T=i("6eeb"),F=i("5692"),Q=i("f772"),U=i("d012"),O=i("90e3"),H=i("b622"),D=i("e538"),I=i("746f"),k=i("d44e"),R=i("69f3"),M=i("b727").forEach,P=Q("hidden"),N="Symbol",L="prototype",z=H("toPrimitive"),j=R.set,K=R.getterFor(N),X=Object[L],V=r.Symbol,W=o("JSON","stringify"),G=E.f,Y=x.f,J=B.f,$=_.f,q=F("symbols"),Z=F("op-symbols"),tt=F("string-to-symbol-registry"),et=F("symbol-to-string-registry"),it=F("wks"),nt=r.QObject,rt=!nt||!nt[L]||!nt[L].findChild,ot=a&&l((function(){return 7!=w(Y({},"a",{get:function(){return Y(this,"a",{value:7}).a}})).a}))?function(t,e,i){var n=G(X,e);n&&delete X[e],Y(t,e,i),n&&t!==X&&Y(X,e,n)}:Y,st=function(t,e){var i=q[t]=w(V[L]);return j(i,{type:N,tag:t,description:e}),a||(i.description=e),i},at=c?function(t){return"symbol"==typeof t}:function(t){return Object(t)instanceof V},At=function(t,e,i){t===X&&At(Z,e,i),d(t);var n=v(e,!0);return d(i),u(q,n)?(i.enumerable?(u(t,P)&&t[P][n]&&(t[P][n]=!1),i=w(i,{enumerable:m(0,!1)})):(u(t,P)||Y(t,P,m(1,{})),t[P][n]=!0),ot(t,n,i)):Y(t,n,i)},ct=function(t,e){d(t);var i=g(e),n=y(i).concat(dt(i));return M(n,(function(e){a&&!ut.call(i,e)||At(t,e,i[e])})),t},lt=function(t,e){return void 0===e?w(t):ct(w(t),e)},ut=function(t){var e=v(t,!0),i=$.call(this,e);return!(this===X&&u(q,e)&&!u(Z,e))&&(!(i||!u(this,e)||!u(q,e)||u(this,P)&&this[P][e])||i)},ht=function(t,e){var i=g(t),n=v(e,!0);if(i!==X||!u(q,n)||u(Z,n)){var r=G(i,n);return!r||!u(q,n)||u(i,P)&&i[P][n]||(r.enumerable=!0),r}},ft=function(t){var e=J(g(t)),i=[];return M(e,(function(t){u(q,t)||u(U,t)||i.push(t)})),i},dt=function(t){var e=t===X,i=J(e?Z:g(t)),n=[];return M(i,(function(t){!u(q,t)||e&&!u(X,t)||n.push(q[t])})),n};if(A||(V=function(){if(this instanceof V)throw TypeError("Symbol is not a constructor");var t=arguments.length&&void 0!==arguments[0]?String(arguments[0]):void 0,e=O(t),i=function(t){this===X&&i.call(Z,t),u(this,P)&&u(this[P],e)&&(this[P][e]=!1),ot(this,e,m(1,t))};return a&&rt&&ot(X,e,{configurable:!0,set:i}),st(e,t)},T(V[L],"toString",(function(){return K(this).tag})),T(V,"withoutSetter",(function(t){return st(O(t),t)})),_.f=ut,x.f=At,E.f=ht,b.f=B.f=ft,C.f=dt,D.f=function(t){return st(H(t),t)},a&&(Y(V[L],"description",{configurable:!0,get:function(){return K(this).description}}),s||T(X,"propertyIsEnumerable",ut,{unsafe:!0}))),n({global:!0,wrap:!0,forced:!A,sham:!A},{Symbol:V}),M(y(it),(function(t){I(t)})),n({target:N,stat:!0,forced:!A},{for:function(t){var e=String(t);if(u(tt,e))return tt[e];var i=V(e);return tt[e]=i,et[i]=e,i},keyFor:function(t){if(!at(t))throw TypeError(t+" is not a symbol");if(u(et,t))return et[t]},useSetter:function(){rt=!0},useSimple:function(){rt=!1}}),n({target:"Object",stat:!0,forced:!A,sham:!a},{create:lt,defineProperty:At,defineProperties:ct,getOwnPropertyDescriptor:ht}),n({target:"Object",stat:!0,forced:!A},{getOwnPropertyNames:ft,getOwnPropertySymbols:dt}),n({target:"Object",stat:!0,forced:l((function(){C.f(1)}))},{getOwnPropertySymbols:function(t){return C.f(p(t))}}),W){var pt=!A||l((function(){var t=V();return"[null]"!=W([t])||"{}"!=W({a:t})||"{}"!=W(Object(t))}));n({target:"JSON",stat:!0,forced:pt},{stringify:function(t,e,i){var n,r=[t],o=1;while(arguments.length>o)r.push(arguments[o++]);if(n=e,(f(e)||void 0!==t)&&!at(t))return h(e)||(e=function(t,e){if("function"==typeof n&&(e=n.call(this,t,e)),!at(e))return e}),r[1]=e,W.apply(null,r)}})}V[L][z]||S(V[L],z,V[L].valueOf),k(V,N),U[P]=!0},a630:function(t,e,i){var n=i("23e7"),r=i("4df4"),o=i("1c7e"),s=!o((function(t){Array.from(t)}));n({target:"Array",stat:!0,forced:s},{from:r})},a640:function(t,e,i){"use strict";var n=i("d039");t.exports=function(t,e){var i=[][t];return!!i&&n((function(){i.call(null,e||function(){throw 1},1)}))}},a691:function(t,e){var i=Math.ceil,n=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?n:i)(t)}},a854:function(t,e,i){"use strict";i("46e1")},a9e3:function(t,e,i){"use strict";var n=i("83ab"),r=i("da84"),o=i("94ca"),s=i("6eeb"),a=i("5135"),A=i("c6b6"),c=i("7156"),l=i("c04e"),u=i("d039"),h=i("7c73"),f=i("241c").f,d=i("06cf").f,p=i("9bf2").f,g=i("58a8").trim,v="Number",m=r[v],w=m.prototype,y=A(h(w))==v,b=function(t){var e,i,n,r,o,s,a,A,c=l(t,!1);if("string"==typeof c&&c.length>2)if(c=g(c),e=c.charCodeAt(0),43===e||45===e){if(i=c.charCodeAt(2),88===i||120===i)return NaN}else if(48===e){switch(c.charCodeAt(1)){case 66:case 98:n=2,r=49;break;case 79:case 111:n=8,r=55;break;default:return+c}for(o=c.slice(2),s=o.length,a=0;a<s;a++)if(A=o.charCodeAt(a),A<48||A>r)return NaN;return parseInt(o,n)}return+c};if(o(v,!m(" 0o1")||!m("0b1")||m("+0x1"))){for(var B,C=function(t){var e=arguments.length<1?0:t,i=this;return i instanceof C&&(y?u((function(){w.valueOf.call(i)})):A(i)!=v)?c(new m(b(e)),i,C):b(e)},E=n?f(m):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger,fromString,range".split(","),x=0;E.length>x;x++)a(m,B=E[x])&&!a(C,B)&&p(C,B,d(m,B));C.prototype=w,w.constructor=C,s(r,v,C)}},aa47:function(t,e,i){"use strict";
/**!
 * Sortable 1.10.2
 * @author	RubaXa   <trash@rubaxa.org>
 * @author	owenm    <owen23355@gmail.com>
 * @license MIT
 */
function n(t){return n="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n(t)}function r(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function o(){return o=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}return t},o.apply(this,arguments)}function s(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{},n=Object.keys(i);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(i).filter((function(t){return Object.getOwnPropertyDescriptor(i,t).enumerable})))),n.forEach((function(e){r(t,e,i[e])}))}return t}function a(t,e){if(null==t)return{};var i,n,r={},o=Object.keys(t);for(n=0;n<o.length;n++)i=o[n],e.indexOf(i)>=0||(r[i]=t[i]);return r}function A(t,e){if(null==t)return{};var i,n,r=a(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(n=0;n<o.length;n++)i=o[n],e.indexOf(i)>=0||Object.prototype.propertyIsEnumerable.call(t,i)&&(r[i]=t[i])}return r}function c(t){return l(t)||u(t)||h()}function l(t){if(Array.isArray(t)){for(var e=0,i=new Array(t.length);e<t.length;e++)i[e]=t[e];return i}}function u(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}function h(){throw new TypeError("Invalid attempt to spread non-iterable instance")}i.r(e),i.d(e,"MultiDrag",(function(){return Me})),i.d(e,"Sortable",(function(){return qt})),i.d(e,"Swap",(function(){return _e}));var f="1.10.2";function d(t){if("undefined"!==typeof window&&window.navigator)return!!navigator.userAgent.match(t)}var p=d(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),g=d(/Edge/i),v=d(/firefox/i),m=d(/safari/i)&&!d(/chrome/i)&&!d(/android/i),w=d(/iP(ad|od|hone)/i),y=d(/chrome/i)&&d(/android/i),b={capture:!1,passive:!1};function B(t,e,i){t.addEventListener(e,i,!p&&b)}function C(t,e,i){t.removeEventListener(e,i,!p&&b)}function E(t,e){if(e){if(">"===e[0]&&(e=e.substring(1)),t)try{if(t.matches)return t.matches(e);if(t.msMatchesSelector)return t.msMatchesSelector(e);if(t.webkitMatchesSelector)return t.webkitMatchesSelector(e)}catch(i){return!1}return!1}}function x(t){return t.host&&t!==document&&t.host.nodeType?t.host:t.parentNode}function _(t,e,i,n){if(t){i=i||document;do{if(null!=e&&(">"===e[0]?t.parentNode===i&&E(t,e):E(t,e))||n&&t===i)return t;if(t===i)break}while(t=x(t))}return null}var S,T=/\s+/g;function F(t,e,i){if(t&&e)if(t.classList)t.classList[i?"add":"remove"](e);else{var n=(" "+t.className+" ").replace(T," ").replace(" "+e+" "," ");t.className=(n+(i?" "+e:"")).replace(T," ")}}function Q(t,e,i){var n=t&&t.style;if(n){if(void 0===i)return document.defaultView&&document.defaultView.getComputedStyle?i=document.defaultView.getComputedStyle(t,""):t.currentStyle&&(i=t.currentStyle),void 0===e?i:i[e];e in n||-1!==e.indexOf("webkit")||(e="-webkit-"+e),n[e]=i+("string"===typeof i?"":"px")}}function U(t,e){var i="";if("string"===typeof t)i=t;else do{var n=Q(t,"transform");n&&"none"!==n&&(i=n+" "+i)}while(!e&&(t=t.parentNode));var r=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix||window.MSCSSMatrix;return r&&new r(i)}function O(t,e,i){if(t){var n=t.getElementsByTagName(e),r=0,o=n.length;if(i)for(;r<o;r++)i(n[r],r);return n}return[]}function H(){var t=document.scrollingElement;return t||document.documentElement}function D(t,e,i,n,r){if(t.getBoundingClientRect||t===window){var o,s,a,A,c,l,u;if(t!==window&&t!==H()?(o=t.getBoundingClientRect(),s=o.top,a=o.left,A=o.bottom,c=o.right,l=o.height,u=o.width):(s=0,a=0,A=window.innerHeight,c=window.innerWidth,l=window.innerHeight,u=window.innerWidth),(e||i)&&t!==window&&(r=r||t.parentNode,!p))do{if(r&&r.getBoundingClientRect&&("none"!==Q(r,"transform")||i&&"static"!==Q(r,"position"))){var h=r.getBoundingClientRect();s-=h.top+parseInt(Q(r,"border-top-width")),a-=h.left+parseInt(Q(r,"border-left-width")),A=s+o.height,c=a+o.width;break}}while(r=r.parentNode);if(n&&t!==window){var f=U(r||t),d=f&&f.a,g=f&&f.d;f&&(s/=g,a/=d,u/=d,l/=g,A=s+l,c=a+u)}return{top:s,left:a,bottom:A,right:c,width:u,height:l}}}function I(t,e,i){var n=L(t,!0),r=D(t)[e];while(n){var o=D(n)[i],s=void 0;if(s="top"===i||"left"===i?r>=o:r<=o,!s)return n;if(n===H())break;n=L(n,!1)}return!1}function k(t,e,i){var n=0,r=0,o=t.children;while(r<o.length){if("none"!==o[r].style.display&&o[r]!==qt.ghost&&o[r]!==qt.dragged&&_(o[r],i.draggable,t,!1)){if(n===e)return o[r];n++}r++}return null}function R(t,e){var i=t.lastElementChild;while(i&&(i===qt.ghost||"none"===Q(i,"display")||e&&!E(i,e)))i=i.previousElementSibling;return i||null}function M(t,e){var i=0;if(!t||!t.parentNode)return-1;while(t=t.previousElementSibling)"TEMPLATE"===t.nodeName.toUpperCase()||t===qt.clone||e&&!E(t,e)||i++;return i}function P(t){var e=0,i=0,n=H();if(t)do{var r=U(t),o=r.a,s=r.d;e+=t.scrollLeft*o,i+=t.scrollTop*s}while(t!==n&&(t=t.parentNode));return[e,i]}function N(t,e){for(var i in t)if(t.hasOwnProperty(i))for(var n in e)if(e.hasOwnProperty(n)&&e[n]===t[i][n])return Number(i);return-1}function L(t,e){if(!t||!t.getBoundingClientRect)return H();var i=t,n=!1;do{if(i.clientWidth<i.scrollWidth||i.clientHeight<i.scrollHeight){var r=Q(i);if(i.clientWidth<i.scrollWidth&&("auto"==r.overflowX||"scroll"==r.overflowX)||i.clientHeight<i.scrollHeight&&("auto"==r.overflowY||"scroll"==r.overflowY)){if(!i.getBoundingClientRect||i===document.body)return H();if(n||e)return i;n=!0}}}while(i=i.parentNode);return H()}function z(t,e){if(t&&e)for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);return t}function j(t,e){return Math.round(t.top)===Math.round(e.top)&&Math.round(t.left)===Math.round(e.left)&&Math.round(t.height)===Math.round(e.height)&&Math.round(t.width)===Math.round(e.width)}function K(t,e){return function(){if(!S){var i=arguments,n=this;1===i.length?t.call(n,i[0]):t.apply(n,i),S=setTimeout((function(){S=void 0}),e)}}}function X(){clearTimeout(S),S=void 0}function V(t,e,i){t.scrollLeft+=e,t.scrollTop+=i}function W(t){var e=window.Polymer,i=window.jQuery||window.Zepto;return e&&e.dom?e.dom(t).cloneNode(!0):i?i(t).clone(!0)[0]:t.cloneNode(!0)}function G(t,e){Q(t,"position","absolute"),Q(t,"top",e.top),Q(t,"left",e.left),Q(t,"width",e.width),Q(t,"height",e.height)}function Y(t){Q(t,"position",""),Q(t,"top",""),Q(t,"left",""),Q(t,"width",""),Q(t,"height","")}var J="Sortable"+(new Date).getTime();function $(){var t,e=[];return{captureAnimationState:function(){if(e=[],this.options.animation){var t=[].slice.call(this.el.children);t.forEach((function(t){if("none"!==Q(t,"display")&&t!==qt.ghost){e.push({target:t,rect:D(t)});var i=s({},e[e.length-1].rect);if(t.thisAnimationDuration){var n=U(t,!0);n&&(i.top-=n.f,i.left-=n.e)}t.fromRect=i}}))}},addAnimationState:function(t){e.push(t)},removeAnimationState:function(t){e.splice(N(e,{target:t}),1)},animateAll:function(i){var n=this;if(!this.options.animation)return clearTimeout(t),void("function"===typeof i&&i());var r=!1,o=0;e.forEach((function(t){var e=0,i=t.target,s=i.fromRect,a=D(i),A=i.prevFromRect,c=i.prevToRect,l=t.rect,u=U(i,!0);u&&(a.top-=u.f,a.left-=u.e),i.toRect=a,i.thisAnimationDuration&&j(A,a)&&!j(s,a)&&(l.top-a.top)/(l.left-a.left)===(s.top-a.top)/(s.left-a.left)&&(e=Z(l,A,c,n.options)),j(a,s)||(i.prevFromRect=s,i.prevToRect=a,e||(e=n.options.animation),n.animate(i,l,a,e)),e&&(r=!0,o=Math.max(o,e),clearTimeout(i.animationResetTimer),i.animationResetTimer=setTimeout((function(){i.animationTime=0,i.prevFromRect=null,i.fromRect=null,i.prevToRect=null,i.thisAnimationDuration=null}),e),i.thisAnimationDuration=e)})),clearTimeout(t),r?t=setTimeout((function(){"function"===typeof i&&i()}),o):"function"===typeof i&&i(),e=[]},animate:function(t,e,i,n){if(n){Q(t,"transition",""),Q(t,"transform","");var r=U(this.el),o=r&&r.a,s=r&&r.d,a=(e.left-i.left)/(o||1),A=(e.top-i.top)/(s||1);t.animatingX=!!a,t.animatingY=!!A,Q(t,"transform","translate3d("+a+"px,"+A+"px,0)"),q(t),Q(t,"transition","transform "+n+"ms"+(this.options.easing?" "+this.options.easing:"")),Q(t,"transform","translate3d(0,0,0)"),"number"===typeof t.animated&&clearTimeout(t.animated),t.animated=setTimeout((function(){Q(t,"transition",""),Q(t,"transform",""),t.animated=!1,t.animatingX=!1,t.animatingY=!1}),n)}}}}function q(t){return t.offsetWidth}function Z(t,e,i,n){return Math.sqrt(Math.pow(e.top-t.top,2)+Math.pow(e.left-t.left,2))/Math.sqrt(Math.pow(e.top-i.top,2)+Math.pow(e.left-i.left,2))*n.animation}var tt=[],et={initializeByDefault:!0},it={mount:function(t){for(var e in et)et.hasOwnProperty(e)&&!(e in t)&&(t[e]=et[e]);tt.push(t)},pluginEvent:function(t,e,i){var n=this;this.eventCanceled=!1,i.cancel=function(){n.eventCanceled=!0};var r=t+"Global";tt.forEach((function(n){e[n.pluginName]&&(e[n.pluginName][r]&&e[n.pluginName][r](s({sortable:e},i)),e.options[n.pluginName]&&e[n.pluginName][t]&&e[n.pluginName][t](s({sortable:e},i)))}))},initializePlugins:function(t,e,i,n){for(var r in tt.forEach((function(n){var r=n.pluginName;if(t.options[r]||n.initializeByDefault){var s=new n(t,e,t.options);s.sortable=t,s.options=t.options,t[r]=s,o(i,s.defaults)}})),t.options)if(t.options.hasOwnProperty(r)){var s=this.modifyOption(t,r,t.options[r]);"undefined"!==typeof s&&(t.options[r]=s)}},getEventProperties:function(t,e){var i={};return tt.forEach((function(n){"function"===typeof n.eventProperties&&o(i,n.eventProperties.call(e[n.pluginName],t))})),i},modifyOption:function(t,e,i){var n;return tt.forEach((function(r){t[r.pluginName]&&r.optionListeners&&"function"===typeof r.optionListeners[e]&&(n=r.optionListeners[e].call(t[r.pluginName],i))})),n}};function nt(t){var e=t.sortable,i=t.rootEl,n=t.name,r=t.targetEl,o=t.cloneEl,a=t.toEl,A=t.fromEl,c=t.oldIndex,l=t.newIndex,u=t.oldDraggableIndex,h=t.newDraggableIndex,f=t.originalEvent,d=t.putSortable,v=t.extraEventProperties;if(e=e||i&&i[J],e){var m,w=e.options,y="on"+n.charAt(0).toUpperCase()+n.substr(1);!window.CustomEvent||p||g?(m=document.createEvent("Event"),m.initEvent(n,!0,!0)):m=new CustomEvent(n,{bubbles:!0,cancelable:!0}),m.to=a||i,m.from=A||i,m.item=r||i,m.clone=o,m.oldIndex=c,m.newIndex=l,m.oldDraggableIndex=u,m.newDraggableIndex=h,m.originalEvent=f,m.pullMode=d?d.lastPutMode:void 0;var b=s({},v,it.getEventProperties(n,e));for(var B in b)m[B]=b[B];i&&i.dispatchEvent(m),w[y]&&w[y].call(e,m)}}var rt=function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=i.evt,r=A(i,["evt"]);it.pluginEvent.bind(qt)(t,e,s({dragEl:st,parentEl:at,ghostEl:At,rootEl:ct,nextEl:lt,lastDownEl:ut,cloneEl:ht,cloneHidden:ft,dragStarted:_t,putSortable:wt,activeSortable:qt.active,originalEvent:n,oldIndex:dt,oldDraggableIndex:gt,newIndex:pt,newDraggableIndex:vt,hideGhostForTarget:Gt,unhideGhostForTarget:Yt,cloneNowHidden:function(){ft=!0},cloneNowShown:function(){ft=!1},dispatchSortableEvent:function(t){ot({sortable:e,name:t,originalEvent:n})}},r))};function ot(t){nt(s({putSortable:wt,cloneEl:ht,targetEl:st,rootEl:ct,oldIndex:dt,oldDraggableIndex:gt,newIndex:pt,newDraggableIndex:vt},t))}var st,at,At,ct,lt,ut,ht,ft,dt,pt,gt,vt,mt,wt,yt,bt,Bt,Ct,Et,xt,_t,St,Tt,Ft,Qt,Ut=!1,Ot=!1,Ht=[],Dt=!1,It=!1,kt=[],Rt=!1,Mt=[],Pt="undefined"!==typeof document,Nt=w,Lt=g||p?"cssFloat":"float",zt=Pt&&!y&&!w&&"draggable"in document.createElement("div"),jt=function(){if(Pt){if(p)return!1;var t=document.createElement("x");return t.style.cssText="pointer-events:auto","auto"===t.style.pointerEvents}}(),Kt=function(t,e){var i=Q(t),n=parseInt(i.width)-parseInt(i.paddingLeft)-parseInt(i.paddingRight)-parseInt(i.borderLeftWidth)-parseInt(i.borderRightWidth),r=k(t,0,e),o=k(t,1,e),s=r&&Q(r),a=o&&Q(o),A=s&&parseInt(s.marginLeft)+parseInt(s.marginRight)+D(r).width,c=a&&parseInt(a.marginLeft)+parseInt(a.marginRight)+D(o).width;if("flex"===i.display)return"column"===i.flexDirection||"column-reverse"===i.flexDirection?"vertical":"horizontal";if("grid"===i.display)return i.gridTemplateColumns.split(" ").length<=1?"vertical":"horizontal";if(r&&s["float"]&&"none"!==s["float"]){var l="left"===s["float"]?"left":"right";return!o||"both"!==a.clear&&a.clear!==l?"horizontal":"vertical"}return r&&("block"===s.display||"flex"===s.display||"table"===s.display||"grid"===s.display||A>=n&&"none"===i[Lt]||o&&"none"===i[Lt]&&A+c>n)?"vertical":"horizontal"},Xt=function(t,e,i){var n=i?t.left:t.top,r=i?t.right:t.bottom,o=i?t.width:t.height,s=i?e.left:e.top,a=i?e.right:e.bottom,A=i?e.width:e.height;return n===s||r===a||n+o/2===s+A/2},Vt=function(t,e){var i;return Ht.some((function(n){if(!R(n)){var r=D(n),o=n[J].options.emptyInsertThreshold,s=t>=r.left-o&&t<=r.right+o,a=e>=r.top-o&&e<=r.bottom+o;return o&&s&&a?i=n:void 0}})),i},Wt=function(t){function e(t,i){return function(n,r,o,s){var a=n.options.group.name&&r.options.group.name&&n.options.group.name===r.options.group.name;if(null==t&&(i||a))return!0;if(null==t||!1===t)return!1;if(i&&"clone"===t)return t;if("function"===typeof t)return e(t(n,r,o,s),i)(n,r,o,s);var A=(i?n:r).options.group.name;return!0===t||"string"===typeof t&&t===A||t.join&&t.indexOf(A)>-1}}var i={},r=t.group;r&&"object"==n(r)||(r={name:r}),i.name=r.name,i.checkPull=e(r.pull,!0),i.checkPut=e(r.put),i.revertClone=r.revertClone,t.group=i},Gt=function(){!jt&&At&&Q(At,"display","none")},Yt=function(){!jt&&At&&Q(At,"display","")};Pt&&document.addEventListener("click",(function(t){if(Ot)return t.preventDefault(),t.stopPropagation&&t.stopPropagation(),t.stopImmediatePropagation&&t.stopImmediatePropagation(),Ot=!1,!1}),!0);var Jt=function(t){if(st){t=t.touches?t.touches[0]:t;var e=Vt(t.clientX,t.clientY);if(e){var i={};for(var n in t)t.hasOwnProperty(n)&&(i[n]=t[n]);i.target=i.rootEl=e,i.preventDefault=void 0,i.stopPropagation=void 0,e[J]._onDragOver(i)}}},$t=function(t){st&&st.parentNode[J]._isOutsideThisEl(t.target)};function qt(t,e){if(!t||!t.nodeType||1!==t.nodeType)throw"Sortable: `el` must be an HTMLElement, not ".concat({}.toString.call(t));this.el=t,this.options=e=o({},e),t[J]=this;var i={group:null,sort:!0,disabled:!1,store:null,handle:null,draggable:/^[uo]l$/i.test(t.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return Kt(t,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(t,e){t.setData("Text",e.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:!1,touchStartThreshold:(Number.parseInt?Number:window).parseInt(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:!1!==qt.supportPointer&&"PointerEvent"in window,emptyInsertThreshold:5};for(var n in it.initializePlugins(this,t,i),i)!(n in e)&&(e[n]=i[n]);for(var r in Wt(e),this)"_"===r.charAt(0)&&"function"===typeof this[r]&&(this[r]=this[r].bind(this));this.nativeDraggable=!e.forceFallback&&zt,this.nativeDraggable&&(this.options.touchStartThreshold=1),e.supportPointer?B(t,"pointerdown",this._onTapStart):(B(t,"mousedown",this._onTapStart),B(t,"touchstart",this._onTapStart)),this.nativeDraggable&&(B(t,"dragover",this),B(t,"dragenter",this)),Ht.push(this.el),e.store&&e.store.get&&this.sort(e.store.get(this)||[]),o(this,$())}function Zt(t){t.dataTransfer&&(t.dataTransfer.dropEffect="move"),t.cancelable&&t.preventDefault()}function te(t,e,i,n,r,o,s,a){var A,c,l=t[J],u=l.options.onMove;return!window.CustomEvent||p||g?(A=document.createEvent("Event"),A.initEvent("move",!0,!0)):A=new CustomEvent("move",{bubbles:!0,cancelable:!0}),A.to=e,A.from=t,A.dragged=i,A.draggedRect=n,A.related=r||e,A.relatedRect=o||D(e),A.willInsertAfter=a,A.originalEvent=s,t.dispatchEvent(A),u&&(c=u.call(l,A,s)),c}function ee(t){t.draggable=!1}function ie(){Rt=!1}function ne(t,e,i){var n=D(R(i.el,i.options.draggable)),r=10;return e?t.clientX>n.right+r||t.clientX<=n.right&&t.clientY>n.bottom&&t.clientX>=n.left:t.clientX>n.right&&t.clientY>n.top||t.clientX<=n.right&&t.clientY>n.bottom+r}function re(t,e,i,n,r,o,s,a){var A=n?t.clientY:t.clientX,c=n?i.height:i.width,l=n?i.top:i.left,u=n?i.bottom:i.right,h=!1;if(!s)if(a&&Ft<c*r){if(!Dt&&(1===Tt?A>l+c*o/2:A<u-c*o/2)&&(Dt=!0),Dt)h=!0;else if(1===Tt?A<l+Ft:A>u-Ft)return-Tt}else if(A>l+c*(1-r)/2&&A<u-c*(1-r)/2)return oe(e);return h=h||s,h&&(A<l+c*o/2||A>u-c*o/2)?A>l+c/2?1:-1:0}function oe(t){return M(st)<M(t)?1:-1}function se(t){var e=t.tagName+t.className+t.src+t.href+t.textContent,i=e.length,n=0;while(i--)n+=e.charCodeAt(i);return n.toString(36)}function ae(t){Mt.length=0;var e=t.getElementsByTagName("input"),i=e.length;while(i--){var n=e[i];n.checked&&Mt.push(n)}}function Ae(t){return setTimeout(t,0)}function ce(t){return clearTimeout(t)}qt.prototype={constructor:qt,_isOutsideThisEl:function(t){this.el.contains(t)||t===this.el||(St=null)},_getDirection:function(t,e){return"function"===typeof this.options.direction?this.options.direction.call(this,t,e,st):this.options.direction},_onTapStart:function(t){if(t.cancelable){var e=this,i=this.el,n=this.options,r=n.preventOnFilter,o=t.type,s=t.touches&&t.touches[0]||t.pointerType&&"touch"===t.pointerType&&t,a=(s||t).target,A=t.target.shadowRoot&&(t.path&&t.path[0]||t.composedPath&&t.composedPath()[0])||a,c=n.filter;if(ae(i),!st&&!(/mousedown|pointerdown/.test(o)&&0!==t.button||n.disabled)&&!A.isContentEditable&&(a=_(a,n.draggable,i,!1),(!a||!a.animated)&&ut!==a)){if(dt=M(a),gt=M(a,n.draggable),"function"===typeof c){if(c.call(this,t,a,this))return ot({sortable:e,rootEl:A,name:"filter",targetEl:a,toEl:i,fromEl:i}),rt("filter",e,{evt:t}),void(r&&t.cancelable&&t.preventDefault())}else if(c&&(c=c.split(",").some((function(n){if(n=_(A,n.trim(),i,!1),n)return ot({sortable:e,rootEl:n,name:"filter",targetEl:a,fromEl:i,toEl:i}),rt("filter",e,{evt:t}),!0})),c))return void(r&&t.cancelable&&t.preventDefault());n.handle&&!_(A,n.handle,i,!1)||this._prepareDragStart(t,s,a)}}},_prepareDragStart:function(t,e,i){var n,r=this,o=r.el,s=r.options,a=o.ownerDocument;if(i&&!st&&i.parentNode===o){var A=D(i);if(ct=o,st=i,at=st.parentNode,lt=st.nextSibling,ut=i,mt=s.group,qt.dragged=st,yt={target:st,clientX:(e||t).clientX,clientY:(e||t).clientY},Et=yt.clientX-A.left,xt=yt.clientY-A.top,this._lastX=(e||t).clientX,this._lastY=(e||t).clientY,st.style["will-change"]="all",n=function(){rt("delayEnded",r,{evt:t}),qt.eventCanceled?r._onDrop():(r._disableDelayedDragEvents(),!v&&r.nativeDraggable&&(st.draggable=!0),r._triggerDragStart(t,e),ot({sortable:r,name:"choose",originalEvent:t}),F(st,s.chosenClass,!0))},s.ignore.split(",").forEach((function(t){O(st,t.trim(),ee)})),B(a,"dragover",Jt),B(a,"mousemove",Jt),B(a,"touchmove",Jt),B(a,"mouseup",r._onDrop),B(a,"touchend",r._onDrop),B(a,"touchcancel",r._onDrop),v&&this.nativeDraggable&&(this.options.touchStartThreshold=4,st.draggable=!0),rt("delayStart",this,{evt:t}),!s.delay||s.delayOnTouchOnly&&!e||this.nativeDraggable&&(g||p))n();else{if(qt.eventCanceled)return void this._onDrop();B(a,"mouseup",r._disableDelayedDrag),B(a,"touchend",r._disableDelayedDrag),B(a,"touchcancel",r._disableDelayedDrag),B(a,"mousemove",r._delayedDragTouchMoveHandler),B(a,"touchmove",r._delayedDragTouchMoveHandler),s.supportPointer&&B(a,"pointermove",r._delayedDragTouchMoveHandler),r._dragStartTimer=setTimeout(n,s.delay)}}},_delayedDragTouchMoveHandler:function(t){var e=t.touches?t.touches[0]:t;Math.max(Math.abs(e.clientX-this._lastX),Math.abs(e.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){st&&ee(st),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var t=this.el.ownerDocument;C(t,"mouseup",this._disableDelayedDrag),C(t,"touchend",this._disableDelayedDrag),C(t,"touchcancel",this._disableDelayedDrag),C(t,"mousemove",this._delayedDragTouchMoveHandler),C(t,"touchmove",this._delayedDragTouchMoveHandler),C(t,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(t,e){e=e||"touch"==t.pointerType&&t,!this.nativeDraggable||e?this.options.supportPointer?B(document,"pointermove",this._onTouchMove):B(document,e?"touchmove":"mousemove",this._onTouchMove):(B(st,"dragend",this),B(ct,"dragstart",this._onDragStart));try{document.selection?Ae((function(){document.selection.empty()})):window.getSelection().removeAllRanges()}catch(i){}},_dragStarted:function(t,e){if(Ut=!1,ct&&st){rt("dragStarted",this,{evt:e}),this.nativeDraggable&&B(document,"dragover",$t);var i=this.options;!t&&F(st,i.dragClass,!1),F(st,i.ghostClass,!0),qt.active=this,t&&this._appendGhost(),ot({sortable:this,name:"start",originalEvent:e})}else this._nulling()},_emulateDragOver:function(){if(bt){this._lastX=bt.clientX,this._lastY=bt.clientY,Gt();var t=document.elementFromPoint(bt.clientX,bt.clientY),e=t;while(t&&t.shadowRoot){if(t=t.shadowRoot.elementFromPoint(bt.clientX,bt.clientY),t===e)break;e=t}if(st.parentNode[J]._isOutsideThisEl(t),e)do{if(e[J]){var i=void 0;if(i=e[J]._onDragOver({clientX:bt.clientX,clientY:bt.clientY,target:t,rootEl:e}),i&&!this.options.dragoverBubble)break}t=e}while(e=e.parentNode);Yt()}},_onTouchMove:function(t){if(yt){var e=this.options,i=e.fallbackTolerance,n=e.fallbackOffset,r=t.touches?t.touches[0]:t,o=At&&U(At,!0),s=At&&o&&o.a,a=At&&o&&o.d,A=Nt&&Qt&&P(Qt),c=(r.clientX-yt.clientX+n.x)/(s||1)+(A?A[0]-kt[0]:0)/(s||1),l=(r.clientY-yt.clientY+n.y)/(a||1)+(A?A[1]-kt[1]:0)/(a||1);if(!qt.active&&!Ut){if(i&&Math.max(Math.abs(r.clientX-this._lastX),Math.abs(r.clientY-this._lastY))<i)return;this._onDragStart(t,!0)}if(At){o?(o.e+=c-(Bt||0),o.f+=l-(Ct||0)):o={a:1,b:0,c:0,d:1,e:c,f:l};var u="matrix(".concat(o.a,",").concat(o.b,",").concat(o.c,",").concat(o.d,",").concat(o.e,",").concat(o.f,")");Q(At,"webkitTransform",u),Q(At,"mozTransform",u),Q(At,"msTransform",u),Q(At,"transform",u),Bt=c,Ct=l,bt=r}t.cancelable&&t.preventDefault()}},_appendGhost:function(){if(!At){var t=this.options.fallbackOnBody?document.body:ct,e=D(st,!0,Nt,!0,t),i=this.options;if(Nt){Qt=t;while("static"===Q(Qt,"position")&&"none"===Q(Qt,"transform")&&Qt!==document)Qt=Qt.parentNode;Qt!==document.body&&Qt!==document.documentElement?(Qt===document&&(Qt=H()),e.top+=Qt.scrollTop,e.left+=Qt.scrollLeft):Qt=H(),kt=P(Qt)}At=st.cloneNode(!0),F(At,i.ghostClass,!1),F(At,i.fallbackClass,!0),F(At,i.dragClass,!0),Q(At,"transition",""),Q(At,"transform",""),Q(At,"box-sizing","border-box"),Q(At,"margin",0),Q(At,"top",e.top),Q(At,"left",e.left),Q(At,"width",e.width),Q(At,"height",e.height),Q(At,"opacity","0.8"),Q(At,"position",Nt?"absolute":"fixed"),Q(At,"zIndex","100000"),Q(At,"pointerEvents","none"),qt.ghost=At,t.appendChild(At),Q(At,"transform-origin",Et/parseInt(At.style.width)*100+"% "+xt/parseInt(At.style.height)*100+"%")}},_onDragStart:function(t,e){var i=this,n=t.dataTransfer,r=i.options;rt("dragStart",this,{evt:t}),qt.eventCanceled?this._onDrop():(rt("setupClone",this),qt.eventCanceled||(ht=W(st),ht.draggable=!1,ht.style["will-change"]="",this._hideClone(),F(ht,this.options.chosenClass,!1),qt.clone=ht),i.cloneId=Ae((function(){rt("clone",i),qt.eventCanceled||(i.options.removeCloneOnHide||ct.insertBefore(ht,st),i._hideClone(),ot({sortable:i,name:"clone"}))})),!e&&F(st,r.dragClass,!0),e?(Ot=!0,i._loopId=setInterval(i._emulateDragOver,50)):(C(document,"mouseup",i._onDrop),C(document,"touchend",i._onDrop),C(document,"touchcancel",i._onDrop),n&&(n.effectAllowed="move",r.setData&&r.setData.call(i,n,st)),B(document,"drop",i),Q(st,"transform","translateZ(0)")),Ut=!0,i._dragStartId=Ae(i._dragStarted.bind(i,e,t)),B(document,"selectstart",i),_t=!0,m&&Q(document.body,"user-select","none"))},_onDragOver:function(t){var e,i,n,r,o=this.el,a=t.target,A=this.options,c=A.group,l=qt.active,u=mt===c,h=A.sort,f=wt||l,d=this,p=!1;if(!Rt){if(void 0!==t.preventDefault&&t.cancelable&&t.preventDefault(),a=_(a,A.draggable,o,!0),O("dragOver"),qt.eventCanceled)return p;if(st.contains(t.target)||a.animated&&a.animatingX&&a.animatingY||d._ignoreWhileAnimating===a)return k(!1);if(Ot=!1,l&&!A.disabled&&(u?h||(n=!ct.contains(st)):wt===this||(this.lastPutMode=mt.checkPull(this,l,st,t))&&c.checkPut(this,l,st,t))){if(r="vertical"===this._getDirection(t,a),e=D(st),O("dragOverValid"),qt.eventCanceled)return p;if(n)return at=ct,H(),this._hideClone(),O("revert"),qt.eventCanceled||(lt?ct.insertBefore(st,lt):ct.appendChild(st)),k(!0);var g=R(o,A.draggable);if(!g||ne(t,r,this)&&!g.animated){if(g===st)return k(!1);if(g&&o===t.target&&(a=g),a&&(i=D(a)),!1!==te(ct,o,st,e,a,i,t,!!a))return H(),o.appendChild(st),at=o,P(),k(!0)}else if(a.parentNode===o){i=D(a);var v,m,w=0,y=st.parentNode!==o,b=!Xt(st.animated&&st.toRect||e,a.animated&&a.toRect||i,r),B=r?"top":"left",C=I(a,"top","top")||I(st,"top","top"),E=C?C.scrollTop:void 0;if(St!==a&&(v=i[B],Dt=!1,It=!b&&A.invertSwap||y),w=re(t,a,i,r,b?1:A.swapThreshold,null==A.invertedSwapThreshold?A.swapThreshold:A.invertedSwapThreshold,It,St===a),0!==w){var x=M(st);do{x-=w,m=at.children[x]}while(m&&("none"===Q(m,"display")||m===At))}if(0===w||m===a)return k(!1);St=a,Tt=w;var S=a.nextElementSibling,T=!1;T=1===w;var U=te(ct,o,st,e,a,i,t,T);if(!1!==U)return 1!==U&&-1!==U||(T=1===U),Rt=!0,setTimeout(ie,30),H(),T&&!S?o.appendChild(st):a.parentNode.insertBefore(st,T?S:a),C&&V(C,0,E-C.scrollTop),at=st.parentNode,void 0===v||It||(Ft=Math.abs(v-D(a)[B])),P(),k(!0)}if(o.contains(st))return k(!1)}return!1}function O(A,c){rt(A,d,s({evt:t,isOwner:u,axis:r?"vertical":"horizontal",revert:n,dragRect:e,targetRect:i,canSort:h,fromSortable:f,target:a,completed:k,onMove:function(i,n){return te(ct,o,st,e,i,D(i),t,n)},changed:P},c))}function H(){O("dragOverAnimationCapture"),d.captureAnimationState(),d!==f&&f.captureAnimationState()}function k(e){return O("dragOverCompleted",{insertion:e}),e&&(u?l._hideClone():l._showClone(d),d!==f&&(F(st,wt?wt.options.ghostClass:l.options.ghostClass,!1),F(st,A.ghostClass,!0)),wt!==d&&d!==qt.active?wt=d:d===qt.active&&wt&&(wt=null),f===d&&(d._ignoreWhileAnimating=a),d.animateAll((function(){O("dragOverAnimationComplete"),d._ignoreWhileAnimating=null})),d!==f&&(f.animateAll(),f._ignoreWhileAnimating=null)),(a===st&&!st.animated||a===o&&!a.animated)&&(St=null),A.dragoverBubble||t.rootEl||a===document||(st.parentNode[J]._isOutsideThisEl(t.target),!e&&Jt(t)),!A.dragoverBubble&&t.stopPropagation&&t.stopPropagation(),p=!0}function P(){pt=M(st),vt=M(st,A.draggable),ot({sortable:d,name:"change",toEl:o,newIndex:pt,newDraggableIndex:vt,originalEvent:t})}},_ignoreWhileAnimating:null,_offMoveEvents:function(){C(document,"mousemove",this._onTouchMove),C(document,"touchmove",this._onTouchMove),C(document,"pointermove",this._onTouchMove),C(document,"dragover",Jt),C(document,"mousemove",Jt),C(document,"touchmove",Jt)},_offUpEvents:function(){var t=this.el.ownerDocument;C(t,"mouseup",this._onDrop),C(t,"touchend",this._onDrop),C(t,"pointerup",this._onDrop),C(t,"touchcancel",this._onDrop),C(document,"selectstart",this)},_onDrop:function(t){var e=this.el,i=this.options;pt=M(st),vt=M(st,i.draggable),rt("drop",this,{evt:t}),at=st&&st.parentNode,pt=M(st),vt=M(st,i.draggable),qt.eventCanceled||(Ut=!1,It=!1,Dt=!1,clearInterval(this._loopId),clearTimeout(this._dragStartTimer),ce(this.cloneId),ce(this._dragStartId),this.nativeDraggable&&(C(document,"drop",this),C(e,"dragstart",this._onDragStart)),this._offMoveEvents(),this._offUpEvents(),m&&Q(document.body,"user-select",""),Q(st,"transform",""),t&&(_t&&(t.cancelable&&t.preventDefault(),!i.dropBubble&&t.stopPropagation()),At&&At.parentNode&&At.parentNode.removeChild(At),(ct===at||wt&&"clone"!==wt.lastPutMode)&&ht&&ht.parentNode&&ht.parentNode.removeChild(ht),st&&(this.nativeDraggable&&C(st,"dragend",this),ee(st),st.style["will-change"]="",_t&&!Ut&&F(st,wt?wt.options.ghostClass:this.options.ghostClass,!1),F(st,this.options.chosenClass,!1),ot({sortable:this,name:"unchoose",toEl:at,newIndex:null,newDraggableIndex:null,originalEvent:t}),ct!==at?(pt>=0&&(ot({rootEl:at,name:"add",toEl:at,fromEl:ct,originalEvent:t}),ot({sortable:this,name:"remove",toEl:at,originalEvent:t}),ot({rootEl:at,name:"sort",toEl:at,fromEl:ct,originalEvent:t}),ot({sortable:this,name:"sort",toEl:at,originalEvent:t})),wt&&wt.save()):pt!==dt&&pt>=0&&(ot({sortable:this,name:"update",toEl:at,originalEvent:t}),ot({sortable:this,name:"sort",toEl:at,originalEvent:t})),qt.active&&(null!=pt&&-1!==pt||(pt=dt,vt=gt),ot({sortable:this,name:"end",toEl:at,originalEvent:t}),this.save())))),this._nulling()},_nulling:function(){rt("nulling",this),ct=st=at=At=lt=ht=ut=ft=yt=bt=_t=pt=vt=dt=gt=St=Tt=wt=mt=qt.dragged=qt.ghost=qt.clone=qt.active=null,Mt.forEach((function(t){t.checked=!0})),Mt.length=Bt=Ct=0},handleEvent:function(t){switch(t.type){case"drop":case"dragend":this._onDrop(t);break;case"dragenter":case"dragover":st&&(this._onDragOver(t),Zt(t));break;case"selectstart":t.preventDefault();break}},toArray:function(){for(var t,e=[],i=this.el.children,n=0,r=i.length,o=this.options;n<r;n++)t=i[n],_(t,o.draggable,this.el,!1)&&e.push(t.getAttribute(o.dataIdAttr)||se(t));return e},sort:function(t){var e={},i=this.el;this.toArray().forEach((function(t,n){var r=i.children[n];_(r,this.options.draggable,i,!1)&&(e[t]=r)}),this),t.forEach((function(t){e[t]&&(i.removeChild(e[t]),i.appendChild(e[t]))}))},save:function(){var t=this.options.store;t&&t.set&&t.set(this)},closest:function(t,e){return _(t,e||this.options.draggable,this.el,!1)},option:function(t,e){var i=this.options;if(void 0===e)return i[t];var n=it.modifyOption(this,t,e);i[t]="undefined"!==typeof n?n:e,"group"===t&&Wt(i)},destroy:function(){rt("destroy",this);var t=this.el;t[J]=null,C(t,"mousedown",this._onTapStart),C(t,"touchstart",this._onTapStart),C(t,"pointerdown",this._onTapStart),this.nativeDraggable&&(C(t,"dragover",this),C(t,"dragenter",this)),Array.prototype.forEach.call(t.querySelectorAll("[draggable]"),(function(t){t.removeAttribute("draggable")})),this._onDrop(),this._disableDelayedDragEvents(),Ht.splice(Ht.indexOf(this.el),1),this.el=t=null},_hideClone:function(){if(!ft){if(rt("hideClone",this),qt.eventCanceled)return;Q(ht,"display","none"),this.options.removeCloneOnHide&&ht.parentNode&&ht.parentNode.removeChild(ht),ft=!0}},_showClone:function(t){if("clone"===t.lastPutMode){if(ft){if(rt("showClone",this),qt.eventCanceled)return;ct.contains(st)&&!this.options.group.revertClone?ct.insertBefore(ht,st):lt?ct.insertBefore(ht,lt):ct.appendChild(ht),this.options.group.revertClone&&this.animate(st,ht),Q(ht,"display",""),ft=!1}}else this._hideClone()}},Pt&&B(document,"touchmove",(function(t){(qt.active||Ut)&&t.cancelable&&t.preventDefault()})),qt.utils={on:B,off:C,css:Q,find:O,is:function(t,e){return!!_(t,e,t,!1)},extend:z,throttle:K,closest:_,toggleClass:F,clone:W,index:M,nextTick:Ae,cancelNextTick:ce,detectDirection:Kt,getChild:k},qt.get=function(t){return t[J]},qt.mount=function(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];e[0].constructor===Array&&(e=e[0]),e.forEach((function(t){if(!t.prototype||!t.prototype.constructor)throw"Sortable: Mounted plugin must be a constructor function, not ".concat({}.toString.call(t));t.utils&&(qt.utils=s({},qt.utils,t.utils)),it.mount(t)}))},qt.create=function(t,e){return new qt(t,e)},qt.version=f;var le,ue,he,fe,de,pe,ge=[],ve=!1;function me(){function t(){for(var t in this.defaults={scroll:!0,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0},this)"_"===t.charAt(0)&&"function"===typeof this[t]&&(this[t]=this[t].bind(this))}return t.prototype={dragStarted:function(t){var e=t.originalEvent;this.sortable.nativeDraggable?B(document,"dragover",this._handleAutoScroll):this.options.supportPointer?B(document,"pointermove",this._handleFallbackAutoScroll):e.touches?B(document,"touchmove",this._handleFallbackAutoScroll):B(document,"mousemove",this._handleFallbackAutoScroll)},dragOverCompleted:function(t){var e=t.originalEvent;this.options.dragOverBubble||e.rootEl||this._handleAutoScroll(e)},drop:function(){this.sortable.nativeDraggable?C(document,"dragover",this._handleAutoScroll):(C(document,"pointermove",this._handleFallbackAutoScroll),C(document,"touchmove",this._handleFallbackAutoScroll),C(document,"mousemove",this._handleFallbackAutoScroll)),ye(),we(),X()},nulling:function(){de=ue=le=ve=pe=he=fe=null,ge.length=0},_handleFallbackAutoScroll:function(t){this._handleAutoScroll(t,!0)},_handleAutoScroll:function(t,e){var i=this,n=(t.touches?t.touches[0]:t).clientX,r=(t.touches?t.touches[0]:t).clientY,o=document.elementFromPoint(n,r);if(de=t,e||g||p||m){Be(t,this.options,o,e);var s=L(o,!0);!ve||pe&&n===he&&r===fe||(pe&&ye(),pe=setInterval((function(){var o=L(document.elementFromPoint(n,r),!0);o!==s&&(s=o,we()),Be(t,i.options,o,e)}),10),he=n,fe=r)}else{if(!this.options.bubbleScroll||L(o,!0)===H())return void we();Be(t,this.options,L(o,!1),!1)}}},o(t,{pluginName:"scroll",initializeByDefault:!0})}function we(){ge.forEach((function(t){clearInterval(t.pid)})),ge=[]}function ye(){clearInterval(pe)}var be,Be=K((function(t,e,i,n){if(e.scroll){var r,o=(t.touches?t.touches[0]:t).clientX,s=(t.touches?t.touches[0]:t).clientY,a=e.scrollSensitivity,A=e.scrollSpeed,c=H(),l=!1;ue!==i&&(ue=i,we(),le=e.scroll,r=e.scrollFn,!0===le&&(le=L(i,!0)));var u=0,h=le;do{var f=h,d=D(f),p=d.top,g=d.bottom,v=d.left,m=d.right,w=d.width,y=d.height,b=void 0,B=void 0,C=f.scrollWidth,E=f.scrollHeight,x=Q(f),_=f.scrollLeft,S=f.scrollTop;f===c?(b=w<C&&("auto"===x.overflowX||"scroll"===x.overflowX||"visible"===x.overflowX),B=y<E&&("auto"===x.overflowY||"scroll"===x.overflowY||"visible"===x.overflowY)):(b=w<C&&("auto"===x.overflowX||"scroll"===x.overflowX),B=y<E&&("auto"===x.overflowY||"scroll"===x.overflowY));var T=b&&(Math.abs(m-o)<=a&&_+w<C)-(Math.abs(v-o)<=a&&!!_),F=B&&(Math.abs(g-s)<=a&&S+y<E)-(Math.abs(p-s)<=a&&!!S);if(!ge[u])for(var U=0;U<=u;U++)ge[U]||(ge[U]={});ge[u].vx==T&&ge[u].vy==F&&ge[u].el===f||(ge[u].el=f,ge[u].vx=T,ge[u].vy=F,clearInterval(ge[u].pid),0==T&&0==F||(l=!0,ge[u].pid=setInterval(function(){n&&0===this.layer&&qt.active._onTouchMove(de);var e=ge[this.layer].vy?ge[this.layer].vy*A:0,i=ge[this.layer].vx?ge[this.layer].vx*A:0;"function"===typeof r&&"continue"!==r.call(qt.dragged.parentNode[J],i,e,t,de,ge[this.layer].el)||V(ge[this.layer].el,i,e)}.bind({layer:u}),24))),u++}while(e.bubbleScroll&&h!==c&&(h=L(h,!1)));ve=l}}),30),Ce=function(t){var e=t.originalEvent,i=t.putSortable,n=t.dragEl,r=t.activeSortable,o=t.dispatchSortableEvent,s=t.hideGhostForTarget,a=t.unhideGhostForTarget;if(e){var A=i||r;s();var c=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:e,l=document.elementFromPoint(c.clientX,c.clientY);a(),A&&!A.el.contains(l)&&(o("spill"),this.onSpill({dragEl:n,putSortable:i}))}};function Ee(){}function xe(){}function _e(){function t(){this.defaults={swapClass:"sortable-swap-highlight"}}return t.prototype={dragStart:function(t){var e=t.dragEl;be=e},dragOverValid:function(t){var e=t.completed,i=t.target,n=t.onMove,r=t.activeSortable,o=t.changed,s=t.cancel;if(r.options.swap){var a=this.sortable.el,A=this.options;if(i&&i!==a){var c=be;!1!==n(i)?(F(i,A.swapClass,!0),be=i):be=null,c&&c!==be&&F(c,A.swapClass,!1)}o(),e(!0),s()}},drop:function(t){var e=t.activeSortable,i=t.putSortable,n=t.dragEl,r=i||this.sortable,o=this.options;be&&F(be,o.swapClass,!1),be&&(o.swap||i&&i.options.swap)&&n!==be&&(r.captureAnimationState(),r!==e&&e.captureAnimationState(),Se(n,be),r.animateAll(),r!==e&&e.animateAll())},nulling:function(){be=null}},o(t,{pluginName:"swap",eventProperties:function(){return{swapItem:be}}})}function Se(t,e){var i,n,r=t.parentNode,o=e.parentNode;r&&o&&!r.isEqualNode(e)&&!o.isEqualNode(t)&&(i=M(t),n=M(e),r.isEqualNode(o)&&i<n&&n++,r.insertBefore(e,r.children[i]),o.insertBefore(t,o.children[n]))}Ee.prototype={startIndex:null,dragStart:function(t){var e=t.oldDraggableIndex;this.startIndex=e},onSpill:function(t){var e=t.dragEl,i=t.putSortable;this.sortable.captureAnimationState(),i&&i.captureAnimationState();var n=k(this.sortable.el,this.startIndex,this.options);n?this.sortable.el.insertBefore(e,n):this.sortable.el.appendChild(e),this.sortable.animateAll(),i&&i.animateAll()},drop:Ce},o(Ee,{pluginName:"revertOnSpill"}),xe.prototype={onSpill:function(t){var e=t.dragEl,i=t.putSortable,n=i||this.sortable;n.captureAnimationState(),e.parentNode&&e.parentNode.removeChild(e),n.animateAll()},drop:Ce},o(xe,{pluginName:"removeOnSpill"});var Te,Fe,Qe,Ue,Oe,He=[],De=[],Ie=!1,ke=!1,Re=!1;function Me(){function t(t){for(var e in this)"_"===e.charAt(0)&&"function"===typeof this[e]&&(this[e]=this[e].bind(this));t.options.supportPointer?B(document,"pointerup",this._deselectMultiDrag):(B(document,"mouseup",this._deselectMultiDrag),B(document,"touchend",this._deselectMultiDrag)),B(document,"keydown",this._checkKeyDown),B(document,"keyup",this._checkKeyUp),this.defaults={selectedClass:"sortable-selected",multiDragKey:null,setData:function(e,i){var n="";He.length&&Fe===t?He.forEach((function(t,e){n+=(e?", ":"")+t.textContent})):n=i.textContent,e.setData("Text",n)}}}return t.prototype={multiDragKeyDown:!1,isMultiDrag:!1,delayStartGlobal:function(t){var e=t.dragEl;Qe=e},delayEnded:function(){this.isMultiDrag=~He.indexOf(Qe)},setupClone:function(t){var e=t.sortable,i=t.cancel;if(this.isMultiDrag){for(var n=0;n<He.length;n++)De.push(W(He[n])),De[n].sortableIndex=He[n].sortableIndex,De[n].draggable=!1,De[n].style["will-change"]="",F(De[n],this.options.selectedClass,!1),He[n]===Qe&&F(De[n],this.options.chosenClass,!1);e._hideClone(),i()}},clone:function(t){var e=t.sortable,i=t.rootEl,n=t.dispatchSortableEvent,r=t.cancel;this.isMultiDrag&&(this.options.removeCloneOnHide||He.length&&Fe===e&&(Ne(!0,i),n("clone"),r()))},showClone:function(t){var e=t.cloneNowShown,i=t.rootEl,n=t.cancel;this.isMultiDrag&&(Ne(!1,i),De.forEach((function(t){Q(t,"display","")})),e(),Oe=!1,n())},hideClone:function(t){var e=this,i=(t.sortable,t.cloneNowHidden),n=t.cancel;this.isMultiDrag&&(De.forEach((function(t){Q(t,"display","none"),e.options.removeCloneOnHide&&t.parentNode&&t.parentNode.removeChild(t)})),i(),Oe=!0,n())},dragStartGlobal:function(t){t.sortable;!this.isMultiDrag&&Fe&&Fe.multiDrag._deselectMultiDrag(),He.forEach((function(t){t.sortableIndex=M(t)})),He=He.sort((function(t,e){return t.sortableIndex-e.sortableIndex})),Re=!0},dragStarted:function(t){var e=this,i=t.sortable;if(this.isMultiDrag){if(this.options.sort&&(i.captureAnimationState(),this.options.animation)){He.forEach((function(t){t!==Qe&&Q(t,"position","absolute")}));var n=D(Qe,!1,!0,!0);He.forEach((function(t){t!==Qe&&G(t,n)})),ke=!0,Ie=!0}i.animateAll((function(){ke=!1,Ie=!1,e.options.animation&&He.forEach((function(t){Y(t)})),e.options.sort&&Le()}))}},dragOver:function(t){var e=t.target,i=t.completed,n=t.cancel;ke&&~He.indexOf(e)&&(i(!1),n())},revert:function(t){var e=t.fromSortable,i=t.rootEl,n=t.sortable,r=t.dragRect;He.length>1&&(He.forEach((function(t){n.addAnimationState({target:t,rect:ke?D(t):r}),Y(t),t.fromRect=r,e.removeAnimationState(t)})),ke=!1,Pe(!this.options.removeCloneOnHide,i))},dragOverCompleted:function(t){var e=t.sortable,i=t.isOwner,n=t.insertion,r=t.activeSortable,o=t.parentEl,s=t.putSortable,a=this.options;if(n){if(i&&r._hideClone(),Ie=!1,a.animation&&He.length>1&&(ke||!i&&!r.options.sort&&!s)){var A=D(Qe,!1,!0,!0);He.forEach((function(t){t!==Qe&&(G(t,A),o.appendChild(t))})),ke=!0}if(!i)if(ke||Le(),He.length>1){var c=Oe;r._showClone(e),r.options.animation&&!Oe&&c&&De.forEach((function(t){r.addAnimationState({target:t,rect:Ue}),t.fromRect=Ue,t.thisAnimationDuration=null}))}else r._showClone(e)}},dragOverAnimationCapture:function(t){var e=t.dragRect,i=t.isOwner,n=t.activeSortable;if(He.forEach((function(t){t.thisAnimationDuration=null})),n.options.animation&&!i&&n.multiDrag.isMultiDrag){Ue=o({},e);var r=U(Qe,!0);Ue.top-=r.f,Ue.left-=r.e}},dragOverAnimationComplete:function(){ke&&(ke=!1,Le())},drop:function(t){var e=t.originalEvent,i=t.rootEl,n=t.parentEl,r=t.sortable,o=t.dispatchSortableEvent,s=t.oldIndex,a=t.putSortable,A=a||this.sortable;if(e){var c=this.options,l=n.children;if(!Re)if(c.multiDragKey&&!this.multiDragKeyDown&&this._deselectMultiDrag(),F(Qe,c.selectedClass,!~He.indexOf(Qe)),~He.indexOf(Qe))He.splice(He.indexOf(Qe),1),Te=null,nt({sortable:r,rootEl:i,name:"deselect",targetEl:Qe,originalEvt:e});else{if(He.push(Qe),nt({sortable:r,rootEl:i,name:"select",targetEl:Qe,originalEvt:e}),e.shiftKey&&Te&&r.el.contains(Te)){var u,h,f=M(Te),d=M(Qe);if(~f&&~d&&f!==d)for(d>f?(h=f,u=d):(h=d,u=f+1);h<u;h++)~He.indexOf(l[h])||(F(l[h],c.selectedClass,!0),He.push(l[h]),nt({sortable:r,rootEl:i,name:"select",targetEl:l[h],originalEvt:e}))}else Te=Qe;Fe=A}if(Re&&this.isMultiDrag){if((n[J].options.sort||n!==i)&&He.length>1){var p=D(Qe),g=M(Qe,":not(."+this.options.selectedClass+")");if(!Ie&&c.animation&&(Qe.thisAnimationDuration=null),A.captureAnimationState(),!Ie&&(c.animation&&(Qe.fromRect=p,He.forEach((function(t){if(t.thisAnimationDuration=null,t!==Qe){var e=ke?D(t):p;t.fromRect=e,A.addAnimationState({target:t,rect:e})}}))),Le(),He.forEach((function(t){l[g]?n.insertBefore(t,l[g]):n.appendChild(t),g++})),s===M(Qe))){var v=!1;He.forEach((function(t){t.sortableIndex===M(t)||(v=!0)})),v&&o("update")}He.forEach((function(t){Y(t)})),A.animateAll()}Fe=A}(i===n||a&&"clone"!==a.lastPutMode)&&De.forEach((function(t){t.parentNode&&t.parentNode.removeChild(t)}))}},nullingGlobal:function(){this.isMultiDrag=Re=!1,De.length=0},destroyGlobal:function(){this._deselectMultiDrag(),C(document,"pointerup",this._deselectMultiDrag),C(document,"mouseup",this._deselectMultiDrag),C(document,"touchend",this._deselectMultiDrag),C(document,"keydown",this._checkKeyDown),C(document,"keyup",this._checkKeyUp)},_deselectMultiDrag:function(t){if(("undefined"===typeof Re||!Re)&&Fe===this.sortable&&(!t||!_(t.target,this.options.draggable,this.sortable.el,!1))&&(!t||0===t.button))while(He.length){var e=He[0];F(e,this.options.selectedClass,!1),He.shift(),nt({sortable:this.sortable,rootEl:this.sortable.el,name:"deselect",targetEl:e,originalEvt:t})}},_checkKeyDown:function(t){t.key===this.options.multiDragKey&&(this.multiDragKeyDown=!0)},_checkKeyUp:function(t){t.key===this.options.multiDragKey&&(this.multiDragKeyDown=!1)}},o(t,{pluginName:"multiDrag",utils:{select:function(t){var e=t.parentNode[J];e&&e.options.multiDrag&&!~He.indexOf(t)&&(Fe&&Fe!==e&&(Fe.multiDrag._deselectMultiDrag(),Fe=e),F(t,e.options.selectedClass,!0),He.push(t))},deselect:function(t){var e=t.parentNode[J],i=He.indexOf(t);e&&e.options.multiDrag&&~i&&(F(t,e.options.selectedClass,!1),He.splice(i,1))}},eventProperties:function(){var t=this,e=[],i=[];return He.forEach((function(n){var r;e.push({multiDragElement:n,index:n.sortableIndex}),r=ke&&n!==Qe?-1:ke?M(n,":not(."+t.options.selectedClass+")"):M(n),i.push({multiDragElement:n,index:r})})),{items:c(He),clones:[].concat(De),oldIndicies:e,newIndicies:i}},optionListeners:{multiDragKey:function(t){return t=t.toLowerCase(),"ctrl"===t?t="Control":t.length>1&&(t=t.charAt(0).toUpperCase()+t.substr(1)),t}}})}function Pe(t,e){He.forEach((function(i,n){var r=e.children[i.sortableIndex+(t?Number(n):0)];r?e.insertBefore(i,r):e.appendChild(i)}))}function Ne(t,e){De.forEach((function(i,n){var r=e.children[i.sortableIndex+(t?Number(n):0)];r?e.insertBefore(i,r):e.appendChild(i)}))}function Le(){He.forEach((function(t){t!==Qe&&t.parentNode&&t.parentNode.removeChild(t)}))}qt.mount(new me),qt.mount(xe,Ee),e["default"]=qt},ab13:function(t,e,i){var n=i("b622"),r=n("match");t.exports=function(t){var e=/./;try{"/./"[t](e)}catch(i){try{return e[r]=!1,"/./"[t](e)}catch(n){}}return!1}},ac06:function(t,e,i){"use strict";var n=i("b235"),r=i("c45c"),o=i("d065"),s=i("5548"),a=[].join,A=r!=Object,c=s("join",",");n({target:"Array",proto:!0,forced:A||!c},{join:function(t){return a.call(o(this),void 0===t?",":t)}})},ac1f:function(t,e,i){"use strict";var n=i("23e7"),r=i("9263");n({target:"RegExp",proto:!0,forced:/./.exec!==r},{exec:r})},ad0d:function(t,e,i){var n=i("5793"),r=i("a3a6"),o=i("2b9c");t.exports=!!Object.getOwnPropertySymbols&&!o((function(){return!Symbol.sham&&(n?38===r:r>37&&r<41)}))},ad6d:function(t,e,i){"use strict";var n=i("825a");t.exports=function(){var t=n(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.dotAll&&(e+="s"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e}},ae37:function(t,e,i){var n=i("0c1e"),r=i("16df"),o=i("59d3"),s=i("77b9");t.exports=n?Object.defineProperties:function(t,e){o(t);var i,n=s(e),a=n.length,A=0;while(a>A)r.f(t,i=n[A++],e[i]);return t}},ae93:function(t,e,i){"use strict";var n,r,o,s=i("d039"),a=i("e163"),A=i("9112"),c=i("5135"),l=i("b622"),u=i("c430"),h=l("iterator"),f=!1,d=function(){return this};[].keys&&(o=[].keys(),"next"in o?(r=a(a(o)),r!==Object.prototype&&(n=r)):f=!0);var p=void 0==n||s((function(){var t={};return n[h].call(t)!==t}));p&&(n={}),u&&!p||c(n,h)||A(n,h,d),t.exports={IteratorPrototype:n,BUGGY_SAFARI_ITERATORS:f}},b041:function(t,e,i){"use strict";var n=i("00ee"),r=i("f5df");t.exports=n?{}.toString:function(){return"[object "+r(this)+"]"}},b064:function(t,e){t.exports={}},b0c0:function(t,e,i){var n=i("83ab"),r=i("9bf2").f,o=Function.prototype,s=o.toString,a=/^\s*function ([^ (]*)/,A="name";n&&!(A in o)&&r(o,A,{configurable:!0,get:function(){try{return s.call(this).match(a)[1]}catch(t){return""}}})},b0f7:function(t,e,i){"use strict";i("c6d3")},b235:function(t,e,i){var n=i("f2f2"),r=i("347c").f,o=i("d348"),s=i("0312"),a=i("e568"),A=i("2710"),c=i("3572");t.exports=function(t,e){var i,l,u,h,f,d,p=t.target,g=t.global,v=t.stat;if(l=g?n:v?n[p]||a(p,{}):(n[p]||{}).prototype,l)for(u in e){if(f=e[u],t.noTargetGet?(d=r(l,u),h=d&&d.value):h=l[u],i=c(g?u:p+(v?".":"#")+u,t.forced),!i&&void 0!==h){if(typeof f===typeof h)continue;A(f,h)}(t.sham||h&&h.sham)&&o(f,"sham",!0),s(l,u,f,t)}}},b3a4:function(t,e,i){},b575:function(t,e,i){var n,r,o,s,a,A,c,l,u=i("da84"),h=i("06cf").f,f=i("2cf4").set,d=i("1cdc"),p=i("a4b4"),g=i("605d"),v=u.MutationObserver||u.WebKitMutationObserver,m=u.document,w=u.process,y=u.Promise,b=h(u,"queueMicrotask"),B=b&&b.value;B||(n=function(){var t,e;g&&(t=w.domain)&&t.exit();while(r){e=r.fn,r=r.next;try{e()}catch(i){throw r?s():o=void 0,i}}o=void 0,t&&t.enter()},d||g||p||!v||!m?y&&y.resolve?(c=y.resolve(void 0),l=c.then,s=function(){l.call(c,n)}):s=g?function(){w.nextTick(n)}:function(){f.call(u,n)}:(a=!0,A=m.createTextNode(""),new v(n).observe(A,{characterData:!0}),s=function(){A.data=a=!a})),t.exports=B||function(t){var e={fn:t,next:void 0};o&&(o.next=e),r||(r=e,s()),o=e}},b5a5:function(t,e,i){var n=i("f2f2"),r=i("80fa"),o=i("657c"),s=i("9536"),a=i("ad0d"),A=i("ce7c"),c=r("wks"),l=n.Symbol,u=A?l:l&&l.withoutSetter||s;t.exports=function(t){return o(c,t)&&(a||"string"==typeof c[t])||(a&&o(l,t)?c[t]=l[t]:c[t]=u("Symbol."+t)),c[t]}},b5d4:function(t,e,i){var n=i("f0e4");t.exports=function(t,e){if(!n(t))return t;var i,r;if(e&&"function"==typeof(i=t.toString)&&!n(r=i.call(t)))return r;if("function"==typeof(i=t.valueOf)&&!n(r=i.call(t)))return r;if(!e&&"function"==typeof(i=t.toString)&&!n(r=i.call(t)))return r;throw TypeError("Can't convert object to primitive value")}},b622:function(t,e,i){var n=i("da84"),r=i("5692"),o=i("5135"),s=i("90e3"),a=i("4930"),A=i("fdbf"),c=r("wks"),l=n.Symbol,u=A?l:l&&l.withoutSetter||s;t.exports=function(t){return o(c,t)&&(a||"string"==typeof c[t])||(a&&o(l,t)?c[t]=l[t]:c[t]=u("Symbol."+t)),c[t]}},b639:function(t,e,i){"use strict";(function(t){
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <http://feross.org>
 * @license  MIT
 */
var n=i("1fb5"),r=i("9152"),o=i("e3db");function s(){try{var t=new Uint8Array(1);return t.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===t.foo()&&"function"===typeof t.subarray&&0===t.subarray(1,1).byteLength}catch(e){return!1}}function a(){return c.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function A(t,e){if(a()<e)throw new RangeError("Invalid typed array length");return c.TYPED_ARRAY_SUPPORT?(t=new Uint8Array(e),t.__proto__=c.prototype):(null===t&&(t=new c(e)),t.length=e),t}function c(t,e,i){if(!c.TYPED_ARRAY_SUPPORT&&!(this instanceof c))return new c(t,e,i);if("number"===typeof t){if("string"===typeof e)throw new Error("If encoding is specified then the first argument must be a string");return f(this,t)}return l(this,t,e,i)}function l(t,e,i,n){if("number"===typeof e)throw new TypeError('"value" argument must not be a number');return"undefined"!==typeof ArrayBuffer&&e instanceof ArrayBuffer?g(t,e,i,n):"string"===typeof e?d(t,e,i):v(t,e)}function u(t){if("number"!==typeof t)throw new TypeError('"size" argument must be a number');if(t<0)throw new RangeError('"size" argument must not be negative')}function h(t,e,i,n){return u(e),e<=0?A(t,e):void 0!==i?"string"===typeof n?A(t,e).fill(i,n):A(t,e).fill(i):A(t,e)}function f(t,e){if(u(e),t=A(t,e<0?0:0|m(e)),!c.TYPED_ARRAY_SUPPORT)for(var i=0;i<e;++i)t[i]=0;return t}function d(t,e,i){if("string"===typeof i&&""!==i||(i="utf8"),!c.isEncoding(i))throw new TypeError('"encoding" must be a valid string encoding');var n=0|y(e,i);t=A(t,n);var r=t.write(e,i);return r!==n&&(t=t.slice(0,r)),t}function p(t,e){var i=e.length<0?0:0|m(e.length);t=A(t,i);for(var n=0;n<i;n+=1)t[n]=255&e[n];return t}function g(t,e,i,n){if(e.byteLength,i<0||e.byteLength<i)throw new RangeError("'offset' is out of bounds");if(e.byteLength<i+(n||0))throw new RangeError("'length' is out of bounds");return e=void 0===i&&void 0===n?new Uint8Array(e):void 0===n?new Uint8Array(e,i):new Uint8Array(e,i,n),c.TYPED_ARRAY_SUPPORT?(t=e,t.__proto__=c.prototype):t=p(t,e),t}function v(t,e){if(c.isBuffer(e)){var i=0|m(e.length);return t=A(t,i),0===t.length?t:(e.copy(t,0,0,i),t)}if(e){if("undefined"!==typeof ArrayBuffer&&e.buffer instanceof ArrayBuffer||"length"in e)return"number"!==typeof e.length||et(e.length)?A(t,0):p(t,e);if("Buffer"===e.type&&o(e.data))return p(t,e.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function m(t){if(t>=a())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+a().toString(16)+" bytes");return 0|t}function w(t){return+t!=t&&(t=0),c.alloc(+t)}function y(t,e){if(c.isBuffer(t))return t.length;if("undefined"!==typeof ArrayBuffer&&"function"===typeof ArrayBuffer.isView&&(ArrayBuffer.isView(t)||t instanceof ArrayBuffer))return t.byteLength;"string"!==typeof t&&(t=""+t);var i=t.length;if(0===i)return 0;for(var n=!1;;)switch(e){case"ascii":case"latin1":case"binary":return i;case"utf8":case"utf-8":case void 0:return J(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*i;case"hex":return i>>>1;case"base64":return Z(t).length;default:if(n)return J(t).length;e=(""+e).toLowerCase(),n=!0}}function b(t,e,i){var n=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return"";if((void 0===i||i>this.length)&&(i=this.length),i<=0)return"";if(i>>>=0,e>>>=0,i<=e)return"";t||(t="utf8");while(1)switch(t){case"hex":return R(this,e,i);case"utf8":case"utf-8":return O(this,e,i);case"ascii":return I(this,e,i);case"latin1":case"binary":return k(this,e,i);case"base64":return U(this,e,i);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return M(this,e,i);default:if(n)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),n=!0}}function B(t,e,i){var n=t[e];t[e]=t[i],t[i]=n}function C(t,e,i,n,r){if(0===t.length)return-1;if("string"===typeof i?(n=i,i=0):i>2147483647?i=2147483647:i<-2147483648&&(i=-2147483648),i=+i,isNaN(i)&&(i=r?0:t.length-1),i<0&&(i=t.length+i),i>=t.length){if(r)return-1;i=t.length-1}else if(i<0){if(!r)return-1;i=0}if("string"===typeof e&&(e=c.from(e,n)),c.isBuffer(e))return 0===e.length?-1:E(t,e,i,n,r);if("number"===typeof e)return e&=255,c.TYPED_ARRAY_SUPPORT&&"function"===typeof Uint8Array.prototype.indexOf?r?Uint8Array.prototype.indexOf.call(t,e,i):Uint8Array.prototype.lastIndexOf.call(t,e,i):E(t,[e],i,n,r);throw new TypeError("val must be string, number or Buffer")}function E(t,e,i,n,r){var o,s=1,a=t.length,A=e.length;if(void 0!==n&&(n=String(n).toLowerCase(),"ucs2"===n||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(t.length<2||e.length<2)return-1;s=2,a/=2,A/=2,i/=2}function c(t,e){return 1===s?t[e]:t.readUInt16BE(e*s)}if(r){var l=-1;for(o=i;o<a;o++)if(c(t,o)===c(e,-1===l?0:o-l)){if(-1===l&&(l=o),o-l+1===A)return l*s}else-1!==l&&(o-=o-l),l=-1}else for(i+A>a&&(i=a-A),o=i;o>=0;o--){for(var u=!0,h=0;h<A;h++)if(c(t,o+h)!==c(e,h)){u=!1;break}if(u)return o}return-1}function x(t,e,i,n){i=Number(i)||0;var r=t.length-i;n?(n=Number(n),n>r&&(n=r)):n=r;var o=e.length;if(o%2!==0)throw new TypeError("Invalid hex string");n>o/2&&(n=o/2);for(var s=0;s<n;++s){var a=parseInt(e.substr(2*s,2),16);if(isNaN(a))return s;t[i+s]=a}return s}function _(t,e,i,n){return tt(J(e,t.length-i),t,i,n)}function S(t,e,i,n){return tt($(e),t,i,n)}function T(t,e,i,n){return S(t,e,i,n)}function F(t,e,i,n){return tt(Z(e),t,i,n)}function Q(t,e,i,n){return tt(q(e,t.length-i),t,i,n)}function U(t,e,i){return 0===e&&i===t.length?n.fromByteArray(t):n.fromByteArray(t.slice(e,i))}function O(t,e,i){i=Math.min(t.length,i);var n=[],r=e;while(r<i){var o,s,a,A,c=t[r],l=null,u=c>239?4:c>223?3:c>191?2:1;if(r+u<=i)switch(u){case 1:c<128&&(l=c);break;case 2:o=t[r+1],128===(192&o)&&(A=(31&c)<<6|63&o,A>127&&(l=A));break;case 3:o=t[r+1],s=t[r+2],128===(192&o)&&128===(192&s)&&(A=(15&c)<<12|(63&o)<<6|63&s,A>2047&&(A<55296||A>57343)&&(l=A));break;case 4:o=t[r+1],s=t[r+2],a=t[r+3],128===(192&o)&&128===(192&s)&&128===(192&a)&&(A=(15&c)<<18|(63&o)<<12|(63&s)<<6|63&a,A>65535&&A<1114112&&(l=A))}null===l?(l=65533,u=1):l>65535&&(l-=65536,n.push(l>>>10&1023|55296),l=56320|1023&l),n.push(l),r+=u}return D(n)}e.Buffer=c,e.SlowBuffer=w,e.INSPECT_MAX_BYTES=50,c.TYPED_ARRAY_SUPPORT=void 0!==t.TYPED_ARRAY_SUPPORT?t.TYPED_ARRAY_SUPPORT:s(),e.kMaxLength=a(),c.poolSize=8192,c._augment=function(t){return t.__proto__=c.prototype,t},c.from=function(t,e,i){return l(null,t,e,i)},c.TYPED_ARRAY_SUPPORT&&(c.prototype.__proto__=Uint8Array.prototype,c.__proto__=Uint8Array,"undefined"!==typeof Symbol&&Symbol.species&&c[Symbol.species]===c&&Object.defineProperty(c,Symbol.species,{value:null,configurable:!0})),c.alloc=function(t,e,i){return h(null,t,e,i)},c.allocUnsafe=function(t){return f(null,t)},c.allocUnsafeSlow=function(t){return f(null,t)},c.isBuffer=function(t){return!(null==t||!t._isBuffer)},c.compare=function(t,e){if(!c.isBuffer(t)||!c.isBuffer(e))throw new TypeError("Arguments must be Buffers");if(t===e)return 0;for(var i=t.length,n=e.length,r=0,o=Math.min(i,n);r<o;++r)if(t[r]!==e[r]){i=t[r],n=e[r];break}return i<n?-1:n<i?1:0},c.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},c.concat=function(t,e){if(!o(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return c.alloc(0);var i;if(void 0===e)for(e=0,i=0;i<t.length;++i)e+=t[i].length;var n=c.allocUnsafe(e),r=0;for(i=0;i<t.length;++i){var s=t[i];if(!c.isBuffer(s))throw new TypeError('"list" argument must be an Array of Buffers');s.copy(n,r),r+=s.length}return n},c.byteLength=y,c.prototype._isBuffer=!0,c.prototype.swap16=function(){var t=this.length;if(t%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var e=0;e<t;e+=2)B(this,e,e+1);return this},c.prototype.swap32=function(){var t=this.length;if(t%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var e=0;e<t;e+=4)B(this,e,e+3),B(this,e+1,e+2);return this},c.prototype.swap64=function(){var t=this.length;if(t%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var e=0;e<t;e+=8)B(this,e,e+7),B(this,e+1,e+6),B(this,e+2,e+5),B(this,e+3,e+4);return this},c.prototype.toString=function(){var t=0|this.length;return 0===t?"":0===arguments.length?O(this,0,t):b.apply(this,arguments)},c.prototype.equals=function(t){if(!c.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===c.compare(this,t)},c.prototype.inspect=function(){var t="",i=e.INSPECT_MAX_BYTES;return this.length>0&&(t=this.toString("hex",0,i).match(/.{2}/g).join(" "),this.length>i&&(t+=" ... ")),"<Buffer "+t+">"},c.prototype.compare=function(t,e,i,n,r){if(!c.isBuffer(t))throw new TypeError("Argument must be a Buffer");if(void 0===e&&(e=0),void 0===i&&(i=t?t.length:0),void 0===n&&(n=0),void 0===r&&(r=this.length),e<0||i>t.length||n<0||r>this.length)throw new RangeError("out of range index");if(n>=r&&e>=i)return 0;if(n>=r)return-1;if(e>=i)return 1;if(e>>>=0,i>>>=0,n>>>=0,r>>>=0,this===t)return 0;for(var o=r-n,s=i-e,a=Math.min(o,s),A=this.slice(n,r),l=t.slice(e,i),u=0;u<a;++u)if(A[u]!==l[u]){o=A[u],s=l[u];break}return o<s?-1:s<o?1:0},c.prototype.includes=function(t,e,i){return-1!==this.indexOf(t,e,i)},c.prototype.indexOf=function(t,e,i){return C(this,t,e,i,!0)},c.prototype.lastIndexOf=function(t,e,i){return C(this,t,e,i,!1)},c.prototype.write=function(t,e,i,n){if(void 0===e)n="utf8",i=this.length,e=0;else if(void 0===i&&"string"===typeof e)n=e,i=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e|=0,isFinite(i)?(i|=0,void 0===n&&(n="utf8")):(n=i,i=void 0)}var r=this.length-e;if((void 0===i||i>r)&&(i=r),t.length>0&&(i<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");for(var o=!1;;)switch(n){case"hex":return x(this,t,e,i);case"utf8":case"utf-8":return _(this,t,e,i);case"ascii":return S(this,t,e,i);case"latin1":case"binary":return T(this,t,e,i);case"base64":return F(this,t,e,i);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Q(this,t,e,i);default:if(o)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),o=!0}},c.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var H=4096;function D(t){var e=t.length;if(e<=H)return String.fromCharCode.apply(String,t);var i="",n=0;while(n<e)i+=String.fromCharCode.apply(String,t.slice(n,n+=H));return i}function I(t,e,i){var n="";i=Math.min(t.length,i);for(var r=e;r<i;++r)n+=String.fromCharCode(127&t[r]);return n}function k(t,e,i){var n="";i=Math.min(t.length,i);for(var r=e;r<i;++r)n+=String.fromCharCode(t[r]);return n}function R(t,e,i){var n=t.length;(!e||e<0)&&(e=0),(!i||i<0||i>n)&&(i=n);for(var r="",o=e;o<i;++o)r+=Y(t[o]);return r}function M(t,e,i){for(var n=t.slice(e,i),r="",o=0;o<n.length;o+=2)r+=String.fromCharCode(n[o]+256*n[o+1]);return r}function P(t,e,i){if(t%1!==0||t<0)throw new RangeError("offset is not uint");if(t+e>i)throw new RangeError("Trying to access beyond buffer length")}function N(t,e,i,n,r,o){if(!c.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>r||e<o)throw new RangeError('"value" argument is out of bounds');if(i+n>t.length)throw new RangeError("Index out of range")}function L(t,e,i,n){e<0&&(e=65535+e+1);for(var r=0,o=Math.min(t.length-i,2);r<o;++r)t[i+r]=(e&255<<8*(n?r:1-r))>>>8*(n?r:1-r)}function z(t,e,i,n){e<0&&(e=4294967295+e+1);for(var r=0,o=Math.min(t.length-i,4);r<o;++r)t[i+r]=e>>>8*(n?r:3-r)&255}function j(t,e,i,n,r,o){if(i+n>t.length)throw new RangeError("Index out of range");if(i<0)throw new RangeError("Index out of range")}function K(t,e,i,n,o){return o||j(t,e,i,4,34028234663852886e22,-34028234663852886e22),r.write(t,e,i,n,23,4),i+4}function X(t,e,i,n,o){return o||j(t,e,i,8,17976931348623157e292,-17976931348623157e292),r.write(t,e,i,n,52,8),i+8}c.prototype.slice=function(t,e){var i,n=this.length;if(t=~~t,e=void 0===e?n:~~e,t<0?(t+=n,t<0&&(t=0)):t>n&&(t=n),e<0?(e+=n,e<0&&(e=0)):e>n&&(e=n),e<t&&(e=t),c.TYPED_ARRAY_SUPPORT)i=this.subarray(t,e),i.__proto__=c.prototype;else{var r=e-t;i=new c(r,void 0);for(var o=0;o<r;++o)i[o]=this[o+t]}return i},c.prototype.readUIntLE=function(t,e,i){t|=0,e|=0,i||P(t,e,this.length);var n=this[t],r=1,o=0;while(++o<e&&(r*=256))n+=this[t+o]*r;return n},c.prototype.readUIntBE=function(t,e,i){t|=0,e|=0,i||P(t,e,this.length);var n=this[t+--e],r=1;while(e>0&&(r*=256))n+=this[t+--e]*r;return n},c.prototype.readUInt8=function(t,e){return e||P(t,1,this.length),this[t]},c.prototype.readUInt16LE=function(t,e){return e||P(t,2,this.length),this[t]|this[t+1]<<8},c.prototype.readUInt16BE=function(t,e){return e||P(t,2,this.length),this[t]<<8|this[t+1]},c.prototype.readUInt32LE=function(t,e){return e||P(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},c.prototype.readUInt32BE=function(t,e){return e||P(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},c.prototype.readIntLE=function(t,e,i){t|=0,e|=0,i||P(t,e,this.length);var n=this[t],r=1,o=0;while(++o<e&&(r*=256))n+=this[t+o]*r;return r*=128,n>=r&&(n-=Math.pow(2,8*e)),n},c.prototype.readIntBE=function(t,e,i){t|=0,e|=0,i||P(t,e,this.length);var n=e,r=1,o=this[t+--n];while(n>0&&(r*=256))o+=this[t+--n]*r;return r*=128,o>=r&&(o-=Math.pow(2,8*e)),o},c.prototype.readInt8=function(t,e){return e||P(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},c.prototype.readInt16LE=function(t,e){e||P(t,2,this.length);var i=this[t]|this[t+1]<<8;return 32768&i?4294901760|i:i},c.prototype.readInt16BE=function(t,e){e||P(t,2,this.length);var i=this[t+1]|this[t]<<8;return 32768&i?4294901760|i:i},c.prototype.readInt32LE=function(t,e){return e||P(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},c.prototype.readInt32BE=function(t,e){return e||P(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},c.prototype.readFloatLE=function(t,e){return e||P(t,4,this.length),r.read(this,t,!0,23,4)},c.prototype.readFloatBE=function(t,e){return e||P(t,4,this.length),r.read(this,t,!1,23,4)},c.prototype.readDoubleLE=function(t,e){return e||P(t,8,this.length),r.read(this,t,!0,52,8)},c.prototype.readDoubleBE=function(t,e){return e||P(t,8,this.length),r.read(this,t,!1,52,8)},c.prototype.writeUIntLE=function(t,e,i,n){if(t=+t,e|=0,i|=0,!n){var r=Math.pow(2,8*i)-1;N(this,t,e,i,r,0)}var o=1,s=0;this[e]=255&t;while(++s<i&&(o*=256))this[e+s]=t/o&255;return e+i},c.prototype.writeUIntBE=function(t,e,i,n){if(t=+t,e|=0,i|=0,!n){var r=Math.pow(2,8*i)-1;N(this,t,e,i,r,0)}var o=i-1,s=1;this[e+o]=255&t;while(--o>=0&&(s*=256))this[e+o]=t/s&255;return e+i},c.prototype.writeUInt8=function(t,e,i){return t=+t,e|=0,i||N(this,t,e,1,255,0),c.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),this[e]=255&t,e+1},c.prototype.writeUInt16LE=function(t,e,i){return t=+t,e|=0,i||N(this,t,e,2,65535,0),c.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):L(this,t,e,!0),e+2},c.prototype.writeUInt16BE=function(t,e,i){return t=+t,e|=0,i||N(this,t,e,2,65535,0),c.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):L(this,t,e,!1),e+2},c.prototype.writeUInt32LE=function(t,e,i){return t=+t,e|=0,i||N(this,t,e,4,4294967295,0),c.TYPED_ARRAY_SUPPORT?(this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t):z(this,t,e,!0),e+4},c.prototype.writeUInt32BE=function(t,e,i){return t=+t,e|=0,i||N(this,t,e,4,4294967295,0),c.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):z(this,t,e,!1),e+4},c.prototype.writeIntLE=function(t,e,i,n){if(t=+t,e|=0,!n){var r=Math.pow(2,8*i-1);N(this,t,e,i,r-1,-r)}var o=0,s=1,a=0;this[e]=255&t;while(++o<i&&(s*=256))t<0&&0===a&&0!==this[e+o-1]&&(a=1),this[e+o]=(t/s>>0)-a&255;return e+i},c.prototype.writeIntBE=function(t,e,i,n){if(t=+t,e|=0,!n){var r=Math.pow(2,8*i-1);N(this,t,e,i,r-1,-r)}var o=i-1,s=1,a=0;this[e+o]=255&t;while(--o>=0&&(s*=256))t<0&&0===a&&0!==this[e+o+1]&&(a=1),this[e+o]=(t/s>>0)-a&255;return e+i},c.prototype.writeInt8=function(t,e,i){return t=+t,e|=0,i||N(this,t,e,1,127,-128),c.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),t<0&&(t=255+t+1),this[e]=255&t,e+1},c.prototype.writeInt16LE=function(t,e,i){return t=+t,e|=0,i||N(this,t,e,2,32767,-32768),c.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):L(this,t,e,!0),e+2},c.prototype.writeInt16BE=function(t,e,i){return t=+t,e|=0,i||N(this,t,e,2,32767,-32768),c.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):L(this,t,e,!1),e+2},c.prototype.writeInt32LE=function(t,e,i){return t=+t,e|=0,i||N(this,t,e,4,2147483647,-2147483648),c.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24):z(this,t,e,!0),e+4},c.prototype.writeInt32BE=function(t,e,i){return t=+t,e|=0,i||N(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),c.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):z(this,t,e,!1),e+4},c.prototype.writeFloatLE=function(t,e,i){return K(this,t,e,!0,i)},c.prototype.writeFloatBE=function(t,e,i){return K(this,t,e,!1,i)},c.prototype.writeDoubleLE=function(t,e,i){return X(this,t,e,!0,i)},c.prototype.writeDoubleBE=function(t,e,i){return X(this,t,e,!1,i)},c.prototype.copy=function(t,e,i,n){if(i||(i=0),n||0===n||(n=this.length),e>=t.length&&(e=t.length),e||(e=0),n>0&&n<i&&(n=i),n===i)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(i<0||i>=this.length)throw new RangeError("sourceStart out of bounds");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),t.length-e<n-i&&(n=t.length-e+i);var r,o=n-i;if(this===t&&i<e&&e<n)for(r=o-1;r>=0;--r)t[r+e]=this[r+i];else if(o<1e3||!c.TYPED_ARRAY_SUPPORT)for(r=0;r<o;++r)t[r+e]=this[r+i];else Uint8Array.prototype.set.call(t,this.subarray(i,i+o),e);return o},c.prototype.fill=function(t,e,i,n){if("string"===typeof t){if("string"===typeof e?(n=e,e=0,i=this.length):"string"===typeof i&&(n=i,i=this.length),1===t.length){var r=t.charCodeAt(0);r<256&&(t=r)}if(void 0!==n&&"string"!==typeof n)throw new TypeError("encoding must be a string");if("string"===typeof n&&!c.isEncoding(n))throw new TypeError("Unknown encoding: "+n)}else"number"===typeof t&&(t&=255);if(e<0||this.length<e||this.length<i)throw new RangeError("Out of range index");if(i<=e)return this;var o;if(e>>>=0,i=void 0===i?this.length:i>>>0,t||(t=0),"number"===typeof t)for(o=e;o<i;++o)this[o]=t;else{var s=c.isBuffer(t)?t:J(new c(t,n).toString()),a=s.length;for(o=0;o<i-e;++o)this[o+e]=s[o%a]}return this};var V=/[^+\/0-9A-Za-z-_]/g;function W(t){if(t=G(t).replace(V,""),t.length<2)return"";while(t.length%4!==0)t+="=";return t}function G(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}function Y(t){return t<16?"0"+t.toString(16):t.toString(16)}function J(t,e){var i;e=e||1/0;for(var n=t.length,r=null,o=[],s=0;s<n;++s){if(i=t.charCodeAt(s),i>55295&&i<57344){if(!r){if(i>56319){(e-=3)>-1&&o.push(239,191,189);continue}if(s+1===n){(e-=3)>-1&&o.push(239,191,189);continue}r=i;continue}if(i<56320){(e-=3)>-1&&o.push(239,191,189),r=i;continue}i=65536+(r-55296<<10|i-56320)}else r&&(e-=3)>-1&&o.push(239,191,189);if(r=null,i<128){if((e-=1)<0)break;o.push(i)}else if(i<2048){if((e-=2)<0)break;o.push(i>>6|192,63&i|128)}else if(i<65536){if((e-=3)<0)break;o.push(i>>12|224,i>>6&63|128,63&i|128)}else{if(!(i<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;o.push(i>>18|240,i>>12&63|128,i>>6&63|128,63&i|128)}}return o}function $(t){for(var e=[],i=0;i<t.length;++i)e.push(255&t.charCodeAt(i));return e}function q(t,e){for(var i,n,r,o=[],s=0;s<t.length;++s){if((e-=2)<0)break;i=t.charCodeAt(s),n=i>>8,r=i%256,o.push(r),o.push(n)}return o}function Z(t){return n.toByteArray(W(t))}function tt(t,e,i,n){for(var r=0;r<n;++r){if(r+i>=e.length||r>=t.length)break;e[r+i]=t[r]}return r}function et(t){return t!==t}}).call(this,i("c8ba"))},b64b:function(t,e,i){var n=i("23e7"),r=i("7b0b"),o=i("df75"),s=i("d039"),a=s((function(){o(1)}));n({target:"Object",stat:!0,forced:a},{keys:function(t){return o(r(t))}})},b680:function(t,e,i){"use strict";var n=i("23e7"),r=i("a691"),o=i("408a"),s=i("1148"),a=i("d039"),A=1..toFixed,c=Math.floor,l=function(t,e,i){return 0===e?i:e%2===1?l(t,e-1,i*t):l(t*t,e/2,i)},u=function(t){var e=0,i=t;while(i>=4096)e+=12,i/=4096;while(i>=2)e+=1,i/=2;return e},h=function(t,e,i){var n=-1,r=i;while(++n<6)r+=e*t[n],t[n]=r%1e7,r=c(r/1e7)},f=function(t,e){var i=6,n=0;while(--i>=0)n+=t[i],t[i]=c(n/e),n=n%e*1e7},d=function(t){var e=6,i="";while(--e>=0)if(""!==i||0===e||0!==t[e]){var n=String(t[e]);i=""===i?n:i+s.call("0",7-n.length)+n}return i},p=A&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==(0xde0b6b3a7640080).toFixed(0))||!a((function(){A.call({})}));n({target:"Number",proto:!0,forced:p},{toFixed:function(t){var e,i,n,a,A=o(this),c=r(t),p=[0,0,0,0,0,0],g="",v="0";if(c<0||c>20)throw RangeError("Incorrect fraction digits");if(A!=A)return"NaN";if(A<=-1e21||A>=1e21)return String(A);if(A<0&&(g="-",A=-A),A>1e-21)if(e=u(A*l(2,69,1))-69,i=e<0?A*l(2,-e,1):A/l(2,e,1),i*=4503599627370496,e=52-e,e>0){h(p,0,i),n=c;while(n>=7)h(p,1e7,0),n-=7;h(p,l(10,n,1),0),n=e-1;while(n>=23)f(p,1<<23),n-=23;f(p,1<<n),h(p,1,1),f(p,2),v=d(p)}else h(p,0,i),h(p,1<<-e,0),v=d(p)+s.call("0",c);return c>0?(a=v.length,v=g+(a<=c?"0."+s.call("0",c-a)+v:v.slice(0,a-c)+"."+v.slice(a-c))):v=g+v,v}})},b727:function(t,e,i){var n=i("0366"),r=i("44ad"),o=i("7b0b"),s=i("50c4"),a=i("65f0"),A=[].push,c=function(t){var e=1==t,i=2==t,c=3==t,l=4==t,u=6==t,h=7==t,f=5==t||u;return function(d,p,g,v){for(var m,w,y=o(d),b=r(y),B=n(p,g,3),C=s(b.length),E=0,x=v||a,_=e?x(d,C):i||h?x(d,0):void 0;C>E;E++)if((f||E in b)&&(m=b[E],w=B(m,E,y),t))if(e)_[E]=w;else if(w)switch(t){case 3:return!0;case 5:return m;case 6:return E;case 2:A.call(_,m)}else switch(t){case 4:return!1;case 7:A.call(_,m)}return u?-1:c||l?l:_}};t.exports={forEach:c(0),map:c(1),filter:c(2),some:c(3),every:c(4),find:c(5),findIndex:c(6),filterOut:c(7)}},b76a:function(t,e,i){(function(e,n){t.exports=n(i("aa47"))})("undefined"!==typeof self&&self,(function(t){return function(t){var e={};function i(n){if(e[n])return e[n].exports;var r=e[n]={i:n,l:!1,exports:{}};return t[n].call(r.exports,r,r.exports,i),r.l=!0,r.exports}return i.m=t,i.c=e,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)i.d(n,r,function(e){return t[e]}.bind(null,r));return n},i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s="fb15")}({"01f9":function(t,e,i){"use strict";var n=i("2d00"),r=i("5ca1"),o=i("2aba"),s=i("32e9"),a=i("84f2"),A=i("41a0"),c=i("7f20"),l=i("38fd"),u=i("2b4c")("iterator"),h=!([].keys&&"next"in[].keys()),f="@@iterator",d="keys",p="values",g=function(){return this};t.exports=function(t,e,i,v,m,w,y){A(i,e,v);var b,B,C,E=function(t){if(!h&&t in T)return T[t];switch(t){case d:return function(){return new i(this,t)};case p:return function(){return new i(this,t)}}return function(){return new i(this,t)}},x=e+" Iterator",_=m==p,S=!1,T=t.prototype,F=T[u]||T[f]||m&&T[m],Q=F||E(m),U=m?_?E("entries"):Q:void 0,O="Array"==e&&T.entries||F;if(O&&(C=l(O.call(new t)),C!==Object.prototype&&C.next&&(c(C,x,!0),n||"function"==typeof C[u]||s(C,u,g))),_&&F&&F.name!==p&&(S=!0,Q=function(){return F.call(this)}),n&&!y||!h&&!S&&T[u]||s(T,u,Q),a[e]=Q,a[x]=g,m)if(b={values:_?Q:E(p),keys:w?Q:E(d),entries:U},y)for(B in b)B in T||o(T,B,b[B]);else r(r.P+r.F*(h||S),e,b);return b}},"02f4":function(t,e,i){var n=i("4588"),r=i("be13");t.exports=function(t){return function(e,i){var o,s,a=String(r(e)),A=n(i),c=a.length;return A<0||A>=c?t?"":void 0:(o=a.charCodeAt(A),o<55296||o>56319||A+1===c||(s=a.charCodeAt(A+1))<56320||s>57343?t?a.charAt(A):o:t?a.slice(A,A+2):s-56320+(o-55296<<10)+65536)}}},"0390":function(t,e,i){"use strict";var n=i("02f4")(!0);t.exports=function(t,e,i){return e+(i?n(t,e).length:1)}},"0bfb":function(t,e,i){"use strict";var n=i("cb7c");t.exports=function(){var t=n(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e}},"0d58":function(t,e,i){var n=i("ce10"),r=i("e11e");t.exports=Object.keys||function(t){return n(t,r)}},1495:function(t,e,i){var n=i("86cc"),r=i("cb7c"),o=i("0d58");t.exports=i("9e1e")?Object.defineProperties:function(t,e){r(t);var i,s=o(e),a=s.length,A=0;while(a>A)n.f(t,i=s[A++],e[i]);return t}},"214f":function(t,e,i){"use strict";i("b0c5");var n=i("2aba"),r=i("32e9"),o=i("79e5"),s=i("be13"),a=i("2b4c"),A=i("520a"),c=a("species"),l=!o((function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:"7"},t},"7"!=="".replace(t,"$<a>")})),u=function(){var t=/(?:)/,e=t.exec;t.exec=function(){return e.apply(this,arguments)};var i="ab".split(t);return 2===i.length&&"a"===i[0]&&"b"===i[1]}();t.exports=function(t,e,i){var h=a(t),f=!o((function(){var e={};return e[h]=function(){return 7},7!=""[t](e)})),d=f?!o((function(){var e=!1,i=/a/;return i.exec=function(){return e=!0,null},"split"===t&&(i.constructor={},i.constructor[c]=function(){return i}),i[h](""),!e})):void 0;if(!f||!d||"replace"===t&&!l||"split"===t&&!u){var p=/./[h],g=i(s,h,""[t],(function(t,e,i,n,r){return e.exec===A?f&&!r?{done:!0,value:p.call(e,i,n)}:{done:!0,value:t.call(i,e,n)}:{done:!1}})),v=g[0],m=g[1];n(String.prototype,t,v),r(RegExp.prototype,h,2==e?function(t,e){return m.call(t,this,e)}:function(t){return m.call(t,this)})}}},"230e":function(t,e,i){var n=i("d3f4"),r=i("7726").document,o=n(r)&&n(r.createElement);t.exports=function(t){return o?r.createElement(t):{}}},"23c6":function(t,e,i){var n=i("2d95"),r=i("2b4c")("toStringTag"),o="Arguments"==n(function(){return arguments}()),s=function(t,e){try{return t[e]}catch(i){}};t.exports=function(t){var e,i,a;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(i=s(e=Object(t),r))?i:o?n(e):"Object"==(a=n(e))&&"function"==typeof e.callee?"Arguments":a}},2621:function(t,e){e.f=Object.getOwnPropertySymbols},"2aba":function(t,e,i){var n=i("7726"),r=i("32e9"),o=i("69a8"),s=i("ca5a")("src"),a=i("fa5b"),A="toString",c=(""+a).split(A);i("8378").inspectSource=function(t){return a.call(t)},(t.exports=function(t,e,i,a){var A="function"==typeof i;A&&(o(i,"name")||r(i,"name",e)),t[e]!==i&&(A&&(o(i,s)||r(i,s,t[e]?""+t[e]:c.join(String(e)))),t===n?t[e]=i:a?t[e]?t[e]=i:r(t,e,i):(delete t[e],r(t,e,i)))})(Function.prototype,A,(function(){return"function"==typeof this&&this[s]||a.call(this)}))},"2aeb":function(t,e,i){var n=i("cb7c"),r=i("1495"),o=i("e11e"),s=i("613b")("IE_PROTO"),a=function(){},A="prototype",c=function(){var t,e=i("230e")("iframe"),n=o.length,r="<",s=">";e.style.display="none",i("fab2").appendChild(e),e.src="javascript:",t=e.contentWindow.document,t.open(),t.write(r+"script"+s+"document.F=Object"+r+"/script"+s),t.close(),c=t.F;while(n--)delete c[A][o[n]];return c()};t.exports=Object.create||function(t,e){var i;return null!==t?(a[A]=n(t),i=new a,a[A]=null,i[s]=t):i=c(),void 0===e?i:r(i,e)}},"2b4c":function(t,e,i){var n=i("5537")("wks"),r=i("ca5a"),o=i("7726").Symbol,s="function"==typeof o,a=t.exports=function(t){return n[t]||(n[t]=s&&o[t]||(s?o:r)("Symbol."+t))};a.store=n},"2d00":function(t,e){t.exports=!1},"2d95":function(t,e){var i={}.toString;t.exports=function(t){return i.call(t).slice(8,-1)}},"2fdb":function(t,e,i){"use strict";var n=i("5ca1"),r=i("d2c8"),o="includes";n(n.P+n.F*i("5147")(o),"String",{includes:function(t){return!!~r(this,t,o).indexOf(t,arguments.length>1?arguments[1]:void 0)}})},"32e9":function(t,e,i){var n=i("86cc"),r=i("4630");t.exports=i("9e1e")?function(t,e,i){return n.f(t,e,r(1,i))}:function(t,e,i){return t[e]=i,t}},"38fd":function(t,e,i){var n=i("69a8"),r=i("4bf8"),o=i("613b")("IE_PROTO"),s=Object.prototype;t.exports=Object.getPrototypeOf||function(t){return t=r(t),n(t,o)?t[o]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?s:null}},"41a0":function(t,e,i){"use strict";var n=i("2aeb"),r=i("4630"),o=i("7f20"),s={};i("32e9")(s,i("2b4c")("iterator"),(function(){return this})),t.exports=function(t,e,i){t.prototype=n(s,{next:r(1,i)}),o(t,e+" Iterator")}},"456d":function(t,e,i){var n=i("4bf8"),r=i("0d58");i("5eda")("keys",(function(){return function(t){return r(n(t))}}))},4588:function(t,e){var i=Math.ceil,n=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?n:i)(t)}},4630:function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},"4bf8":function(t,e,i){var n=i("be13");t.exports=function(t){return Object(n(t))}},5147:function(t,e,i){var n=i("2b4c")("match");t.exports=function(t){var e=/./;try{"/./"[t](e)}catch(i){try{return e[n]=!1,!"/./"[t](e)}catch(r){}}return!0}},"520a":function(t,e,i){"use strict";var n=i("0bfb"),r=RegExp.prototype.exec,o=String.prototype.replace,s=r,a="lastIndex",A=function(){var t=/a/,e=/b*/g;return r.call(t,"a"),r.call(e,"a"),0!==t[a]||0!==e[a]}(),c=void 0!==/()??/.exec("")[1],l=A||c;l&&(s=function(t){var e,i,s,l,u=this;return c&&(i=new RegExp("^"+u.source+"$(?!\\s)",n.call(u))),A&&(e=u[a]),s=r.call(u,t),A&&s&&(u[a]=u.global?s.index+s[0].length:e),c&&s&&s.length>1&&o.call(s[0],i,(function(){for(l=1;l<arguments.length-2;l++)void 0===arguments[l]&&(s[l]=void 0)})),s}),t.exports=s},"52a7":function(t,e){e.f={}.propertyIsEnumerable},5537:function(t,e,i){var n=i("8378"),r=i("7726"),o="__core-js_shared__",s=r[o]||(r[o]={});(t.exports=function(t,e){return s[t]||(s[t]=void 0!==e?e:{})})("versions",[]).push({version:n.version,mode:i("2d00")?"pure":"global",copyright:" 2019 Denis Pushkarev (zloirock.ru)"})},"5ca1":function(t,e,i){var n=i("7726"),r=i("8378"),o=i("32e9"),s=i("2aba"),a=i("9b43"),A="prototype",c=function(t,e,i){var l,u,h,f,d=t&c.F,p=t&c.G,g=t&c.S,v=t&c.P,m=t&c.B,w=p?n:g?n[e]||(n[e]={}):(n[e]||{})[A],y=p?r:r[e]||(r[e]={}),b=y[A]||(y[A]={});for(l in p&&(i=e),i)u=!d&&w&&void 0!==w[l],h=(u?w:i)[l],f=m&&u?a(h,n):v&&"function"==typeof h?a(Function.call,h):h,w&&s(w,l,h,t&c.U),y[l]!=h&&o(y,l,f),v&&b[l]!=h&&(b[l]=h)};n.core=r,c.F=1,c.G=2,c.S=4,c.P=8,c.B=16,c.W=32,c.U=64,c.R=128,t.exports=c},"5eda":function(t,e,i){var n=i("5ca1"),r=i("8378"),o=i("79e5");t.exports=function(t,e){var i=(r.Object||{})[t]||Object[t],s={};s[t]=e(i),n(n.S+n.F*o((function(){i(1)})),"Object",s)}},"5f1b":function(t,e,i){"use strict";var n=i("23c6"),r=RegExp.prototype.exec;t.exports=function(t,e){var i=t.exec;if("function"===typeof i){var o=i.call(t,e);if("object"!==typeof o)throw new TypeError("RegExp exec method returned something other than an Object or null");return o}if("RegExp"!==n(t))throw new TypeError("RegExp#exec called on incompatible receiver");return r.call(t,e)}},"613b":function(t,e,i){var n=i("5537")("keys"),r=i("ca5a");t.exports=function(t){return n[t]||(n[t]=r(t))}},"626a":function(t,e,i){var n=i("2d95");t.exports=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==n(t)?t.split(""):Object(t)}},6762:function(t,e,i){"use strict";var n=i("5ca1"),r=i("c366")(!0);n(n.P,"Array",{includes:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}}),i("9c6c")("includes")},6821:function(t,e,i){var n=i("626a"),r=i("be13");t.exports=function(t){return n(r(t))}},"69a8":function(t,e){var i={}.hasOwnProperty;t.exports=function(t,e){return i.call(t,e)}},"6a99":function(t,e,i){var n=i("d3f4");t.exports=function(t,e){if(!n(t))return t;var i,r;if(e&&"function"==typeof(i=t.toString)&&!n(r=i.call(t)))return r;if("function"==typeof(i=t.valueOf)&&!n(r=i.call(t)))return r;if(!e&&"function"==typeof(i=t.toString)&&!n(r=i.call(t)))return r;throw TypeError("Can't convert object to primitive value")}},7333:function(t,e,i){"use strict";var n=i("0d58"),r=i("2621"),o=i("52a7"),s=i("4bf8"),a=i("626a"),A=Object.assign;t.exports=!A||i("79e5")((function(){var t={},e={},i=Symbol(),n="abcdefghijklmnopqrst";return t[i]=7,n.split("").forEach((function(t){e[t]=t})),7!=A({},t)[i]||Object.keys(A({},e)).join("")!=n}))?function(t,e){var i=s(t),A=arguments.length,c=1,l=r.f,u=o.f;while(A>c){var h,f=a(arguments[c++]),d=l?n(f).concat(l(f)):n(f),p=d.length,g=0;while(p>g)u.call(f,h=d[g++])&&(i[h]=f[h])}return i}:A},7726:function(t,e){var i=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=i)},"77f1":function(t,e,i){var n=i("4588"),r=Math.max,o=Math.min;t.exports=function(t,e){return t=n(t),t<0?r(t+e,0):o(t,e)}},"79e5":function(t,e){t.exports=function(t){try{return!!t()}catch(e){return!0}}},"7f20":function(t,e,i){var n=i("86cc").f,r=i("69a8"),o=i("2b4c")("toStringTag");t.exports=function(t,e,i){t&&!r(t=i?t:t.prototype,o)&&n(t,o,{configurable:!0,value:e})}},8378:function(t,e){var i=t.exports={version:"2.6.5"};"number"==typeof __e&&(__e=i)},"84f2":function(t,e){t.exports={}},"86cc":function(t,e,i){var n=i("cb7c"),r=i("c69a"),o=i("6a99"),s=Object.defineProperty;e.f=i("9e1e")?Object.defineProperty:function(t,e,i){if(n(t),e=o(e,!0),n(i),r)try{return s(t,e,i)}catch(a){}if("get"in i||"set"in i)throw TypeError("Accessors not supported!");return"value"in i&&(t[e]=i.value),t}},"9b43":function(t,e,i){var n=i("d8e8");t.exports=function(t,e,i){if(n(t),void 0===e)return t;switch(i){case 1:return function(i){return t.call(e,i)};case 2:return function(i,n){return t.call(e,i,n)};case 3:return function(i,n,r){return t.call(e,i,n,r)}}return function(){return t.apply(e,arguments)}}},"9c6c":function(t,e,i){var n=i("2b4c")("unscopables"),r=Array.prototype;void 0==r[n]&&i("32e9")(r,n,{}),t.exports=function(t){r[n][t]=!0}},"9def":function(t,e,i){var n=i("4588"),r=Math.min;t.exports=function(t){return t>0?r(n(t),9007199254740991):0}},"9e1e":function(t,e,i){t.exports=!i("79e5")((function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}))},a352:function(e,i){e.exports=t},a481:function(t,e,i){"use strict";var n=i("cb7c"),r=i("4bf8"),o=i("9def"),s=i("4588"),a=i("0390"),A=i("5f1b"),c=Math.max,l=Math.min,u=Math.floor,h=/\$([$&`']|\d\d?|<[^>]*>)/g,f=/\$([$&`']|\d\d?)/g,d=function(t){return void 0===t?t:String(t)};i("214f")("replace",2,(function(t,e,i,p){return[function(n,r){var o=t(this),s=void 0==n?void 0:n[e];return void 0!==s?s.call(n,o,r):i.call(String(o),n,r)},function(t,e){var r=p(i,t,this,e);if(r.done)return r.value;var u=n(t),h=String(this),f="function"===typeof e;f||(e=String(e));var v=u.global;if(v){var m=u.unicode;u.lastIndex=0}var w=[];while(1){var y=A(u,h);if(null===y)break;if(w.push(y),!v)break;var b=String(y[0]);""===b&&(u.lastIndex=a(h,o(u.lastIndex),m))}for(var B="",C=0,E=0;E<w.length;E++){y=w[E];for(var x=String(y[0]),_=c(l(s(y.index),h.length),0),S=[],T=1;T<y.length;T++)S.push(d(y[T]));var F=y.groups;if(f){var Q=[x].concat(S,_,h);void 0!==F&&Q.push(F);var U=String(e.apply(void 0,Q))}else U=g(x,h,_,S,F,e);_>=C&&(B+=h.slice(C,_)+U,C=_+x.length)}return B+h.slice(C)}];function g(t,e,n,o,s,a){var A=n+t.length,c=o.length,l=f;return void 0!==s&&(s=r(s),l=h),i.call(a,l,(function(i,r){var a;switch(r.charAt(0)){case"$":return"$";case"&":return t;case"`":return e.slice(0,n);case"'":return e.slice(A);case"<":a=s[r.slice(1,-1)];break;default:var l=+r;if(0===l)return i;if(l>c){var h=u(l/10);return 0===h?i:h<=c?void 0===o[h-1]?r.charAt(1):o[h-1]+r.charAt(1):i}a=o[l-1]}return void 0===a?"":a}))}}))},aae3:function(t,e,i){var n=i("d3f4"),r=i("2d95"),o=i("2b4c")("match");t.exports=function(t){var e;return n(t)&&(void 0!==(e=t[o])?!!e:"RegExp"==r(t))}},ac6a:function(t,e,i){for(var n=i("cadf"),r=i("0d58"),o=i("2aba"),s=i("7726"),a=i("32e9"),A=i("84f2"),c=i("2b4c"),l=c("iterator"),u=c("toStringTag"),h=A.Array,f={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},d=r(f),p=0;p<d.length;p++){var g,v=d[p],m=f[v],w=s[v],y=w&&w.prototype;if(y&&(y[l]||a(y,l,h),y[u]||a(y,u,v),A[v]=h,m))for(g in n)y[g]||o(y,g,n[g],!0)}},b0c5:function(t,e,i){"use strict";var n=i("520a");i("5ca1")({target:"RegExp",proto:!0,forced:n!==/./.exec},{exec:n})},be13:function(t,e){t.exports=function(t){if(void 0==t)throw TypeError("Can't call method on  "+t);return t}},c366:function(t,e,i){var n=i("6821"),r=i("9def"),o=i("77f1");t.exports=function(t){return function(e,i,s){var a,A=n(e),c=r(A.length),l=o(s,c);if(t&&i!=i){while(c>l)if(a=A[l++],a!=a)return!0}else for(;c>l;l++)if((t||l in A)&&A[l]===i)return t||l||0;return!t&&-1}}},c649:function(t,e,i){"use strict";(function(t){i.d(e,"c",(function(){return c})),i.d(e,"a",(function(){return a})),i.d(e,"b",(function(){return r})),i.d(e,"d",(function(){return A}));i("a481");function n(){return"undefined"!==typeof window?window.console:t.console}var r=n();function o(t){var e=Object.create(null);return function(i){var n=e[i];return n||(e[i]=t(i))}}var s=/-(\w)/g,a=o((function(t){return t.replace(s,(function(t,e){return e?e.toUpperCase():""}))}));function A(t){null!==t.parentElement&&t.parentElement.removeChild(t)}function c(t,e,i){var n=0===i?t.children[0]:t.children[i-1].nextSibling;t.insertBefore(e,n)}}).call(this,i("c8ba"))},c69a:function(t,e,i){t.exports=!i("9e1e")&&!i("79e5")((function(){return 7!=Object.defineProperty(i("230e")("div"),"a",{get:function(){return 7}}).a}))},c8ba:function(t,e){var i;i=function(){return this}();try{i=i||new Function("return this")()}catch(n){"object"===typeof window&&(i=window)}t.exports=i},ca5a:function(t,e){var i=0,n=Math.random();t.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++i+n).toString(36))}},cadf:function(t,e,i){"use strict";var n=i("9c6c"),r=i("d53b"),o=i("84f2"),s=i("6821");t.exports=i("01f9")(Array,"Array",(function(t,e){this._t=s(t),this._i=0,this._k=e}),(function(){var t=this._t,e=this._k,i=this._i++;return!t||i>=t.length?(this._t=void 0,r(1)):r(0,"keys"==e?i:"values"==e?t[i]:[i,t[i]])}),"values"),o.Arguments=o.Array,n("keys"),n("values"),n("entries")},cb7c:function(t,e,i){var n=i("d3f4");t.exports=function(t){if(!n(t))throw TypeError(t+" is not an object!");return t}},ce10:function(t,e,i){var n=i("69a8"),r=i("6821"),o=i("c366")(!1),s=i("613b")("IE_PROTO");t.exports=function(t,e){var i,a=r(t),A=0,c=[];for(i in a)i!=s&&n(a,i)&&c.push(i);while(e.length>A)n(a,i=e[A++])&&(~o(c,i)||c.push(i));return c}},d2c8:function(t,e,i){var n=i("aae3"),r=i("be13");t.exports=function(t,e,i){if(n(e))throw TypeError("String#"+i+" doesn't accept regex!");return String(r(t))}},d3f4:function(t,e){t.exports=function(t){return"object"===typeof t?null!==t:"function"===typeof t}},d53b:function(t,e){t.exports=function(t,e){return{value:e,done:!!t}}},d8e8:function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},e11e:function(t,e){t.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},f559:function(t,e,i){"use strict";var n=i("5ca1"),r=i("9def"),o=i("d2c8"),s="startsWith",a=""[s];n(n.P+n.F*i("5147")(s),"String",{startsWith:function(t){var e=o(this,t,s),i=r(Math.min(arguments.length>1?arguments[1]:void 0,e.length)),n=String(t);return a?a.call(e,n,i):e.slice(i,i+n.length)===n}})},f6fd:function(t,e){(function(t){var e="currentScript",i=t.getElementsByTagName("script");e in t||Object.defineProperty(t,e,{get:function(){try{throw new Error}catch(n){var t,e=(/.*at [^\(]*\((.*):.+:.+\)$/gi.exec(n.stack)||[!1])[1];for(t in i)if(i[t].src==e||"interactive"==i[t].readyState)return i[t];return null}}})})(document)},f751:function(t,e,i){var n=i("5ca1");n(n.S+n.F,"Object",{assign:i("7333")})},fa5b:function(t,e,i){t.exports=i("5537")("native-function-to-string",Function.toString)},fab2:function(t,e,i){var n=i("7726").document;t.exports=n&&n.documentElement},fb15:function(t,e,i){"use strict";var n;(i.r(e),"undefined"!==typeof window)&&(i("f6fd"),(n=window.document.currentScript)&&(n=n.src.match(/(.+\/)[^/]+\.js(\?.*)?$/))&&(i.p=n[1]));i("f751"),i("f559"),i("ac6a"),i("cadf"),i("456d");function r(t){if(Array.isArray(t))return t}function o(t,e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t)){var i=[],n=!0,r=!1,o=void 0;try{for(var s,a=t[Symbol.iterator]();!(n=(s=a.next()).done);n=!0)if(i.push(s.value),e&&i.length===e)break}catch(A){r=!0,o=A}finally{try{n||null==a["return"]||a["return"]()}finally{if(r)throw o}}return i}}function s(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,n=new Array(e);i<e;i++)n[i]=t[i];return n}function a(t,e){if(t){if("string"===typeof t)return s(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);return"Object"===i&&t.constructor&&(i=t.constructor.name),"Map"===i||"Set"===i?Array.from(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?s(t,e):void 0}}function A(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function c(t,e){return r(t)||o(t,e)||a(t,e)||A()}i("6762"),i("2fdb");function l(t){if(Array.isArray(t))return s(t)}function u(t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}function h(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function f(t){return l(t)||u(t)||a(t)||h()}var d=i("a352"),p=i.n(d),g=i("c649");function v(t,e,i){return void 0===i||(t=t||{},t[e]=i),t}function m(t,e){return t.map((function(t){return t.elm})).indexOf(e)}function w(t,e,i,n){if(!t)return[];var r=t.map((function(t){return t.elm})),o=e.length-n,s=f(e).map((function(t,e){return e>=o?r.length:r.indexOf(t)}));return i?s.filter((function(t){return-1!==t})):s}function y(t,e){var i=this;this.$nextTick((function(){return i.$emit(t.toLowerCase(),e)}))}function b(t){var e=this;return function(i){null!==e.realList&&e["onDrag"+t](i),y.call(e,t,i)}}function B(t){return["transition-group","TransitionGroup"].includes(t)}function C(t){if(!t||1!==t.length)return!1;var e=c(t,1),i=e[0].componentOptions;return!!i&&B(i.tag)}function E(t,e,i){return t[i]||(e[i]?e[i]():void 0)}function x(t,e,i){var n=0,r=0,o=E(e,i,"header");o&&(n=o.length,t=t?[].concat(f(o),f(t)):f(o));var s=E(e,i,"footer");return s&&(r=s.length,t=t?[].concat(f(t),f(s)):f(s)),{children:t,headerOffset:n,footerOffset:r}}function _(t,e){var i=null,n=function(t,e){i=v(i,t,e)},r=Object.keys(t).filter((function(t){return"id"===t||t.startsWith("data-")})).reduce((function(e,i){return e[i]=t[i],e}),{});if(n("attrs",r),!e)return i;var o=e.on,s=e.props,a=e.attrs;return n("on",o),n("props",s),Object.assign(i.attrs,a),i}var S=["Start","Add","Remove","Update","End"],T=["Choose","Unchoose","Sort","Filter","Clone"],F=["Move"].concat(S,T).map((function(t){return"on"+t})),Q=null,U={options:Object,list:{type:Array,required:!1,default:null},value:{type:Array,required:!1,default:null},noTransitionOnDrag:{type:Boolean,default:!1},clone:{type:Function,default:function(t){return t}},element:{type:String,default:"div"},tag:{type:String,default:null},move:{type:Function,default:null},componentData:{type:Object,required:!1,default:null}},O={name:"draggable",inheritAttrs:!1,props:U,data:function(){return{transitionMode:!1,noneFunctionalComponentMode:!1}},render:function(t){var e=this.$slots.default;this.transitionMode=C(e);var i=x(e,this.$slots,this.$scopedSlots),n=i.children,r=i.headerOffset,o=i.footerOffset;this.headerOffset=r,this.footerOffset=o;var s=_(this.$attrs,this.componentData);return t(this.getTag(),s,n)},created:function(){null!==this.list&&null!==this.value&&g["b"].error("Value and list props are mutually exclusive! Please set one or another."),"div"!==this.element&&g["b"].warn("Element props is deprecated please use tag props instead. See https://github.com/SortableJS/Vue.Draggable/blob/master/documentation/migrate.md#element-props"),void 0!==this.options&&g["b"].warn("Options props is deprecated, add sortable options directly as vue.draggable item, or use v-bind. See https://github.com/SortableJS/Vue.Draggable/blob/master/documentation/migrate.md#options-props")},mounted:function(){var t=this;if(this.noneFunctionalComponentMode=this.getTag().toLowerCase()!==this.$el.nodeName.toLowerCase()&&!this.getIsFunctional(),this.noneFunctionalComponentMode&&this.transitionMode)throw new Error("Transition-group inside component is not supported. Please alter tag value or remove transition-group. Current tag value: ".concat(this.getTag()));var e={};S.forEach((function(i){e["on"+i]=b.call(t,i)})),T.forEach((function(i){e["on"+i]=y.bind(t,i)}));var i=Object.keys(this.$attrs).reduce((function(e,i){return e[Object(g["a"])(i)]=t.$attrs[i],e}),{}),n=Object.assign({},this.options,i,e,{onMove:function(e,i){return t.onDragMove(e,i)}});!("draggable"in n)&&(n.draggable=">*"),this._sortable=new p.a(this.rootContainer,n),this.computeIndexes()},beforeDestroy:function(){void 0!==this._sortable&&this._sortable.destroy()},computed:{rootContainer:function(){return this.transitionMode?this.$el.children[0]:this.$el},realList:function(){return this.list?this.list:this.value}},watch:{options:{handler:function(t){this.updateOptions(t)},deep:!0},$attrs:{handler:function(t){this.updateOptions(t)},deep:!0},realList:function(){this.computeIndexes()}},methods:{getIsFunctional:function(){var t=this._vnode.fnOptions;return t&&t.functional},getTag:function(){return this.tag||this.element},updateOptions:function(t){for(var e in t){var i=Object(g["a"])(e);-1===F.indexOf(i)&&this._sortable.option(i,t[e])}},getChildrenNodes:function(){if(this.noneFunctionalComponentMode)return this.$children[0].$slots.default;var t=this.$slots.default;return this.transitionMode?t[0].child.$slots.default:t},computeIndexes:function(){var t=this;this.$nextTick((function(){t.visibleIndexes=w(t.getChildrenNodes(),t.rootContainer.children,t.transitionMode,t.footerOffset)}))},getUnderlyingVm:function(t){var e=m(this.getChildrenNodes()||[],t);if(-1===e)return null;var i=this.realList[e];return{index:e,element:i}},getUnderlyingPotencialDraggableComponent:function(t){var e=t.__vue__;return e&&e.$options&&B(e.$options._componentTag)?e.$parent:!("realList"in e)&&1===e.$children.length&&"realList"in e.$children[0]?e.$children[0]:e},emitChanges:function(t){var e=this;this.$nextTick((function(){e.$emit("change",t)}))},alterList:function(t){if(this.list)t(this.list);else{var e=f(this.value);t(e),this.$emit("input",e)}},spliceList:function(){var t=arguments,e=function(e){return e.splice.apply(e,f(t))};this.alterList(e)},updatePosition:function(t,e){var i=function(i){return i.splice(e,0,i.splice(t,1)[0])};this.alterList(i)},getRelatedContextFromMoveEvent:function(t){var e=t.to,i=t.related,n=this.getUnderlyingPotencialDraggableComponent(e);if(!n)return{component:n};var r=n.realList,o={list:r,component:n};if(e!==i&&r&&n.getUnderlyingVm){var s=n.getUnderlyingVm(i);if(s)return Object.assign(s,o)}return o},getVmIndex:function(t){var e=this.visibleIndexes,i=e.length;return t>i-1?i:e[t]},getComponent:function(){return this.$slots.default[0].componentInstance},resetTransitionData:function(t){if(this.noTransitionOnDrag&&this.transitionMode){var e=this.getChildrenNodes();e[t].data=null;var i=this.getComponent();i.children=[],i.kept=void 0}},onDragStart:function(t){this.context=this.getUnderlyingVm(t.item),t.item._underlying_vm_=this.clone(this.context.element),Q=t.item},onDragAdd:function(t){var e=t.item._underlying_vm_;if(void 0!==e){Object(g["d"])(t.item);var i=this.getVmIndex(t.newIndex);this.spliceList(i,0,e),this.computeIndexes();var n={element:e,newIndex:i};this.emitChanges({added:n})}},onDragRemove:function(t){if(Object(g["c"])(this.rootContainer,t.item,t.oldIndex),"clone"!==t.pullMode){var e=this.context.index;this.spliceList(e,1);var i={element:this.context.element,oldIndex:e};this.resetTransitionData(e),this.emitChanges({removed:i})}else Object(g["d"])(t.clone)},onDragUpdate:function(t){Object(g["d"])(t.item),Object(g["c"])(t.from,t.item,t.oldIndex);var e=this.context.index,i=this.getVmIndex(t.newIndex);this.updatePosition(e,i);var n={element:this.context.element,oldIndex:e,newIndex:i};this.emitChanges({moved:n})},updateProperty:function(t,e){t.hasOwnProperty(e)&&(t[e]+=this.headerOffset)},computeFutureIndex:function(t,e){if(!t.element)return 0;var i=f(e.to.children).filter((function(t){return"none"!==t.style["display"]})),n=i.indexOf(e.related),r=t.component.getVmIndex(n),o=-1!==i.indexOf(Q);return o||!e.willInsertAfter?r:r+1},onDragMove:function(t,e){var i=this.move;if(!i||!this.realList)return!0;var n=this.getRelatedContextFromMoveEvent(t),r=this.context,o=this.computeFutureIndex(n,t);Object.assign(r,{futureIndex:o});var s=Object.assign({},t,{relatedContext:n,draggedContext:r});return i(s,e)},onDragEnd:function(){this.computeIndexes(),Q=null}}};"undefined"!==typeof window&&"Vue"in window&&window.Vue.component("draggable",O);var H=O;e["default"]=H}})["default"]}))},bcc1:function(t,e,i){var n=i("6540");t.exports=n("document","documentElement")},c04e:function(t,e,i){var n=i("861d");t.exports=function(t,e){if(!n(t))return t;var i,r;if(e&&"function"==typeof(i=t.toString)&&!n(r=i.call(t)))return r;if("function"==typeof(i=t.valueOf)&&!n(r=i.call(t)))return r;if(!e&&"function"==typeof(i=t.toString)&&!n(r=i.call(t)))return r;throw TypeError("Can't convert object to primitive value")}},c0e9:function(t,e,i){
/*!
 * html2canvas 1.0.0-rc.7 <https://html2canvas.hertzen.com>
 * Copyright (c) 2020 Niklas von Hertzen <https://hertzen.com>
 * Released under MIT License
 */
(function(e,i){t.exports=i()})(0,(function(){"use strict";
/*! *****************************************************************************
    Copyright (c) Microsoft Corporation. All rights reserved.
    Licensed under the Apache License, Version 2.0 (the "License"); you may not use
    this file except in compliance with the License. You may obtain a copy of the
    License at http://www.apache.org/licenses/LICENSE-2.0

    THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
    KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
    WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
    MERCHANTABLITY OR NON-INFRINGEMENT.

    See the Apache Version 2.0 License for specific language governing permissions
    and limitations under the License.
    ***************************************************************************** */var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},t(e,i)};function e(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}var i=function(){return i=Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++)for(var r in e=arguments[i],e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},i.apply(this,arguments)};function n(t,e,i,n){return new(i||(i=Promise))((function(r,o){function s(t){try{A(n.next(t))}catch(Me){o(Me)}}function a(t){try{A(n["throw"](t))}catch(Me){o(Me)}}function A(t){t.done?r(t.value):new i((function(e){e(t.value)})).then(s,a)}A((n=n.apply(t,e||[])).next())}))}function r(t,e){var i,n,r,o,s={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(t){return function(e){return A([t,e])}}function A(o){if(i)throw new TypeError("Generator is already executing.");while(s)try{if(i=1,n&&(r=2&o[0]?n["return"]:o[0]?n["throw"]||((r=n["return"])&&r.call(n),0):n.next)&&!(r=r.call(n,o[1])).done)return r;switch(n=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,n=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(r=s.trys,!(r=r.length>0&&r[r.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){s.label=o[1];break}if(6===o[0]&&s.label<r[1]){s.label=r[1],r=o;break}if(r&&s.label<r[2]){s.label=r[2],s.ops.push(o);break}r[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(Me){o=[6,Me],n=0}finally{i=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}}for(var o=function(){function t(t,e,i,n){this.left=t,this.top=e,this.width=i,this.height=n}return t.prototype.add=function(e,i,n,r){return new t(this.left+e,this.top+i,this.width+n,this.height+r)},t.fromClientRect=function(e){return new t(e.left,e.top,e.width,e.height)},t}(),s=function(t){return o.fromClientRect(t.getBoundingClientRect())},a=function(t){var e=t.body,i=t.documentElement;if(!e||!i)throw new Error("Unable to get document size");var n=Math.max(Math.max(e.scrollWidth,i.scrollWidth),Math.max(e.offsetWidth,i.offsetWidth),Math.max(e.clientWidth,i.clientWidth)),r=Math.max(Math.max(e.scrollHeight,i.scrollHeight),Math.max(e.offsetHeight,i.offsetHeight),Math.max(e.clientHeight,i.clientHeight));return new o(0,0,n,r)},A=function(t){var e=[],i=0,n=t.length;while(i<n){var r=t.charCodeAt(i++);if(r>=55296&&r<=56319&&i<n){var o=t.charCodeAt(i++);56320===(64512&o)?e.push(((1023&r)<<10)+(1023&o)+65536):(e.push(r),i--)}else e.push(r)}return e},c=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(String.fromCodePoint)return String.fromCodePoint.apply(String,t);var i=t.length;if(!i)return"";var n=[],r=-1,o="";while(++r<i){var s=t[r];s<=65535?n.push(s):(s-=65536,n.push(55296+(s>>10),s%1024+56320)),(r+1===i||n.length>16384)&&(o+=String.fromCharCode.apply(String,n),n.length=0)}return o},l="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",u="undefined"===typeof Uint8Array?[]:new Uint8Array(256),h=0;h<l.length;h++)u[l.charCodeAt(h)]=h;var f,d=function(t){var e,i,n,r,o,s=.75*t.length,a=t.length,A=0;"="===t[t.length-1]&&(s--,"="===t[t.length-2]&&s--);var c="undefined"!==typeof ArrayBuffer&&"undefined"!==typeof Uint8Array&&"undefined"!==typeof Uint8Array.prototype.slice?new ArrayBuffer(s):new Array(s),l=Array.isArray(c)?c:new Uint8Array(c);for(e=0;e<a;e+=4)i=u[t.charCodeAt(e)],n=u[t.charCodeAt(e+1)],r=u[t.charCodeAt(e+2)],o=u[t.charCodeAt(e+3)],l[A++]=i<<2|n>>4,l[A++]=(15&n)<<4|r>>2,l[A++]=(3&r)<<6|63&o;return c},p=function(t){for(var e=t.length,i=[],n=0;n<e;n+=2)i.push(t[n+1]<<8|t[n]);return i},g=function(t){for(var e=t.length,i=[],n=0;n<e;n+=4)i.push(t[n+3]<<24|t[n+2]<<16|t[n+1]<<8|t[n]);return i},v=5,m=11,w=2,y=m-v,b=65536>>v,B=1<<v,C=B-1,E=1024>>v,x=b+E,_=x,S=32,T=_+S,F=65536>>m,Q=1<<y,U=Q-1,O=function(t,e,i){return t.slice?t.slice(e,i):new Uint16Array(Array.prototype.slice.call(t,e,i))},H=function(t,e,i){return t.slice?t.slice(e,i):new Uint32Array(Array.prototype.slice.call(t,e,i))},D=function(t){var e=d(t),i=Array.isArray(e)?g(e):new Uint32Array(e),n=Array.isArray(e)?p(e):new Uint16Array(e),r=24,o=O(n,r/2,i[4]/2),s=2===i[5]?O(n,(r+i[4])/2):H(i,Math.ceil((r+i[4])/4));return new I(i[0],i[1],i[2],i[3],o,s)},I=function(){function t(t,e,i,n,r,o){this.initialValue=t,this.errorValue=e,this.highStart=i,this.highValueIndex=n,this.index=r,this.data=o}return t.prototype.get=function(t){var e;if(t>=0){if(t<55296||t>56319&&t<=65535)return e=this.index[t>>v],e=(e<<w)+(t&C),this.data[e];if(t<=65535)return e=this.index[b+(t-55296>>v)],e=(e<<w)+(t&C),this.data[e];if(t<this.highStart)return e=T-F+(t>>m),e=this.index[e],e+=t>>v&U,e=this.index[e],e=(e<<w)+(t&C),this.data[e];if(t<=1114111)return this.data[this.highValueIndex]}return this.errorValue},t}(),k="KwAAAAAAAAAACA4AIDoAAPAfAAACAAAAAAAIABAAGABAAEgAUABYAF4AZgBeAGYAYABoAHAAeABeAGYAfACEAIAAiACQAJgAoACoAK0AtQC9AMUAXgBmAF4AZgBeAGYAzQDVAF4AZgDRANkA3gDmAOwA9AD8AAQBDAEUARoBIgGAAIgAJwEvATcBPwFFAU0BTAFUAVwBZAFsAXMBewGDATAAiwGTAZsBogGkAawBtAG8AcIBygHSAdoB4AHoAfAB+AH+AQYCDgIWAv4BHgImAi4CNgI+AkUCTQJTAlsCYwJrAnECeQKBAk0CiQKRApkCoQKoArACuALAAsQCzAIwANQC3ALkAjAA7AL0AvwCAQMJAxADGAMwACADJgMuAzYDPgOAAEYDSgNSA1IDUgNaA1oDYANiA2IDgACAAGoDgAByA3YDfgOAAIQDgACKA5IDmgOAAIAAogOqA4AAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAK8DtwOAAIAAvwPHA88D1wPfAyAD5wPsA/QD/AOAAIAABAQMBBIEgAAWBB4EJgQuBDMEIAM7BEEEXgBJBCADUQRZBGEEaQQwADAAcQQ+AXkEgQSJBJEEgACYBIAAoASoBK8EtwQwAL8ExQSAAIAAgACAAIAAgACgAM0EXgBeAF4AXgBeAF4AXgBeANUEXgDZBOEEXgDpBPEE+QQBBQkFEQUZBSEFKQUxBTUFPQVFBUwFVAVcBV4AYwVeAGsFcwV7BYMFiwWSBV4AmgWgBacFXgBeAF4AXgBeAKsFXgCyBbEFugW7BcIFwgXIBcIFwgXQBdQF3AXkBesF8wX7BQMGCwYTBhsGIwYrBjMGOwZeAD8GRwZNBl4AVAZbBl4AXgBeAF4AXgBeAF4AXgBeAF4AXgBeAGMGXgBqBnEGXgBeAF4AXgBeAF4AXgBeAF4AXgB5BoAG4wSGBo4GkwaAAIADHgR5AF4AXgBeAJsGgABGA4AAowarBrMGswagALsGwwbLBjAA0wbaBtoG3QbaBtoG2gbaBtoG2gblBusG8wb7BgMHCwcTBxsHCwcjBysHMAc1BzUHOgdCB9oGSgdSB1oHYAfaBloHaAfaBlIH2gbaBtoG2gbaBtoG2gbaBjUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHbQdeAF4ANQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQd1B30HNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1B4MH2gaKB68EgACAAIAAgACAAIAAgACAAI8HlwdeAJ8HpweAAIAArwe3B14AXgC/B8UHygcwANAH2AfgB4AA6AfwBz4B+AcACFwBCAgPCBcIogEYAR8IJwiAAC8INwg/CCADRwhPCFcIXwhnCEoDGgSAAIAAgABvCHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIhAiLCI4IMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlggwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAANQc1BzUHNQc1BzUHNQc1BzUHNQc1B54INQc1B6II2gaqCLIIugiAAIAAvgjGCIAAgACAAIAAgACAAIAAgACAAIAAywiHAYAA0wiAANkI3QjlCO0I9Aj8CIAAgACAAAIJCgkSCRoJIgknCTYHLwk3CZYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiAAIAAAAFAAXgBeAGAAcABeAHwAQACQAKAArQC9AJ4AXgBeAE0A3gBRAN4A7AD8AMwBGgEAAKcBNwEFAUwBXAF4QkhCmEKnArcCgAHHAsABz4LAAcABwAHAAd+C6ABoAG+C/4LAAcABwAHAAc+DF4MAAcAB54M3gweDV4Nng3eDaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAEeDqABVg6WDqABoQ6gAaABoAHXDvcONw/3DvcO9w73DvcO9w73DvcO9w73DvcO9w73DvcO9w73DvcO9w73DvcO9w73DvcO9w73DvcO9w73DvcO9w73DncPAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcAB7cPPwlGCU4JMACAAIAAgABWCV4JYQmAAGkJcAl4CXwJgAkwADAAMAAwAIgJgACLCZMJgACZCZ8JowmrCYAAswkwAF4AXgB8AIAAuwkABMMJyQmAAM4JgADVCTAAMAAwADAAgACAAIAAgACAAIAAgACAAIAAqwYWBNkIMAAwADAAMADdCeAJ6AnuCR4E9gkwAP4JBQoNCjAAMACAABUK0wiAAB0KJAosCjQKgAAwADwKQwqAAEsKvQmdCVMKWwowADAAgACAALcEMACAAGMKgABrCjAAMAAwADAAMAAwADAAMAAwADAAMAAeBDAAMAAwADAAMAAwADAAMAAwADAAMAAwAIkEPQFzCnoKiQSCCooKkAqJBJgKoAqkCokEGAGsCrQKvArBCjAAMADJCtEKFQHZCuEK/gHpCvEKMAAwADAAMACAAIwE+QowAIAAPwEBCzAAMAAwADAAMACAAAkLEQswAIAAPwEZCyELgAAOCCkLMAAxCzkLMAAwADAAMAAwADAAXgBeAEELMAAwADAAMAAwADAAMAAwAEkLTQtVC4AAXAtkC4AAiQkwADAAMAAwADAAMAAwADAAbAtxC3kLgAuFC4sLMAAwAJMLlwufCzAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAApwswADAAMACAAIAAgACvC4AAgACAAIAAgACAALcLMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAvwuAAMcLgACAAIAAgACAAIAAyguAAIAAgACAAIAA0QswADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAANkLgACAAIAA4AswADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACJCR4E6AswADAAhwHwC4AA+AsADAgMEAwwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMACAAIAAGAwdDCUMMAAwAC0MNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQw1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHPQwwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADUHNQc1BzUHNQc1BzUHNQc2BzAAMAA5DDUHNQc1BzUHNQc1BzUHNQc1BzUHNQdFDDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAgACAAIAATQxSDFoMMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAF4AXgBeAF4AXgBeAF4AYgxeAGoMXgBxDHkMfwxeAIUMXgBeAI0MMAAwADAAMAAwAF4AXgCVDJ0MMAAwADAAMABeAF4ApQxeAKsMswy7DF4Awgy9DMoMXgBeAF4AXgBeAF4AXgBeAF4AXgDRDNkMeQBqCeAM3Ax8AOYM7Az0DPgMXgBeAF4AXgBeAF4AXgBeAF4AXgBeAF4AXgBeAF4AXgCgAAANoAAHDQ4NFg0wADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAeDSYNMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIAAgACAAIAAgACAAC4NMABeAF4ANg0wADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAD4NRg1ODVYNXg1mDTAAbQ0wADAAMAAwADAAMAAwADAA2gbaBtoG2gbaBtoG2gbaBnUNeg3CBYANwgWFDdoGjA3aBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gaUDZwNpA2oDdoG2gawDbcNvw3HDdoG2gbPDdYN3A3fDeYN2gbsDfMN2gbaBvoN/g3aBgYODg7aBl4AXgBeABYOXgBeACUG2gYeDl4AJA5eACwO2w3aBtoGMQ45DtoG2gbaBtoGQQ7aBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gZJDjUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1B1EO2gY1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQdZDjUHNQc1BzUHNQc1B2EONQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHaA41BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1B3AO2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gY1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1B2EO2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gZJDtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBkkOeA6gAKAAoAAwADAAMAAwAKAAoACgAKAAoACgAKAAgA4wADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAD//wQABAAEAAQABAAEAAQABAAEAA0AAwABAAEAAgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAKABMAFwAeABsAGgAeABcAFgASAB4AGwAYAA8AGAAcAEsASwBLAEsASwBLAEsASwBLAEsAGAAYAB4AHgAeABMAHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAFgAbABIAHgAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABYADQARAB4ABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAUABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAkAFgAaABsAGwAbAB4AHQAdAB4ATwAXAB4ADQAeAB4AGgAbAE8ATwAOAFAAHQAdAB0ATwBPABcATwBPAE8AFgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAB4AUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAFAATwBAAE8ATwBPAEAATwBQAFAATwBQAB4AHgAeAB4AHgAeAB0AHQAdAB0AHgAdAB4ADgBQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgBQAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAkACQAJAAkACQAJAAkABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAFAAHgAeAB4AKwArAFAAUABQAFAAGABQACsAKwArACsAHgAeAFAAHgBQAFAAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUAAeAB4AHgAeAB4AHgArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAYAA0AKwArAB4AHgAbACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAB4ABAAEAB4ABAAEABMABAArACsAKwArACsAKwArACsAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAKwArACsAKwArAFYAVgBWAB4AHgArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AGgAaABoAGAAYAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQAEwAEACsAEwATAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABLAEsASwBLAEsASwBLAEsASwBLABoAGQAZAB4AUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABMAUAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABABQAFAABAAEAB4ABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUAAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAFAABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQAUABQAB4AHgAYABMAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAFAABAAEAAQABAAEAFAABAAEAAQAUAAEAAQABAAEAAQAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArACsAHgArAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAAQABAANAA0ASwBLAEsASwBLAEsASwBLAEsASwAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQAKwBQAFAAUABQAFAAUABQAFAAKwArAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAKwArACsAUABQAFAAUAArACsABABQAAQABAAEAAQABAAEAAQAKwArAAQABAArACsABAAEAAQAUAArACsAKwArACsAKwArACsABAArACsAKwArAFAAUAArAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAGgAaAFAAUABQAFAAUABMAB4AGwBQAB4AKwArACsABAAEAAQAKwBQAFAAUABQAFAAUAArACsAKwArAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUAArAFAAUAArAFAAUAArACsABAArAAQABAAEAAQABAArACsAKwArAAQABAArACsABAAEAAQAKwArACsABAArACsAKwArACsAKwArAFAAUABQAFAAKwBQACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwAEAAQAUABQAFAABAArACsAKwArACsAKwArACsAKwArACsABAAEAAQAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUAArAFAAUABQAFAAUAArACsABABQAAQABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQAKwArAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwAeABsAKwArACsAKwArACsAKwBQAAQABAAEAAQABAAEACsABAAEAAQAKwBQAFAAUABQAFAAUABQAFAAKwArAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAKwArAAQABAArACsABAAEAAQAKwArACsAKwArACsAKwArAAQABAArACsAKwArAFAAUAArAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwAeAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwAEAFAAKwBQAFAAUABQAFAAUAArACsAKwBQAFAAUAArAFAAUABQAFAAKwArACsAUABQACsAUAArAFAAUAArACsAKwBQAFAAKwArACsAUABQAFAAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAAQABAAEAAQAKwArACsABAAEAAQAKwAEAAQABAAEACsAKwBQACsAKwArACsAKwArAAQAKwArACsAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAB4AHgAeAB4AHgAeABsAHgArACsAKwArACsABAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABAArACsAKwArACsAKwArAAQABAArAFAAUABQACsAKwArACsAKwBQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAB4AUAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABAArACsAKwArACsAKwArAAQABAArACsAKwArACsAKwArAFAAKwBQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABABQAB4AKwArACsAKwBQAFAAUAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQABoAUABQAFAAUABQAFAAKwArAAQABAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQACsAUAArACsAUABQAFAAUABQAFAAUAArACsAKwAEACsAKwArACsABAAEAAQABAAEAAQAKwAEACsABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArAAQABAAeACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAXAAqACoAKgAqACoAKgAqACsAKwArACsAGwBcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAeAEsASwBLAEsASwBLAEsASwBLAEsADQANACsAKwArACsAKwBcAFwAKwBcACsAKwBcAFwAKwBcACsAKwBcACsAKwArACsAKwArAFwAXABcAFwAKwBcAFwAXABcAFwAXABcACsAXABcAFwAKwBcACsAXAArACsAXABcACsAXABcAFwAXAAqAFwAXAAqACoAKgAqACoAKgArACoAKgBcACsAKwBcAFwAXABcAFwAKwBcACsAKgAqACoAKgAqACoAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArAFwAXABcAFwAUAAOAA4ADgAOAB4ADgAOAAkADgAOAA0ACQATABMAEwATABMACQAeABMAHgAeAB4ABAAEAB4AHgAeAB4AHgAeAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUAANAAQAHgAEAB4ABAAWABEAFgARAAQABABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAANAAQABAAEAAQABAANAAQABABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsADQANAB4AHgAeAB4AHgAeAAQAHgAeAB4AHgAeAB4AKwAeAB4ADgAOAA0ADgAeAB4AHgAeAB4ACQAJACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqAFwASwBLAEsASwBLAEsASwBLAEsASwANAA0AHgAeAB4AHgBcAFwAXABcAFwAXAAqACoAKgAqAFwAXABcAFwAKgAqACoAXAAqACoAKgBcAFwAKgAqACoAKgAqACoAKgBcAFwAXAAqACoAKgAqAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgAqACoAXAAqAEsASwBLAEsASwBLAEsASwBLAEsAKgAqACoAKgAqACoAUABQAFAAUABQAFAAKwBQACsAKwArACsAKwBQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQACsAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwAEAAQABAAeAA0AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQACsAKwANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABYAEQArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAADQANAA0AUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAABAAEAAQAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAA0ADQArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQACsABAAEACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoADQANABUAXAANAB4ADQAbAFwAKgArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArAB4AHgATABMADQANAA4AHgATABMAHgAEAAQABAAJACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAUABQAFAAUABQAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABABQACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwAeACsAKwArABMAEwBLAEsASwBLAEsASwBLAEsASwBLAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAKwBcAFwAXABcAFwAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBcACsAKwArACoAKgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEACsAKwAeAB4AXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgArACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgArACsABABLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKgAqACoAKgAqACoAKgBcACoAKgAqACoAKgAqACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAUABQAFAAUABQAFAAUAArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsADQANAB4ADQANAA0ADQAeAB4AHgAeAB4AHgAeAB4AHgAeAAQABAAEAAQABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAUABQAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAHgAeAB4AHgBQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwANAA0ADQANAA0ASwBLAEsASwBLAEsASwBLAEsASwArACsAKwBQAFAAUABLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAA0AUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsABAAEAAQAHgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAUABQAFAABABQAFAAUABQAAQABAAEAFAAUAAEAAQABAArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwAEAAQABAAEAAQAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUAArAFAAKwBQACsAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAHgAeAB4AHgAeAB4AHgAeAFAAHgAeAB4AUABQAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAKwArAB4AHgAeAB4AHgAeACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAUABQAFAAKwAeAB4AHgAeAB4AHgAeAA4AHgArAA0ADQANAA0ADQANAA0ACQANAA0ADQAIAAQACwAEAAQADQAJAA0ADQAMAB0AHQAeABcAFwAWABcAFwAXABYAFwAdAB0AHgAeABQAFAAUAA0AAQABAAQABAAEAAQABAAJABoAGgAaABoAGgAaABoAGgAeABcAFwAdABUAFQAeAB4AHgAeAB4AHgAYABYAEQAVABUAFQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgANAB4ADQANAA0ADQAeAA0ADQANAAcAHgAeAB4AHgArAAQABAAEAAQABAAEAAQABAAEAAQAUABQACsAKwBPAFAAUABQAFAAUAAeAB4AHgAWABEATwBQAE8ATwBPAE8AUABQAFAAUABQAB4AHgAeABYAEQArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAGwAbABsAGwAbABsAGwAaABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAaABsAGwAbABsAGgAbABsAGgAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgBQABoAHgAdAB4AUAAeABoAHgAeAB4AHgAeAB4AHgAeAB4ATwAeAFAAGwAeAB4AUABQAFAAUABQAB4AHgAeAB0AHQAeAFAAHgBQAB4AUAAeAFAATwBQAFAAHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AUABQAFAAUABPAE8AUABQAFAAUABQAE8AUABQAE8AUABPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBQAFAAUABQAE8ATwBPAE8ATwBPAE8ATwBPAE8AUABQAFAAUABQAFAAUABQAFAAHgAeAFAAUABQAFAATwAeAB4AKwArACsAKwAdAB0AHQAdAB0AHQAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAeAB0AHQAeAB4AHgAdAB0AHgAeAB0AHgAeAB4AHQAeAB0AGwAbAB4AHQAeAB4AHgAeAB0AHgAeAB0AHQAdAB0AHgAeAB0AHgAdAB4AHQAdAB0AHQAdAB0AHgAdAB4AHgAeAB4AHgAdAB0AHQAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAdAB4AHgAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB4AHgAdAB0AHQAdAB4AHgAdAB0AHgAeAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAeAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHQAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABQAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAlACUAHgAeAB4AHgAeAB4AHgAeAB4AFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBQAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB4AHgAeAB4AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAdAB0AHQAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAeAB0AHQAeAB4AHgAeAB0AHQAeAB4AHgAeAB0AHQAdAB4AHgAdAB4AHgAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB0AHQAeAB4AHQAeAB4AHgAeAB0AHQAeAB4AHgAeACUAJQAdAB0AJQAeACUAJQAlACAAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAHgAeAB4AHgAdAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB4AHQAdAB0AHgAdACUAHQAdAB4AHQAdAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAHQAdAB0AHQAlAB4AJQAlACUAHQAlACUAHQAdAB0AJQAlAB0AHQAlAB0AHQAlACUAJQAeAB0AHgAeAB4AHgAdAB0AJQAdAB0AHQAdAB0AHQAlACUAJQAlACUAHQAlACUAIAAlAB0AHQAlACUAJQAlACUAJQAlACUAHgAeAB4AJQAlACAAIAAgACAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeABcAFwAXABcAFwAXAB4AEwATACUAHgAeAB4AFgARABYAEQAWABEAFgARABYAEQAWABEAFgARAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARABYAEQAWABEAFgARABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAEAAQABAAeAB4AKwArACsAKwArABMADQANAA0AUAATAA0AUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUAANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAA0ADQANAA0ADQANAA0ADQAeAA0AFgANAB4AHgAXABcAHgAeABcAFwAWABEAFgARABYAEQAWABEADQANAA0ADQATAFAADQANAB4ADQANAB4AHgAeAB4AHgAMAAwADQANAA0AHgANAA0AFgANAA0ADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArAA0AEQARACUAJQBHAFcAVwAWABEAFgARABYAEQAWABEAFgARACUAJQAWABEAFgARABYAEQAWABEAFQAWABEAEQAlAFcAVwBXAFcAVwBXAFcAVwBXAAQABAAEAAQABAAEACUAVwBXAFcAVwA2ACUAJQBXAFcAVwBHAEcAJQAlACUAKwBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBRAFcAUQBXAFEAVwBXAFcAVwBXAFcAUQBXAFcAVwBXAFcAVwBRAFEAKwArAAQABAAVABUARwBHAFcAFQBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBRAFcAVwBXAFcAVwBXAFEAUQBXAFcAVwBXABUAUQBHAEcAVwArACsAKwArACsAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwArACUAJQBXAFcAVwBXACUAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAKwArACUAJQAlACUAKwArACsAKwArACsAKwArACsAKwArACsAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAE8ATwBPAE8ATwBPAE8ATwAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADQATAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABLAEsASwBLAEsASwBLAEsASwBLAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAABAAEAAQABAAeAAQABAAEAAQABAAEAAQABAAEAAQAHgBQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAeAA0ADQANAA0ADQArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAAQAUABQAFAABABQAFAAUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAeAB4AHgAeACsAKwArACsAUABQAFAAUABQAFAAHgAeABoAHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADgAOABMAEwArACsAKwArACsAKwArACsABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwANAA0ASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUAAeAB4AHgBQAA4AUAArACsAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArAB4AWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYACsAKwArAAQAHgAeAB4AHgAeAB4ADQANAA0AHgAeAB4AHgArAFAASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArAB4AHgBcAFwAXABcAFwAKgBcAFwAXABcAFwAXABcAFwAXABcAEsASwBLAEsASwBLAEsASwBLAEsAXABcAFwAXABcACsAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAFAAUABQAAQAUABQAFAAUABQAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAHgANAA0ADQBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAXAAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAKgAqACoAXABcACoAKgBcAFwAXABcAFwAKgAqAFwAKgBcACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcACoAKgBQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAA0ADQBQAFAAUAAEAAQAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQADQAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAVABVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBUAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVACsAKwArACsAKwArACsAKwArACsAKwArAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAKwArACsAKwBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAKwArACsAKwAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAKwArACsAKwArAFYABABWAFYAVgBWAFYAVgBWAFYAVgBWAB4AVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgArAFYAVgBWAFYAVgArAFYAKwBWAFYAKwBWAFYAKwBWAFYAVgBWAFYAVgBWAFYAVgBWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAEQAWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAaAB4AKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAGAARABEAGAAYABMAEwAWABEAFAArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACUAJQAlACUAJQAWABEAFgARABYAEQAWABEAFgARABYAEQAlACUAFgARACUAJQAlACUAJQAlACUAEQAlABEAKwAVABUAEwATACUAFgARABYAEQAWABEAJQAlACUAJQAlACUAJQAlACsAJQAbABoAJQArACsAKwArAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAcAKwATACUAJQAbABoAJQAlABYAEQAlACUAEQAlABEAJQBXAFcAVwBXAFcAVwBXAFcAVwBXABUAFQAlACUAJQATACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXABYAJQARACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAWACUAEQAlABYAEQARABYAEQARABUAVwBRAFEAUQBRAFEAUQBRAFEAUQBRAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcARwArACsAVwBXAFcAVwBXAFcAKwArAFcAVwBXAFcAVwBXACsAKwBXAFcAVwBXAFcAVwArACsAVwBXAFcAKwArACsAGgAbACUAJQAlABsAGwArAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAAQAB0AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsADQANAA0AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsADQBQAFAAUABQACsAKwArACsAUABQAFAAUABQAFAAUABQAA0AUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAArACsAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQACsAKwArAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgBQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwBQAFAAUABQAFAABAAEAAQAKwAEAAQAKwArACsAKwArAAQABAAEAAQAUABQAFAAUAArAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsABAAEAAQAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsADQANAA0ADQANAA0ADQANAB4AKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AUABQAFAAUABQAFAAUABQAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwArACsAUABQAFAAUABQAA0ADQANAA0ADQANABQAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwANAA0ADQANAA0ADQANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAA0ADQAeAB4AHgAeAB4AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsASwBLAEsASwBLAEsASwBLAEsASwANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAeAA4AUAArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAADQANAB4ADQAeAAQABAAEAB4AKwArAEsASwBLAEsASwBLAEsASwBLAEsAUAAOAFAADQANAA0AKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAANAA0AHgANAA0AHgAEACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAA0AKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsABAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAUAArACsAKwArACsAKwAEACsAKwArACsAKwBQAFAAUABQAFAABAAEACsAKwAEAAQABAAEAAQABAAEACsAKwArAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABABQAFAAUABQAA0ADQANAA0AHgBLAEsASwBLAEsASwBLAEsASwBLACsADQArAB4AKwArAAQABAAEAAQAUABQAB4AUAArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEACsAKwAEAAQABAAEAAQABAAEAAQABAAOAA0ADQATABMAHgAeAB4ADQANAA0ADQANAA0ADQANAA0ADQANAA0ADQANAA0AUABQAFAAUAAEAAQAKwArAAQADQANAB4AUAArACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAKwAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAXABcAA0ADQANACoASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAFAABAAEAAQABAAOAB4ADQANAA0ADQAOAB4ABAArACsAKwArACsAKwArACsAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAUABQAFAAUAArACsAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAA0ADQANACsADgAOAA4ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAAQABAAEAFAADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAOABMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAArACsAKwAEACsABAAEACsABAAEAAQABAAEAAQABABQAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABIAEgAQwBDAEMAUABQAFAAUABDAFAAUABQAEgAQwBIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABDAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwANAA0AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAANACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAA0ADQANAB4AHgAeAB4AHgAeAFAAUABQAFAADQAeACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAEcARwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwArACsAKwArACsAKwArACsAKwArACsAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQACsAKwAeAAQABAANAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAB4AHgAeAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAHgAeAAQABAAEAAQABAAEAAQAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAEAAQABAAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUAArACsAUAArACsAUABQACsAKwBQAFAAUABQACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQACsAUABQAFAAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwAeAB4AUABQAFAAUABQACsAUAArACsAKwBQAFAAUABQAFAAUABQACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AKwArAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAEAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAeAB4ADQANAA0ADQAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABAArAAQABAArAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAEAAQABAAEAAQABAAEACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAFgAWAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArAFAAKwArAFAAKwBQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArAFAAKwBQACsAKwArACsAKwArAFAAKwArACsAKwBQACsAUAArAFAAKwBQAFAAUAArAFAAUAArAFAAKwArAFAAKwBQACsAUAArAFAAKwBQACsAUABQACsAUAArACsAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQACsAUABQAFAAUAArAFAAKwBQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwBQAFAAUAArAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAlACUAJQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeACUAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeACUAJQAlACUAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeACUAJQAlACUAJQAeACUAJQAlACUAJQAgACAAIAAlACUAIAAlACUAIAAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAIQAhACEAIQAhACUAJQAgACAAJQAlACAAIAAgACAAIAAgACAAIAAgACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAIAAgACAAIAAlACUAJQAlACAAJQAgACAAIAAgACAAIAAgACAAIAAlACUAJQAgACUAJQAlACUAIAAgACAAJQAgACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeACUAHgAlAB4AJQAlACUAJQAlACAAJQAlACUAJQAeACUAHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAIAAgACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAIAAlACUAJQAlACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAIAAgACAAJQAlACUAIAAgACAAIAAgAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFwAXABcAFQAVABUAHgAeAB4AHgAlACUAJQAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAIAAgACAAJQAlACUAJQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAlACAAIAAlACUAJQAlACUAJQAgACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAIAAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsA",R=50,M=1,P=2,N=3,L=4,z=5,j=7,K=8,X=9,V=10,W=11,G=12,Y=13,J=14,$=15,q=16,Z=17,tt=18,et=19,it=20,nt=21,rt=22,ot=23,st=24,at=25,At=26,ct=27,lt=28,ut=29,ht=30,ft=31,dt=32,pt=33,gt=34,vt=35,mt=36,wt=37,yt=38,bt=39,Bt=40,Ct=41,Et=42,xt=43,_t="!",St="",Tt="",Ft=D(k),Qt=[ht,mt],Ut=[M,P,N,z],Ot=[V,K],Ht=[ct,At],Dt=Ut.concat(Ot),It=[yt,bt,Bt,gt,vt],kt=[$,Y],Rt=function(t,e){void 0===e&&(e="strict");var i=[],n=[],r=[];return t.forEach((function(t,o){var s=Ft.get(t);if(s>R?(r.push(!0),s-=R):r.push(!1),-1!==["normal","auto","loose"].indexOf(e)&&-1!==[8208,8211,12316,12448].indexOf(t))return n.push(o),i.push(q);if(s===L||s===W){if(0===o)return n.push(o),i.push(ht);var a=i[o-1];return-1===Dt.indexOf(a)?(n.push(n[o-1]),i.push(a)):(n.push(o),i.push(ht))}return n.push(o),s===ft?i.push("strict"===e?nt:wt):s===Et||s===ut?i.push(ht):s===xt?t>=131072&&t<=196605||t>=196608&&t<=262141?i.push(wt):i.push(ht):void i.push(s)})),[n,i,r]},Mt=function(t,e,i,n){var r=n[i];if(Array.isArray(t)?-1!==t.indexOf(r):t===r){var o=i;while(o<=n.length){o++;var s=n[o];if(s===e)return!0;if(s!==V)break}}if(r===V){o=i;while(o>0){o--;var a=n[o];if(Array.isArray(t)?-1!==t.indexOf(a):t===a){var A=i;while(A<=n.length){A++;s=n[A];if(s===e)return!0;if(s!==V)break}}if(a!==V)break}}return!1},Pt=function(t,e){var i=t;while(i>=0){var n=e[i];if(n!==V)return n;i--}return 0},Nt=function(t,e,i,n,r){if(0===i[n])return St;var o=n-1;if(Array.isArray(r)&&!0===r[o])return St;var s=o-1,a=o+1,A=e[o],c=s>=0?e[s]:0,l=e[a];if(A===P&&l===N)return St;if(-1!==Ut.indexOf(A))return _t;if(-1!==Ut.indexOf(l))return St;if(-1!==Ot.indexOf(l))return St;if(Pt(o,e)===K)return Tt;if(Ft.get(t[o])===W&&(l===wt||l===dt||l===pt))return St;if(A===j||l===j)return St;if(A===X)return St;if(-1===[V,Y,$].indexOf(A)&&l===X)return St;if(-1!==[Z,tt,et,st,lt].indexOf(l))return St;if(Pt(o,e)===rt)return St;if(Mt(ot,rt,o,e))return St;if(Mt([Z,tt],nt,o,e))return St;if(Mt(G,G,o,e))return St;if(A===V)return Tt;if(A===ot||l===ot)return St;if(l===q||A===q)return Tt;if(-1!==[Y,$,nt].indexOf(l)||A===J)return St;if(c===mt&&-1!==kt.indexOf(A))return St;if(A===lt&&l===mt)return St;if(l===it&&-1!==Qt.concat(it,et,at,wt,dt,pt).indexOf(A))return St;if(-1!==Qt.indexOf(l)&&A===at||-1!==Qt.indexOf(A)&&l===at)return St;if(A===ct&&-1!==[wt,dt,pt].indexOf(l)||-1!==[wt,dt,pt].indexOf(A)&&l===At)return St;if(-1!==Qt.indexOf(A)&&-1!==Ht.indexOf(l)||-1!==Ht.indexOf(A)&&-1!==Qt.indexOf(l))return St;if(-1!==[ct,At].indexOf(A)&&(l===at||-1!==[rt,$].indexOf(l)&&e[a+1]===at)||-1!==[rt,$].indexOf(A)&&l===at||A===at&&-1!==[at,lt,st].indexOf(l))return St;if(-1!==[at,lt,st,Z,tt].indexOf(l)){var u=o;while(u>=0){var h=e[u];if(h===at)return St;if(-1===[lt,st].indexOf(h))break;u--}}if(-1!==[ct,At].indexOf(l)){u=-1!==[Z,tt].indexOf(A)?s:o;while(u>=0){h=e[u];if(h===at)return St;if(-1===[lt,st].indexOf(h))break;u--}}if(yt===A&&-1!==[yt,bt,gt,vt].indexOf(l)||-1!==[bt,gt].indexOf(A)&&-1!==[bt,Bt].indexOf(l)||-1!==[Bt,vt].indexOf(A)&&l===Bt)return St;if(-1!==It.indexOf(A)&&-1!==[it,At].indexOf(l)||-1!==It.indexOf(l)&&A===ct)return St;if(-1!==Qt.indexOf(A)&&-1!==Qt.indexOf(l))return St;if(A===st&&-1!==Qt.indexOf(l))return St;if(-1!==Qt.concat(at).indexOf(A)&&l===rt||-1!==Qt.concat(at).indexOf(l)&&A===tt)return St;if(A===Ct&&l===Ct){var f=i[o],d=1;while(f>0){if(f--,e[f]!==Ct)break;d++}if(d%2!==0)return St}return A===dt&&l===pt?St:Tt},Lt=function(t,e){e||(e={lineBreak:"normal",wordBreak:"normal"});var i=Rt(t,e.lineBreak),n=i[0],r=i[1],o=i[2];"break-all"!==e.wordBreak&&"break-word"!==e.wordBreak||(r=r.map((function(t){return-1!==[at,ht,Et].indexOf(t)?wt:t})));var s="keep-all"===e.wordBreak?o.map((function(e,i){return e&&t[i]>=19968&&t[i]<=40959})):void 0;return[n,r,s]},zt=function(){function t(t,e,i,n){this.codePoints=t,this.required=e===_t,this.start=i,this.end=n}return t.prototype.slice=function(){return c.apply(void 0,this.codePoints.slice(this.start,this.end))},t}(),jt=function(t,e){var i=A(t),n=Lt(i,e),r=n[0],o=n[1],s=n[2],a=i.length,c=0,l=0;return{next:function(){if(l>=a)return{done:!0,value:null};var t=St;while(l<a&&(t=Nt(i,o,r,++l,s))===St);if(t!==St||l===a){var e=new zt(i,t,c,l);return c=l,{value:e,done:!1}}return{done:!0,value:null}}}};(function(t){t[t["STRING_TOKEN"]=0]="STRING_TOKEN",t[t["BAD_STRING_TOKEN"]=1]="BAD_STRING_TOKEN",t[t["LEFT_PARENTHESIS_TOKEN"]=2]="LEFT_PARENTHESIS_TOKEN",t[t["RIGHT_PARENTHESIS_TOKEN"]=3]="RIGHT_PARENTHESIS_TOKEN",t[t["COMMA_TOKEN"]=4]="COMMA_TOKEN",t[t["HASH_TOKEN"]=5]="HASH_TOKEN",t[t["DELIM_TOKEN"]=6]="DELIM_TOKEN",t[t["AT_KEYWORD_TOKEN"]=7]="AT_KEYWORD_TOKEN",t[t["PREFIX_MATCH_TOKEN"]=8]="PREFIX_MATCH_TOKEN",t[t["DASH_MATCH_TOKEN"]=9]="DASH_MATCH_TOKEN",t[t["INCLUDE_MATCH_TOKEN"]=10]="INCLUDE_MATCH_TOKEN",t[t["LEFT_CURLY_BRACKET_TOKEN"]=11]="LEFT_CURLY_BRACKET_TOKEN",t[t["RIGHT_CURLY_BRACKET_TOKEN"]=12]="RIGHT_CURLY_BRACKET_TOKEN",t[t["SUFFIX_MATCH_TOKEN"]=13]="SUFFIX_MATCH_TOKEN",t[t["SUBSTRING_MATCH_TOKEN"]=14]="SUBSTRING_MATCH_TOKEN",t[t["DIMENSION_TOKEN"]=15]="DIMENSION_TOKEN",t[t["PERCENTAGE_TOKEN"]=16]="PERCENTAGE_TOKEN",t[t["NUMBER_TOKEN"]=17]="NUMBER_TOKEN",t[t["FUNCTION"]=18]="FUNCTION",t[t["FUNCTION_TOKEN"]=19]="FUNCTION_TOKEN",t[t["IDENT_TOKEN"]=20]="IDENT_TOKEN",t[t["COLUMN_TOKEN"]=21]="COLUMN_TOKEN",t[t["URL_TOKEN"]=22]="URL_TOKEN",t[t["BAD_URL_TOKEN"]=23]="BAD_URL_TOKEN",t[t["CDC_TOKEN"]=24]="CDC_TOKEN",t[t["CDO_TOKEN"]=25]="CDO_TOKEN",t[t["COLON_TOKEN"]=26]="COLON_TOKEN",t[t["SEMICOLON_TOKEN"]=27]="SEMICOLON_TOKEN",t[t["LEFT_SQUARE_BRACKET_TOKEN"]=28]="LEFT_SQUARE_BRACKET_TOKEN",t[t["RIGHT_SQUARE_BRACKET_TOKEN"]=29]="RIGHT_SQUARE_BRACKET_TOKEN",t[t["UNICODE_RANGE_TOKEN"]=30]="UNICODE_RANGE_TOKEN",t[t["WHITESPACE_TOKEN"]=31]="WHITESPACE_TOKEN",t[t["EOF_TOKEN"]=32]="EOF_TOKEN"})(f||(f={}));var Kt=1,Xt=2,Vt=4,Wt=8,Gt=10,Yt=47,Jt=92,$t=9,qt=32,Zt=34,te=61,ee=35,ie=36,ne=37,re=39,oe=40,se=41,ae=95,Ae=45,ce=33,le=60,ue=62,he=64,fe=91,de=93,pe=61,ge=123,ve=63,me=125,we=124,ye=126,be=128,Be=65533,Ce=42,Ee=43,xe=44,_e=58,Se=59,Te=46,Fe=0,Qe=8,Ue=11,Oe=14,He=31,De=127,Ie=-1,ke=48,Re=97,Me=101,Pe=102,Ne=117,Le=122,ze=65,je=69,Ke=70,Xe=85,Ve=90,We=function(t){return t>=ke&&t<=57},Ge=function(t){return t>=55296&&t<=57343},Ye=function(t){return We(t)||t>=ze&&t<=Ke||t>=Re&&t<=Pe},Je=function(t){return t>=Re&&t<=Le},$e=function(t){return t>=ze&&t<=Ve},qe=function(t){return Je(t)||$e(t)},Ze=function(t){return t>=be},ti=function(t){return t===Gt||t===$t||t===qt},ei=function(t){return qe(t)||Ze(t)||t===ae},ii=function(t){return ei(t)||We(t)||t===Ae},ni=function(t){return t>=Fe&&t<=Qe||t===Ue||t>=Oe&&t<=He||t===De},ri=function(t,e){return t===Jt&&e!==Gt},oi=function(t,e,i){return t===Ae?ei(e)||ri(e,i):!!ei(t)||!(t!==Jt||!ri(t,e))},si=function(t,e,i){return t===Ee||t===Ae?!!We(e)||e===Te&&We(i):We(t===Te?e:t)},ai=function(t){var e=0,i=1;t[e]!==Ee&&t[e]!==Ae||(t[e]===Ae&&(i=-1),e++);var n=[];while(We(t[e]))n.push(t[e++]);var r=n.length?parseInt(c.apply(void 0,n),10):0;t[e]===Te&&e++;var o=[];while(We(t[e]))o.push(t[e++]);var s=o.length,a=s?parseInt(c.apply(void 0,o),10):0;t[e]!==je&&t[e]!==Me||e++;var A=1;t[e]!==Ee&&t[e]!==Ae||(t[e]===Ae&&(A=-1),e++);var l=[];while(We(t[e]))l.push(t[e++]);var u=l.length?parseInt(c.apply(void 0,l),10):0;return i*(r+a*Math.pow(10,-s))*Math.pow(10,A*u)},Ai={type:f.LEFT_PARENTHESIS_TOKEN},ci={type:f.RIGHT_PARENTHESIS_TOKEN},li={type:f.COMMA_TOKEN},ui={type:f.SUFFIX_MATCH_TOKEN},hi={type:f.PREFIX_MATCH_TOKEN},fi={type:f.COLUMN_TOKEN},di={type:f.DASH_MATCH_TOKEN},pi={type:f.INCLUDE_MATCH_TOKEN},gi={type:f.LEFT_CURLY_BRACKET_TOKEN},vi={type:f.RIGHT_CURLY_BRACKET_TOKEN},mi={type:f.SUBSTRING_MATCH_TOKEN},wi={type:f.BAD_URL_TOKEN},yi={type:f.BAD_STRING_TOKEN},bi={type:f.CDO_TOKEN},Bi={type:f.CDC_TOKEN},Ci={type:f.COLON_TOKEN},Ei={type:f.SEMICOLON_TOKEN},xi={type:f.LEFT_SQUARE_BRACKET_TOKEN},_i={type:f.RIGHT_SQUARE_BRACKET_TOKEN},Si={type:f.WHITESPACE_TOKEN},Ti={type:f.EOF_TOKEN},Fi=function(){function t(){this._value=[]}return t.prototype.write=function(t){this._value=this._value.concat(A(t))},t.prototype.read=function(){var t=[],e=this.consumeToken();while(e!==Ti)t.push(e),e=this.consumeToken();return t},t.prototype.consumeToken=function(){var t=this.consumeCodePoint();switch(t){case Zt:return this.consumeStringToken(Zt);case ee:var e=this.peekCodePoint(0),i=this.peekCodePoint(1),n=this.peekCodePoint(2);if(ii(e)||ri(i,n)){var r=oi(e,i,n)?Xt:Kt,o=this.consumeName();return{type:f.HASH_TOKEN,value:o,flags:r}}break;case ie:if(this.peekCodePoint(0)===te)return this.consumeCodePoint(),ui;break;case re:return this.consumeStringToken(re);case oe:return Ai;case se:return ci;case Ce:if(this.peekCodePoint(0)===te)return this.consumeCodePoint(),mi;break;case Ee:if(si(t,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(t),this.consumeNumericToken();break;case xe:return li;case Ae:var s=t,a=this.peekCodePoint(0),A=this.peekCodePoint(1);if(si(s,a,A))return this.reconsumeCodePoint(t),this.consumeNumericToken();if(oi(s,a,A))return this.reconsumeCodePoint(t),this.consumeIdentLikeToken();if(a===Ae&&A===ue)return this.consumeCodePoint(),this.consumeCodePoint(),Bi;break;case Te:if(si(t,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(t),this.consumeNumericToken();break;case Yt:if(this.peekCodePoint(0)===Ce){this.consumeCodePoint();while(1){var l=this.consumeCodePoint();if(l===Ce&&(l=this.consumeCodePoint(),l===Yt))return this.consumeToken();if(l===Ie)return this.consumeToken()}}break;case _e:return Ci;case Se:return Ei;case le:if(this.peekCodePoint(0)===ce&&this.peekCodePoint(1)===Ae&&this.peekCodePoint(2)===Ae)return this.consumeCodePoint(),this.consumeCodePoint(),bi;break;case he:var u=this.peekCodePoint(0),h=this.peekCodePoint(1),d=this.peekCodePoint(2);if(oi(u,h,d)){o=this.consumeName();return{type:f.AT_KEYWORD_TOKEN,value:o}}break;case fe:return xi;case Jt:if(ri(t,this.peekCodePoint(0)))return this.reconsumeCodePoint(t),this.consumeIdentLikeToken();break;case de:return _i;case pe:if(this.peekCodePoint(0)===te)return this.consumeCodePoint(),hi;break;case ge:return gi;case me:return vi;case Ne:case Xe:var p=this.peekCodePoint(0),g=this.peekCodePoint(1);return p!==Ee||!Ye(g)&&g!==ve||(this.consumeCodePoint(),this.consumeUnicodeRangeToken()),this.reconsumeCodePoint(t),this.consumeIdentLikeToken();case we:if(this.peekCodePoint(0)===te)return this.consumeCodePoint(),di;if(this.peekCodePoint(0)===we)return this.consumeCodePoint(),fi;break;case ye:if(this.peekCodePoint(0)===te)return this.consumeCodePoint(),pi;break;case Ie:return Ti}return ti(t)?(this.consumeWhiteSpace(),Si):We(t)?(this.reconsumeCodePoint(t),this.consumeNumericToken()):ei(t)?(this.reconsumeCodePoint(t),this.consumeIdentLikeToken()):{type:f.DELIM_TOKEN,value:c(t)}},t.prototype.consumeCodePoint=function(){var t=this._value.shift();return"undefined"===typeof t?-1:t},t.prototype.reconsumeCodePoint=function(t){this._value.unshift(t)},t.prototype.peekCodePoint=function(t){return t>=this._value.length?-1:this._value[t]},t.prototype.consumeUnicodeRangeToken=function(){var t=[],e=this.consumeCodePoint();while(Ye(e)&&t.length<6)t.push(e),e=this.consumeCodePoint();var i=!1;while(e===ve&&t.length<6)t.push(e),e=this.consumeCodePoint(),i=!0;if(i){var n=parseInt(c.apply(void 0,t.map((function(t){return t===ve?ke:t}))),16),r=parseInt(c.apply(void 0,t.map((function(t){return t===ve?Ke:t}))),16);return{type:f.UNICODE_RANGE_TOKEN,start:n,end:r}}var o=parseInt(c.apply(void 0,t),16);if(this.peekCodePoint(0)===Ae&&Ye(this.peekCodePoint(1))){this.consumeCodePoint(),e=this.consumeCodePoint();var s=[];while(Ye(e)&&s.length<6)s.push(e),e=this.consumeCodePoint();r=parseInt(c.apply(void 0,s),16);return{type:f.UNICODE_RANGE_TOKEN,start:o,end:r}}return{type:f.UNICODE_RANGE_TOKEN,start:o,end:o}},t.prototype.consumeIdentLikeToken=function(){var t=this.consumeName();return"url"===t.toLowerCase()&&this.peekCodePoint(0)===oe?(this.consumeCodePoint(),this.consumeUrlToken()):this.peekCodePoint(0)===oe?(this.consumeCodePoint(),{type:f.FUNCTION_TOKEN,value:t}):{type:f.IDENT_TOKEN,value:t}},t.prototype.consumeUrlToken=function(){var t=[];if(this.consumeWhiteSpace(),this.peekCodePoint(0)===Ie)return{type:f.URL_TOKEN,value:""};var e=this.peekCodePoint(0);if(e===re||e===Zt){var i=this.consumeStringToken(this.consumeCodePoint());return i.type===f.STRING_TOKEN&&(this.consumeWhiteSpace(),this.peekCodePoint(0)===Ie||this.peekCodePoint(0)===se)?(this.consumeCodePoint(),{type:f.URL_TOKEN,value:i.value}):(this.consumeBadUrlRemnants(),wi)}while(1){var n=this.consumeCodePoint();if(n===Ie||n===se)return{type:f.URL_TOKEN,value:c.apply(void 0,t)};if(ti(n))return this.consumeWhiteSpace(),this.peekCodePoint(0)===Ie||this.peekCodePoint(0)===se?(this.consumeCodePoint(),{type:f.URL_TOKEN,value:c.apply(void 0,t)}):(this.consumeBadUrlRemnants(),wi);if(n===Zt||n===re||n===oe||ni(n))return this.consumeBadUrlRemnants(),wi;if(n===Jt){if(!ri(n,this.peekCodePoint(0)))return this.consumeBadUrlRemnants(),wi;t.push(this.consumeEscapedCodePoint())}else t.push(n)}},t.prototype.consumeWhiteSpace=function(){while(ti(this.peekCodePoint(0)))this.consumeCodePoint()},t.prototype.consumeBadUrlRemnants=function(){while(1){var t=this.consumeCodePoint();if(t===se||t===Ie)return;ri(t,this.peekCodePoint(0))&&this.consumeEscapedCodePoint()}},t.prototype.consumeStringSlice=function(t){var e=6e4,i="";while(t>0){var n=Math.min(e,t);i+=c.apply(void 0,this._value.splice(0,n)),t-=n}return this._value.shift(),i},t.prototype.consumeStringToken=function(t){var e="",i=0;do{var n=this._value[i];if(n===Ie||void 0===n||n===t)return e+=this.consumeStringSlice(i),{type:f.STRING_TOKEN,value:e};if(n===Gt)return this._value.splice(0,i),yi;if(n===Jt){var r=this._value[i+1];r!==Ie&&void 0!==r&&(r===Gt?(e+=this.consumeStringSlice(i),i=-1,this._value.shift()):ri(n,r)&&(e+=this.consumeStringSlice(i),e+=c(this.consumeEscapedCodePoint()),i=-1))}i++}while(1)},t.prototype.consumeNumber=function(){var t=[],e=Vt,i=this.peekCodePoint(0);i!==Ee&&i!==Ae||t.push(this.consumeCodePoint());while(We(this.peekCodePoint(0)))t.push(this.consumeCodePoint());i=this.peekCodePoint(0);var n=this.peekCodePoint(1);if(i===Te&&We(n)){t.push(this.consumeCodePoint(),this.consumeCodePoint()),e=Wt;while(We(this.peekCodePoint(0)))t.push(this.consumeCodePoint())}i=this.peekCodePoint(0),n=this.peekCodePoint(1);var r=this.peekCodePoint(2);if((i===je||i===Me)&&((n===Ee||n===Ae)&&We(r)||We(n))){t.push(this.consumeCodePoint(),this.consumeCodePoint()),e=Wt;while(We(this.peekCodePoint(0)))t.push(this.consumeCodePoint())}return[ai(t),e]},t.prototype.consumeNumericToken=function(){var t=this.consumeNumber(),e=t[0],i=t[1],n=this.peekCodePoint(0),r=this.peekCodePoint(1),o=this.peekCodePoint(2);if(oi(n,r,o)){var s=this.consumeName();return{type:f.DIMENSION_TOKEN,number:e,flags:i,unit:s}}return n===ne?(this.consumeCodePoint(),{type:f.PERCENTAGE_TOKEN,number:e,flags:i}):{type:f.NUMBER_TOKEN,number:e,flags:i}},t.prototype.consumeEscapedCodePoint=function(){var t=this.consumeCodePoint();if(Ye(t)){var e=c(t);while(Ye(this.peekCodePoint(0))&&e.length<6)e+=c(this.consumeCodePoint());ti(this.peekCodePoint(0))&&this.consumeCodePoint();var i=parseInt(e,16);return 0===i||Ge(i)||i>1114111?Be:i}return t===Ie?Be:t},t.prototype.consumeName=function(){var t="";while(1){var e=this.consumeCodePoint();if(ii(e))t+=c(e);else{if(!ri(e,this.peekCodePoint(0)))return this.reconsumeCodePoint(e),t;t+=c(this.consumeEscapedCodePoint())}}},t}(),Qi=function(){function t(t){this._tokens=t}return t.create=function(e){var i=new Fi;return i.write(e),new t(i.read())},t.parseValue=function(e){return t.create(e).parseComponentValue()},t.parseValues=function(e){return t.create(e).parseComponentValues()},t.prototype.parseComponentValue=function(){var t=this.consumeToken();while(t.type===f.WHITESPACE_TOKEN)t=this.consumeToken();if(t.type===f.EOF_TOKEN)throw new SyntaxError("Error parsing CSS component value, unexpected EOF");this.reconsumeToken(t);var e=this.consumeComponentValue();do{t=this.consumeToken()}while(t.type===f.WHITESPACE_TOKEN);if(t.type===f.EOF_TOKEN)return e;throw new SyntaxError("Error parsing CSS component value, multiple values found when expecting only one")},t.prototype.parseComponentValues=function(){var t=[];while(1){var e=this.consumeComponentValue();if(e.type===f.EOF_TOKEN)return t;t.push(e),t.push()}},t.prototype.consumeComponentValue=function(){var t=this.consumeToken();switch(t.type){case f.LEFT_CURLY_BRACKET_TOKEN:case f.LEFT_SQUARE_BRACKET_TOKEN:case f.LEFT_PARENTHESIS_TOKEN:return this.consumeSimpleBlock(t.type);case f.FUNCTION_TOKEN:return this.consumeFunction(t)}return t},t.prototype.consumeSimpleBlock=function(t){var e={type:t,values:[]},i=this.consumeToken();while(1){if(i.type===f.EOF_TOKEN||Pi(i,t))return e;this.reconsumeToken(i),e.values.push(this.consumeComponentValue()),i=this.consumeToken()}},t.prototype.consumeFunction=function(t){var e={name:t.value,values:[],type:f.FUNCTION};while(1){var i=this.consumeToken();if(i.type===f.EOF_TOKEN||i.type===f.RIGHT_PARENTHESIS_TOKEN)return e;this.reconsumeToken(i),e.values.push(this.consumeComponentValue())}},t.prototype.consumeToken=function(){var t=this._tokens.shift();return"undefined"===typeof t?Ti:t},t.prototype.reconsumeToken=function(t){this._tokens.unshift(t)},t}(),Ui=function(t){return t.type===f.DIMENSION_TOKEN},Oi=function(t){return t.type===f.NUMBER_TOKEN},Hi=function(t){return t.type===f.IDENT_TOKEN},Di=function(t){return t.type===f.STRING_TOKEN},Ii=function(t,e){return Hi(t)&&t.value===e},ki=function(t){return t.type!==f.WHITESPACE_TOKEN},Ri=function(t){return t.type!==f.WHITESPACE_TOKEN&&t.type!==f.COMMA_TOKEN},Mi=function(t){var e=[],i=[];return t.forEach((function(t){if(t.type===f.COMMA_TOKEN){if(0===i.length)throw new Error("Error parsing function args, zero tokens for arg");return e.push(i),void(i=[])}t.type!==f.WHITESPACE_TOKEN&&i.push(t)})),i.length&&e.push(i),e},Pi=function(t,e){return e===f.LEFT_CURLY_BRACKET_TOKEN&&t.type===f.RIGHT_CURLY_BRACKET_TOKEN||(e===f.LEFT_SQUARE_BRACKET_TOKEN&&t.type===f.RIGHT_SQUARE_BRACKET_TOKEN||e===f.LEFT_PARENTHESIS_TOKEN&&t.type===f.RIGHT_PARENTHESIS_TOKEN)},Ni=function(t){return t.type===f.NUMBER_TOKEN||t.type===f.DIMENSION_TOKEN},Li=function(t){return t.type===f.PERCENTAGE_TOKEN||Ni(t)},zi=function(t){return t.length>1?[t[0],t[1]]:[t[0]]},ji={type:f.NUMBER_TOKEN,number:0,flags:Vt},Ki={type:f.PERCENTAGE_TOKEN,number:50,flags:Vt},Xi={type:f.PERCENTAGE_TOKEN,number:100,flags:Vt},Vi=function(t,e,i){var n=t[0],r=t[1];return[Wi(n,e),Wi("undefined"!==typeof r?r:n,i)]},Wi=function(t,e){if(t.type===f.PERCENTAGE_TOKEN)return t.number/100*e;if(Ui(t))switch(t.unit){case"rem":case"em":return 16*t.number;case"px":default:return t.number}return t.number},Gi="deg",Yi="grad",Ji="rad",$i="turn",qi={name:"angle",parse:function(t){if(t.type===f.DIMENSION_TOKEN)switch(t.unit){case Gi:return Math.PI*t.number/180;case Yi:return Math.PI/200*t.number;case Ji:return t.number;case $i:return 2*Math.PI*t.number}throw new Error("Unsupported angle type")}},Zi=function(t){return t.type===f.DIMENSION_TOKEN&&(t.unit===Gi||t.unit===Yi||t.unit===Ji||t.unit===$i)},tn=function(t){var e=t.filter(Hi).map((function(t){return t.value})).join(" ");switch(e){case"to bottom right":case"to right bottom":case"left top":case"top left":return[ji,ji];case"to top":case"bottom":return en(0);case"to bottom left":case"to left bottom":case"right top":case"top right":return[ji,Xi];case"to right":case"left":return en(90);case"to top left":case"to left top":case"right bottom":case"bottom right":return[Xi,Xi];case"to bottom":case"top":return en(180);case"to top right":case"to right top":case"left bottom":case"bottom left":return[Xi,ji];case"to left":case"right":return en(270)}return 0},en=function(t){return Math.PI*t/180},nn={name:"color",parse:function(t){if(t.type===f.FUNCTION){var e=fn[t.name];if("undefined"===typeof e)throw new Error('Attempting to parse an unsupported color function "'+t.name+'"');return e(t.values)}if(t.type===f.HASH_TOKEN){if(3===t.value.length){var i=t.value.substring(0,1),n=t.value.substring(1,2),r=t.value.substring(2,3);return sn(parseInt(i+i,16),parseInt(n+n,16),parseInt(r+r,16),1)}if(4===t.value.length){i=t.value.substring(0,1),n=t.value.substring(1,2),r=t.value.substring(2,3);var o=t.value.substring(3,4);return sn(parseInt(i+i,16),parseInt(n+n,16),parseInt(r+r,16),parseInt(o+o,16)/255)}if(6===t.value.length){i=t.value.substring(0,2),n=t.value.substring(2,4),r=t.value.substring(4,6);return sn(parseInt(i,16),parseInt(n,16),parseInt(r,16),1)}if(8===t.value.length){i=t.value.substring(0,2),n=t.value.substring(2,4),r=t.value.substring(4,6),o=t.value.substring(6,8);return sn(parseInt(i,16),parseInt(n,16),parseInt(r,16),parseInt(o,16)/255)}}if(t.type===f.IDENT_TOKEN){var s=dn[t.value.toUpperCase()];if("undefined"!==typeof s)return s}return dn.TRANSPARENT}},rn=function(t){return 0===(255&t)},on=function(t){var e=255&t,i=255&t>>8,n=255&t>>16,r=255&t>>24;return e<255?"rgba("+r+","+n+","+i+","+e/255+")":"rgb("+r+","+n+","+i+")"},sn=function(t,e,i,n){return(t<<24|e<<16|i<<8|Math.round(255*n)<<0)>>>0},an=function(t,e){if(t.type===f.NUMBER_TOKEN)return t.number;if(t.type===f.PERCENTAGE_TOKEN){var i=3===e?1:255;return 3===e?t.number/100*i:Math.round(t.number/100*i)}return 0},An=function(t){var e=t.filter(Ri);if(3===e.length){var i=e.map(an),n=i[0],r=i[1],o=i[2];return sn(n,r,o,1)}if(4===e.length){var s=e.map(an),a=(n=s[0],r=s[1],o=s[2],s[3]);return sn(n,r,o,a)}return 0};function cn(t,e,i){return i<0&&(i+=1),i>=1&&(i-=1),i<1/6?(e-t)*i*6+t:i<.5?e:i<2/3?6*(e-t)*(2/3-i)+t:t}var ln,un,hn=function(t){var e=t.filter(Ri),i=e[0],n=e[1],r=e[2],o=e[3],s=(i.type===f.NUMBER_TOKEN?en(i.number):qi.parse(i))/(2*Math.PI),a=Li(n)?n.number/100:0,A=Li(r)?r.number/100:0,c="undefined"!==typeof o&&Li(o)?Wi(o,1):1;if(0===a)return sn(255*A,255*A,255*A,1);var l=A<=.5?A*(a+1):A+a-A*a,u=2*A-l,h=cn(u,l,s+1/3),d=cn(u,l,s),p=cn(u,l,s-1/3);return sn(255*h,255*d,255*p,c)},fn={hsl:hn,hsla:hn,rgb:An,rgba:An},dn={ALICEBLUE:4042850303,ANTIQUEWHITE:4209760255,AQUA:16777215,AQUAMARINE:2147472639,AZURE:4043309055,BEIGE:4126530815,BISQUE:4293182719,BLACK:255,BLANCHEDALMOND:4293643775,BLUE:65535,BLUEVIOLET:2318131967,BROWN:2771004159,BURLYWOOD:3736635391,CADETBLUE:1604231423,CHARTREUSE:2147418367,CHOCOLATE:3530104575,CORAL:4286533887,CORNFLOWERBLUE:1687547391,CORNSILK:4294499583,CRIMSON:3692313855,CYAN:16777215,DARKBLUE:35839,DARKCYAN:9145343,DARKGOLDENROD:3095837695,DARKGRAY:2846468607,DARKGREEN:6553855,DARKGREY:2846468607,DARKKHAKI:3182914559,DARKMAGENTA:2332068863,DARKOLIVEGREEN:1433087999,DARKORANGE:4287365375,DARKORCHID:2570243327,DARKRED:2332033279,DARKSALMON:3918953215,DARKSEAGREEN:2411499519,DARKSLATEBLUE:1211993087,DARKSLATEGRAY:793726975,DARKSLATEGREY:793726975,DARKTURQUOISE:13554175,DARKVIOLET:2483082239,DEEPPINK:4279538687,DEEPSKYBLUE:12582911,DIMGRAY:1768516095,DIMGREY:1768516095,DODGERBLUE:512819199,FIREBRICK:2988581631,FLORALWHITE:4294635775,FORESTGREEN:579543807,FUCHSIA:4278255615,GAINSBORO:3705462015,GHOSTWHITE:4177068031,GOLD:4292280575,GOLDENROD:3668254975,GRAY:2155905279,GREEN:8388863,GREENYELLOW:2919182335,GREY:2155905279,HONEYDEW:4043305215,HOTPINK:4285117695,INDIANRED:3445382399,INDIGO:1258324735,IVORY:4294963455,KHAKI:4041641215,LAVENDER:3873897215,LAVENDERBLUSH:4293981695,LAWNGREEN:2096890111,LEMONCHIFFON:4294626815,LIGHTBLUE:2916673279,LIGHTCORAL:4034953471,LIGHTCYAN:3774873599,LIGHTGOLDENRODYELLOW:4210742015,LIGHTGRAY:3553874943,LIGHTGREEN:2431553791,LIGHTGREY:3553874943,LIGHTPINK:4290167295,LIGHTSALMON:4288707327,LIGHTSEAGREEN:548580095,LIGHTSKYBLUE:2278488831,LIGHTSLATEGRAY:2005441023,LIGHTSLATEGREY:2005441023,LIGHTSTEELBLUE:2965692159,LIGHTYELLOW:4294959359,LIME:16711935,LIMEGREEN:852308735,LINEN:4210091775,MAGENTA:4278255615,MAROON:2147483903,MEDIUMAQUAMARINE:1724754687,MEDIUMBLUE:52735,MEDIUMORCHID:3126187007,MEDIUMPURPLE:2473647103,MEDIUMSEAGREEN:1018393087,MEDIUMSLATEBLUE:2070474495,MEDIUMSPRINGGREEN:16423679,MEDIUMTURQUOISE:1221709055,MEDIUMVIOLETRED:3340076543,MIDNIGHTBLUE:421097727,MINTCREAM:4127193855,MISTYROSE:4293190143,MOCCASIN:4293178879,NAVAJOWHITE:4292783615,NAVY:33023,OLDLACE:4260751103,OLIVE:2155872511,OLIVEDRAB:1804477439,ORANGE:4289003775,ORANGERED:4282712319,ORCHID:3664828159,PALEGOLDENROD:4008225535,PALEGREEN:2566625535,PALETURQUOISE:2951671551,PALEVIOLETRED:3681588223,PAPAYAWHIP:4293907967,PEACHPUFF:4292524543,PERU:3448061951,PINK:4290825215,PLUM:3718307327,POWDERBLUE:2967529215,PURPLE:2147516671,REBECCAPURPLE:1714657791,RED:4278190335,ROSYBROWN:3163525119,ROYALBLUE:1097458175,SADDLEBROWN:2336560127,SALMON:4202722047,SANDYBROWN:4104413439,SEAGREEN:780883967,SEASHELL:4294307583,SIENNA:2689740287,SILVER:3233857791,SKYBLUE:2278484991,SLATEBLUE:1784335871,SLATEGRAY:1887473919,SLATEGREY:1887473919,SNOW:4294638335,SPRINGGREEN:16744447,STEELBLUE:1182971135,TAN:3535047935,TEAL:8421631,THISTLE:3636451583,TOMATO:4284696575,TRANSPARENT:0,TURQUOISE:1088475391,VIOLET:4001558271,WHEAT:4125012991,WHITE:4294967295,WHITESMOKE:4126537215,YELLOW:4294902015,YELLOWGREEN:2597139199};(function(t){t[t["VALUE"]=0]="VALUE",t[t["LIST"]=1]="LIST",t[t["IDENT_VALUE"]=2]="IDENT_VALUE",t[t["TYPE_VALUE"]=3]="TYPE_VALUE",t[t["TOKEN_VALUE"]=4]="TOKEN_VALUE"})(ln||(ln={})),function(t){t[t["BORDER_BOX"]=0]="BORDER_BOX",t[t["PADDING_BOX"]=1]="PADDING_BOX",t[t["CONTENT_BOX"]=2]="CONTENT_BOX"}(un||(un={}));var pn,gn={name:"background-clip",initialValue:"border-box",prefix:!1,type:ln.LIST,parse:function(t){return t.map((function(t){if(Hi(t))switch(t.value){case"padding-box":return un.PADDING_BOX;case"content-box":return un.CONTENT_BOX}return un.BORDER_BOX}))}},vn={name:"background-color",initialValue:"transparent",prefix:!1,type:ln.TYPE_VALUE,format:"color"},mn=function(t){var e=nn.parse(t[0]),i=t[1];return i&&Li(i)?{color:e,stop:i}:{color:e,stop:null}},wn=function(t,e){var i=t[0],n=t[t.length-1];null===i.stop&&(i.stop=ji),null===n.stop&&(n.stop=Xi);for(var r=[],o=0,s=0;s<t.length;s++){var a=t[s].stop;if(null!==a){var A=Wi(a,e);A>o?r.push(A):r.push(o),o=A}else r.push(null)}var c=null;for(s=0;s<r.length;s++){var l=r[s];if(null===l)null===c&&(c=s);else if(null!==c){for(var u=s-c,h=r[c-1],f=(l-h)/(u+1),d=1;d<=u;d++)r[c+d-1]=f*d;c=null}}return t.map((function(t,i){var n=t.color;return{color:n,stop:Math.max(Math.min(1,r[i]/e),0)}}))},yn=function(t,e,i){var n=e/2,r=i/2,o=Wi(t[0],e)-n,s=r-Wi(t[1],i);return(Math.atan2(s,o)+2*Math.PI)%(2*Math.PI)},bn=function(t,e,i){var n="number"===typeof t?t:yn(t,e,i),r=Math.abs(e*Math.sin(n))+Math.abs(i*Math.cos(n)),o=e/2,s=i/2,a=r/2,A=Math.sin(n-Math.PI/2)*a,c=Math.cos(n-Math.PI/2)*a;return[r,o-c,o+c,s-A,s+A]},Bn=function(t,e){return Math.sqrt(t*t+e*e)},Cn=function(t,e,i,n,r){var o=[[0,0],[0,e],[t,0],[t,e]];return o.reduce((function(t,e){var o=e[0],s=e[1],a=Bn(i-o,n-s);return(r?a<t.optimumDistance:a>t.optimumDistance)?{optimumCorner:e,optimumDistance:a}:t}),{optimumDistance:r?1/0:-1/0,optimumCorner:null}).optimumCorner},En=function(t,e,i,n,r){var o=0,s=0;switch(t.size){case or.CLOSEST_SIDE:t.shape===rr.CIRCLE?o=s=Math.min(Math.abs(e),Math.abs(e-n),Math.abs(i),Math.abs(i-r)):t.shape===rr.ELLIPSE&&(o=Math.min(Math.abs(e),Math.abs(e-n)),s=Math.min(Math.abs(i),Math.abs(i-r)));break;case or.CLOSEST_CORNER:if(t.shape===rr.CIRCLE)o=s=Math.min(Bn(e,i),Bn(e,i-r),Bn(e-n,i),Bn(e-n,i-r));else if(t.shape===rr.ELLIPSE){var a=Math.min(Math.abs(i),Math.abs(i-r))/Math.min(Math.abs(e),Math.abs(e-n)),A=Cn(n,r,e,i,!0),c=A[0],l=A[1];o=Bn(c-e,(l-i)/a),s=a*o}break;case or.FARTHEST_SIDE:t.shape===rr.CIRCLE?o=s=Math.max(Math.abs(e),Math.abs(e-n),Math.abs(i),Math.abs(i-r)):t.shape===rr.ELLIPSE&&(o=Math.max(Math.abs(e),Math.abs(e-n)),s=Math.max(Math.abs(i),Math.abs(i-r)));break;case or.FARTHEST_CORNER:if(t.shape===rr.CIRCLE)o=s=Math.max(Bn(e,i),Bn(e,i-r),Bn(e-n,i),Bn(e-n,i-r));else if(t.shape===rr.ELLIPSE){a=Math.max(Math.abs(i),Math.abs(i-r))/Math.max(Math.abs(e),Math.abs(e-n));var u=Cn(n,r,e,i,!1);c=u[0],l=u[1];o=Bn(c-e,(l-i)/a),s=a*o}break}return Array.isArray(t.size)&&(o=Wi(t.size[0],n),s=2===t.size.length?Wi(t.size[1],r):o),[o,s]},xn=function(t){var e=en(180),i=[];return Mi(t).forEach((function(t,n){if(0===n){var r=t[0];if(r.type===f.IDENT_TOKEN&&"to"===r.value)return void(e=tn(t));if(Zi(r))return void(e=qi.parse(r))}var o=mn(t);i.push(o)})),{angle:e,stops:i,type:pn.LINEAR_GRADIENT}},_n=function(t){var e=en(180),i=[];return Mi(t).forEach((function(t,n){if(0===n){var r=t[0];if(r.type===f.IDENT_TOKEN&&-1!==["top","left","right","bottom"].indexOf(r.value))return void(e=tn(t));if(Zi(r))return void(e=(qi.parse(r)+en(270))%en(360))}var o=mn(t);i.push(o)})),{angle:e,stops:i,type:pn.LINEAR_GRADIENT}},Sn=function(t){var e=123;if(t.createRange){var i=t.createRange();if(i.getBoundingClientRect){var n=t.createElement("boundtest");n.style.height=e+"px",n.style.display="block",t.body.appendChild(n),i.selectNode(n);var r=i.getBoundingClientRect(),o=Math.round(r.height);if(t.body.removeChild(n),o===e)return!0}}return!1},Tn=function(){return"undefined"!==typeof(new Image).crossOrigin},Fn=function(){return"string"===typeof(new XMLHttpRequest).responseType},Qn=function(t){var e=new Image,i=t.createElement("canvas"),n=i.getContext("2d");if(!n)return!1;e.src="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg'></svg>";try{n.drawImage(e,0,0),i.toDataURL()}catch(Me){return!1}return!0},Un=function(t){return 0===t[0]&&255===t[1]&&0===t[2]&&255===t[3]},On=function(t){var e=t.createElement("canvas"),i=100;e.width=i,e.height=i;var n=e.getContext("2d");if(!n)return Promise.reject(!1);n.fillStyle="rgb(0, 255, 0)",n.fillRect(0,0,i,i);var r=new Image,o=e.toDataURL();r.src=o;var s=Hn(i,i,0,0,r);return n.fillStyle="red",n.fillRect(0,0,i,i),Dn(s).then((function(e){n.drawImage(e,0,0);var r=n.getImageData(0,0,i,i).data;n.fillStyle="red",n.fillRect(0,0,i,i);var s=t.createElement("div");return s.style.backgroundImage="url("+o+")",s.style.height=i+"px",Un(r)?Dn(Hn(i,i,0,0,s)):Promise.reject(!1)})).then((function(t){return n.drawImage(t,0,0),Un(n.getImageData(0,0,i,i).data)})).catch((function(){return!1}))},Hn=function(t,e,i,n,r){var o="http://www.w3.org/2000/svg",s=document.createElementNS(o,"svg"),a=document.createElementNS(o,"foreignObject");return s.setAttributeNS(null,"width",t.toString()),s.setAttributeNS(null,"height",e.toString()),a.setAttributeNS(null,"width","100%"),a.setAttributeNS(null,"height","100%"),a.setAttributeNS(null,"x",i.toString()),a.setAttributeNS(null,"y",n.toString()),a.setAttributeNS(null,"externalResourcesRequired","true"),s.appendChild(a),a.appendChild(r),s},Dn=function(t){return new Promise((function(e,i){var n=new Image;n.onload=function(){return e(n)},n.onerror=i,n.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent((new XMLSerializer).serializeToString(t))}))},In={get SUPPORT_RANGE_BOUNDS(){var t=Sn(document);return Object.defineProperty(In,"SUPPORT_RANGE_BOUNDS",{value:t}),t},get SUPPORT_SVG_DRAWING(){var t=Qn(document);return Object.defineProperty(In,"SUPPORT_SVG_DRAWING",{value:t}),t},get SUPPORT_FOREIGNOBJECT_DRAWING(){var t="function"===typeof Array.from&&"function"===typeof window.fetch?On(document):Promise.resolve(!1);return Object.defineProperty(In,"SUPPORT_FOREIGNOBJECT_DRAWING",{value:t}),t},get SUPPORT_CORS_IMAGES(){var t=Tn();return Object.defineProperty(In,"SUPPORT_CORS_IMAGES",{value:t}),t},get SUPPORT_RESPONSE_TYPE(){var t=Fn();return Object.defineProperty(In,"SUPPORT_RESPONSE_TYPE",{value:t}),t},get SUPPORT_CORS_XHR(){var t="withCredentials"in new XMLHttpRequest;return Object.defineProperty(In,"SUPPORT_CORS_XHR",{value:t}),t}},kn=function(){function t(t){var e=t.id,i=t.enabled;this.id=e,this.enabled=i,this.start=Date.now()}return t.prototype.debug=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.enabled&&("undefined"!==typeof window&&window.console&&"function"===typeof console.debug?console.debug.apply(console,[this.id,this.getTime()+"ms"].concat(t)):this.info.apply(this,t))},t.prototype.getTime=function(){return Date.now()-this.start},t.create=function(e){t.instances[e.id]=new t(e)},t.destroy=function(e){delete t.instances[e]},t.getInstance=function(e){var i=t.instances[e];if("undefined"===typeof i)throw new Error("No logger instance found with id "+e);return i},t.prototype.info=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.enabled&&"undefined"!==typeof window&&window.console&&"function"===typeof console.info&&console.info.apply(console,[this.id,this.getTime()+"ms"].concat(t))},t.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.enabled&&("undefined"!==typeof window&&window.console&&"function"===typeof console.error?console.error.apply(console,[this.id,this.getTime()+"ms"].concat(t)):this.info.apply(this,t))},t.instances={},t}(),Rn=function(){function t(){}return t.create=function(e,i){return t._caches[e]=new Mn(e,i)},t.destroy=function(e){delete t._caches[e]},t.open=function(e){var i=t._caches[e];if("undefined"!==typeof i)return i;throw new Error('Cache with key "'+e+'" not found')},t.getOrigin=function(e){var i=t._link;return i?(i.href=e,i.href=i.href,i.protocol+i.hostname+i.port):"about:blank"},t.isSameOrigin=function(e){return t.getOrigin(e)===t._origin},t.setContext=function(e){t._link=e.document.createElement("a"),t._origin=t.getOrigin(e.location.href)},t.getInstance=function(){var e=t._current;if(null===e)throw new Error("No cache instance attached");return e},t.attachInstance=function(e){t._current=e},t.detachInstance=function(){t._current=null},t._caches={},t._origin="about:blank",t._current=null,t}(),Mn=function(){function t(t,e){this.id=t,this._options=e,this._cache={}}return t.prototype.addImage=function(t){var e=Promise.resolve();return this.has(t)?e:Xn(t)||zn(t)?(this._cache[t]=this.loadImage(t),e):e},t.prototype.match=function(t){return this._cache[t]},t.prototype.loadImage=function(t){return n(this,void 0,void 0,(function(){var e,i,n,o,s=this;return r(this,(function(r){switch(r.label){case 0:return e=Rn.isSameOrigin(t),i=!jn(t)&&!0===this._options.useCORS&&In.SUPPORT_CORS_IMAGES&&!e,n=!jn(t)&&!e&&"string"===typeof this._options.proxy&&In.SUPPORT_CORS_XHR&&!i,e||!1!==this._options.allowTaint||jn(t)||n||i?(o=t,n?[4,this.proxy(o)]:[3,2]):[2];case 1:o=r.sent(),r.label=2;case 2:return kn.getInstance(this.id).debug("Added image "+t.substring(0,256)),[4,new Promise((function(t,e){var n=new Image;n.onload=function(){return t(n)},n.onerror=e,(Kn(o)||i)&&(n.crossOrigin="anonymous"),n.src=o,!0===n.complete&&setTimeout((function(){return t(n)}),500),s._options.imageTimeout>0&&setTimeout((function(){return e("Timed out ("+s._options.imageTimeout+"ms) loading image")}),s._options.imageTimeout)}))];case 3:return[2,r.sent()]}}))}))},t.prototype.has=function(t){return"undefined"!==typeof this._cache[t]},t.prototype.keys=function(){return Promise.resolve(Object.keys(this._cache))},t.prototype.proxy=function(t){var e=this,i=this._options.proxy;if(!i)throw new Error("No proxy defined");var n=t.substring(0,256);return new Promise((function(r,o){var s=In.SUPPORT_RESPONSE_TYPE?"blob":"text",a=new XMLHttpRequest;if(a.onload=function(){if(200===a.status)if("text"===s)r(a.response);else{var t=new FileReader;t.addEventListener("load",(function(){return r(t.result)}),!1),t.addEventListener("error",(function(t){return o(t)}),!1),t.readAsDataURL(a.response)}else o("Failed to proxy resource "+n+" with status code "+a.status)},a.onerror=o,a.open("GET",i+"?url="+encodeURIComponent(t)+"&responseType="+s),"text"!==s&&a instanceof XMLHttpRequest&&(a.responseType=s),e._options.imageTimeout){var A=e._options.imageTimeout;a.timeout=A,a.ontimeout=function(){return o("Timed out ("+A+"ms) proxying "+n)}}a.send()}))},t}(),Pn=/^data:image\/svg\+xml/i,Nn=/^data:image\/.*;base64,/i,Ln=/^data:image\/.*/i,zn=function(t){return In.SUPPORT_SVG_DRAWING||!Vn(t)},jn=function(t){return Ln.test(t)},Kn=function(t){return Nn.test(t)},Xn=function(t){return"blob"===t.substr(0,4)},Vn=function(t){return"svg"===t.substr(-3).toLowerCase()||Pn.test(t)},Wn=function(t){var e=en(180),i=[],n=pn.LINEAR_GRADIENT,r=rr.CIRCLE,o=or.FARTHEST_CORNER,s=[];return Mi(t).forEach((function(t,e){var r=t[0];if(0===e){if(Hi(r)&&"linear"===r.value)return void(n=pn.LINEAR_GRADIENT);if(Hi(r)&&"radial"===r.value)return void(n=pn.RADIAL_GRADIENT)}if(r.type===f.FUNCTION)if("from"===r.name){var o=nn.parse(r.values[0]);i.push({stop:ji,color:o})}else if("to"===r.name){o=nn.parse(r.values[0]);i.push({stop:Xi,color:o})}else if("color-stop"===r.name){var s=r.values.filter(Ri);if(2===s.length){o=nn.parse(s[1]);var a=s[0];Oi(a)&&i.push({stop:{type:f.PERCENTAGE_TOKEN,number:100*a.number,flags:a.flags},color:o})}}})),n===pn.LINEAR_GRADIENT?{angle:(e+en(180))%en(360),stops:i,type:n}:{size:o,shape:r,stops:i,position:s,type:n}},Gn="closest-side",Yn="farthest-side",Jn="closest-corner",$n="farthest-corner",qn="circle",Zn="ellipse",tr="cover",er="contain",ir=function(t){var e=rr.CIRCLE,i=or.FARTHEST_CORNER,n=[],r=[];return Mi(t).forEach((function(t,o){var s=!0;if(0===o){var a=!1;s=t.reduce((function(t,n){if(a)if(Hi(n))switch(n.value){case"center":return r.push(Ki),t;case"top":case"left":return r.push(ji),t;case"right":case"bottom":return r.push(Xi),t}else(Li(n)||Ni(n))&&r.push(n);else if(Hi(n))switch(n.value){case qn:return e=rr.CIRCLE,!1;case Zn:return e=rr.ELLIPSE,!1;case"at":return a=!0,!1;case Gn:return i=or.CLOSEST_SIDE,!1;case tr:case Yn:return i=or.FARTHEST_SIDE,!1;case er:case Jn:return i=or.CLOSEST_CORNER,!1;case $n:return i=or.FARTHEST_CORNER,!1}else if(Ni(n)||Li(n))return Array.isArray(i)||(i=[]),i.push(n),!1;return t}),s)}if(s){var A=mn(t);n.push(A)}})),{size:i,shape:e,stops:n,position:r,type:pn.RADIAL_GRADIENT}},nr=function(t){var e=rr.CIRCLE,i=or.FARTHEST_CORNER,n=[],r=[];return Mi(t).forEach((function(t,o){var s=!0;if(0===o?s=t.reduce((function(t,e){if(Hi(e))switch(e.value){case"center":return r.push(Ki),!1;case"top":case"left":return r.push(ji),!1;case"right":case"bottom":return r.push(Xi),!1}else if(Li(e)||Ni(e))return r.push(e),!1;return t}),s):1===o&&(s=t.reduce((function(t,n){if(Hi(n))switch(n.value){case qn:return e=rr.CIRCLE,!1;case Zn:return e=rr.ELLIPSE,!1;case er:case Gn:return i=or.CLOSEST_SIDE,!1;case Yn:return i=or.FARTHEST_SIDE,!1;case Jn:return i=or.CLOSEST_CORNER,!1;case tr:case $n:return i=or.FARTHEST_CORNER,!1}else if(Ni(n)||Li(n))return Array.isArray(i)||(i=[]),i.push(n),!1;return t}),s)),s){var a=mn(t);n.push(a)}})),{size:i,shape:e,stops:n,position:r,type:pn.RADIAL_GRADIENT}};(function(t){t[t["URL"]=0]="URL",t[t["LINEAR_GRADIENT"]=1]="LINEAR_GRADIENT",t[t["RADIAL_GRADIENT"]=2]="RADIAL_GRADIENT"})(pn||(pn={}));var rr,or,sr=function(t){return t.type===pn.LINEAR_GRADIENT},ar=function(t){return t.type===pn.RADIAL_GRADIENT};(function(t){t[t["CIRCLE"]=0]="CIRCLE",t[t["ELLIPSE"]=1]="ELLIPSE"})(rr||(rr={})),function(t){t[t["CLOSEST_SIDE"]=0]="CLOSEST_SIDE",t[t["FARTHEST_SIDE"]=1]="FARTHEST_SIDE",t[t["CLOSEST_CORNER"]=2]="CLOSEST_CORNER",t[t["FARTHEST_CORNER"]=3]="FARTHEST_CORNER"}(or||(or={}));var Ar={name:"image",parse:function(t){if(t.type===f.URL_TOKEN){var e={url:t.value,type:pn.URL};return Rn.getInstance().addImage(t.value),e}if(t.type===f.FUNCTION){var i=ur[t.name];if("undefined"===typeof i)throw new Error('Attempting to parse an unsupported image function "'+t.name+'"');return i(t.values)}throw new Error("Unsupported image type")}};function cr(t){return t.type!==f.FUNCTION||ur[t.name]}var lr,ur={"linear-gradient":xn,"-moz-linear-gradient":_n,"-ms-linear-gradient":_n,"-o-linear-gradient":_n,"-webkit-linear-gradient":_n,"radial-gradient":ir,"-moz-radial-gradient":nr,"-ms-radial-gradient":nr,"-o-radial-gradient":nr,"-webkit-radial-gradient":nr,"-webkit-gradient":Wn},hr={name:"background-image",initialValue:"none",type:ln.LIST,prefix:!1,parse:function(t){if(0===t.length)return[];var e=t[0];return e.type===f.IDENT_TOKEN&&"none"===e.value?[]:t.filter((function(t){return Ri(t)&&cr(t)})).map(Ar.parse)}},fr={name:"background-origin",initialValue:"border-box",prefix:!1,type:ln.LIST,parse:function(t){return t.map((function(t){if(Hi(t))switch(t.value){case"padding-box":return 1;case"content-box":return 2}return 0}))}},dr={name:"background-position",initialValue:"0% 0%",type:ln.LIST,prefix:!1,parse:function(t){return Mi(t).map((function(t){return t.filter(Li)})).map(zi)}};(function(t){t[t["REPEAT"]=0]="REPEAT",t[t["NO_REPEAT"]=1]="NO_REPEAT",t[t["REPEAT_X"]=2]="REPEAT_X",t[t["REPEAT_Y"]=3]="REPEAT_Y"})(lr||(lr={}));var pr,gr={name:"background-repeat",initialValue:"repeat",prefix:!1,type:ln.LIST,parse:function(t){return Mi(t).map((function(t){return t.filter(Hi).map((function(t){return t.value})).join(" ")})).map(vr)}},vr=function(t){switch(t){case"no-repeat":return lr.NO_REPEAT;case"repeat-x":case"repeat no-repeat":return lr.REPEAT_X;case"repeat-y":case"no-repeat repeat":return lr.REPEAT_Y;case"repeat":default:return lr.REPEAT}};(function(t){t["AUTO"]="auto",t["CONTAIN"]="contain",t["COVER"]="cover"})(pr||(pr={}));var mr,wr={name:"background-size",initialValue:"0",prefix:!1,type:ln.LIST,parse:function(t){return Mi(t).map((function(t){return t.filter(yr)}))}},yr=function(t){return Hi(t)||Li(t)},br=function(t){return{name:"border-"+t+"-color",initialValue:"transparent",prefix:!1,type:ln.TYPE_VALUE,format:"color"}},Br=br("top"),Cr=br("right"),Er=br("bottom"),xr=br("left"),_r=function(t){return{name:"border-radius-"+t,initialValue:"0 0",prefix:!1,type:ln.LIST,parse:function(t){return zi(t.filter(Li))}}},Sr=_r("top-left"),Tr=_r("top-right"),Fr=_r("bottom-right"),Qr=_r("bottom-left");(function(t){t[t["NONE"]=0]="NONE",t[t["SOLID"]=1]="SOLID"})(mr||(mr={}));var Ur,Or=function(t){return{name:"border-"+t+"-style",initialValue:"solid",prefix:!1,type:ln.IDENT_VALUE,parse:function(t){switch(t){case"none":return mr.NONE}return mr.SOLID}}},Hr=Or("top"),Dr=Or("right"),Ir=Or("bottom"),kr=Or("left"),Rr=function(t){return{name:"border-"+t+"-width",initialValue:"0",type:ln.VALUE,prefix:!1,parse:function(t){return Ui(t)?t.number:0}}},Mr=Rr("top"),Pr=Rr("right"),Nr=Rr("bottom"),Lr=Rr("left"),zr={name:"color",initialValue:"transparent",prefix:!1,type:ln.TYPE_VALUE,format:"color"},jr={name:"display",initialValue:"inline-block",prefix:!1,type:ln.LIST,parse:function(t){return t.filter(Hi).reduce((function(t,e){return t|Kr(e.value)}),0)}},Kr=function(t){switch(t){case"block":return 2;case"inline":return 4;case"run-in":return 8;case"flow":return 16;case"flow-root":return 32;case"table":return 64;case"flex":case"-webkit-flex":return 128;case"grid":case"-ms-grid":return 256;case"ruby":return 512;case"subgrid":return 1024;case"list-item":return 2048;case"table-row-group":return 4096;case"table-header-group":return 8192;case"table-footer-group":return 16384;case"table-row":return 32768;case"table-cell":return 65536;case"table-column-group":return 131072;case"table-column":return 262144;case"table-caption":return 524288;case"ruby-base":return 1048576;case"ruby-text":return 2097152;case"ruby-base-container":return 4194304;case"ruby-text-container":return 8388608;case"contents":return 16777216;case"inline-block":return 33554432;case"inline-list-item":return 67108864;case"inline-table":return 134217728;case"inline-flex":return 268435456;case"inline-grid":return 536870912}return 0};(function(t){t[t["NONE"]=0]="NONE",t[t["LEFT"]=1]="LEFT",t[t["RIGHT"]=2]="RIGHT",t[t["INLINE_START"]=3]="INLINE_START",t[t["INLINE_END"]=4]="INLINE_END"})(Ur||(Ur={}));var Xr,Vr={name:"float",initialValue:"none",prefix:!1,type:ln.IDENT_VALUE,parse:function(t){switch(t){case"left":return Ur.LEFT;case"right":return Ur.RIGHT;case"inline-start":return Ur.INLINE_START;case"inline-end":return Ur.INLINE_END}return Ur.NONE}},Wr={name:"letter-spacing",initialValue:"0",prefix:!1,type:ln.VALUE,parse:function(t){return t.type===f.IDENT_TOKEN&&"normal"===t.value?0:t.type===f.NUMBER_TOKEN||t.type===f.DIMENSION_TOKEN?t.number:0}};(function(t){t["NORMAL"]="normal",t["STRICT"]="strict"})(Xr||(Xr={}));var Gr,Yr={name:"line-break",initialValue:"normal",prefix:!1,type:ln.IDENT_VALUE,parse:function(t){switch(t){case"strict":return Xr.STRICT;case"normal":default:return Xr.NORMAL}}},Jr={name:"line-height",initialValue:"normal",prefix:!1,type:ln.TOKEN_VALUE},$r=function(t,e){return Hi(t)&&"normal"===t.value?1.2*e:t.type===f.NUMBER_TOKEN?e*t.number:Li(t)?Wi(t,e):e},qr={name:"list-style-image",initialValue:"none",type:ln.VALUE,prefix:!1,parse:function(t){return t.type===f.IDENT_TOKEN&&"none"===t.value?null:Ar.parse(t)}};(function(t){t[t["INSIDE"]=0]="INSIDE",t[t["OUTSIDE"]=1]="OUTSIDE"})(Gr||(Gr={}));var Zr,to={name:"list-style-position",initialValue:"outside",prefix:!1,type:ln.IDENT_VALUE,parse:function(t){switch(t){case"inside":return Gr.INSIDE;case"outside":default:return Gr.OUTSIDE}}};(function(t){t[t["NONE"]=-1]="NONE",t[t["DISC"]=0]="DISC",t[t["CIRCLE"]=1]="CIRCLE",t[t["SQUARE"]=2]="SQUARE",t[t["DECIMAL"]=3]="DECIMAL",t[t["CJK_DECIMAL"]=4]="CJK_DECIMAL",t[t["DECIMAL_LEADING_ZERO"]=5]="DECIMAL_LEADING_ZERO",t[t["LOWER_ROMAN"]=6]="LOWER_ROMAN",t[t["UPPER_ROMAN"]=7]="UPPER_ROMAN",t[t["LOWER_GREEK"]=8]="LOWER_GREEK",t[t["LOWER_ALPHA"]=9]="LOWER_ALPHA",t[t["UPPER_ALPHA"]=10]="UPPER_ALPHA",t[t["ARABIC_INDIC"]=11]="ARABIC_INDIC",t[t["ARMENIAN"]=12]="ARMENIAN",t[t["BENGALI"]=13]="BENGALI",t[t["CAMBODIAN"]=14]="CAMBODIAN",t[t["CJK_EARTHLY_BRANCH"]=15]="CJK_EARTHLY_BRANCH",t[t["CJK_HEAVENLY_STEM"]=16]="CJK_HEAVENLY_STEM",t[t["CJK_IDEOGRAPHIC"]=17]="CJK_IDEOGRAPHIC",t[t["DEVANAGARI"]=18]="DEVANAGARI",t[t["ETHIOPIC_NUMERIC"]=19]="ETHIOPIC_NUMERIC",t[t["GEORGIAN"]=20]="GEORGIAN",t[t["GUJARATI"]=21]="GUJARATI",t[t["GURMUKHI"]=22]="GURMUKHI",t[t["HEBREW"]=22]="HEBREW",t[t["HIRAGANA"]=23]="HIRAGANA",t[t["HIRAGANA_IROHA"]=24]="HIRAGANA_IROHA",t[t["JAPANESE_FORMAL"]=25]="JAPANESE_FORMAL",t[t["JAPANESE_INFORMAL"]=26]="JAPANESE_INFORMAL",t[t["KANNADA"]=27]="KANNADA",t[t["KATAKANA"]=28]="KATAKANA",t[t["KATAKANA_IROHA"]=29]="KATAKANA_IROHA",t[t["KHMER"]=30]="KHMER",t[t["KOREAN_HANGUL_FORMAL"]=31]="KOREAN_HANGUL_FORMAL",t[t["KOREAN_HANJA_FORMAL"]=32]="KOREAN_HANJA_FORMAL",t[t["KOREAN_HANJA_INFORMAL"]=33]="KOREAN_HANJA_INFORMAL",t[t["LAO"]=34]="LAO",t[t["LOWER_ARMENIAN"]=35]="LOWER_ARMENIAN",t[t["MALAYALAM"]=36]="MALAYALAM",t[t["MONGOLIAN"]=37]="MONGOLIAN",t[t["MYANMAR"]=38]="MYANMAR",t[t["ORIYA"]=39]="ORIYA",t[t["PERSIAN"]=40]="PERSIAN",t[t["SIMP_CHINESE_FORMAL"]=41]="SIMP_CHINESE_FORMAL",t[t["SIMP_CHINESE_INFORMAL"]=42]="SIMP_CHINESE_INFORMAL",t[t["TAMIL"]=43]="TAMIL",t[t["TELUGU"]=44]="TELUGU",t[t["THAI"]=45]="THAI",t[t["TIBETAN"]=46]="TIBETAN",t[t["TRAD_CHINESE_FORMAL"]=47]="TRAD_CHINESE_FORMAL",t[t["TRAD_CHINESE_INFORMAL"]=48]="TRAD_CHINESE_INFORMAL",t[t["UPPER_ARMENIAN"]=49]="UPPER_ARMENIAN",t[t["DISCLOSURE_OPEN"]=50]="DISCLOSURE_OPEN",t[t["DISCLOSURE_CLOSED"]=51]="DISCLOSURE_CLOSED"})(Zr||(Zr={}));var eo,io={name:"list-style-type",initialValue:"none",prefix:!1,type:ln.IDENT_VALUE,parse:function(t){switch(t){case"disc":return Zr.DISC;case"circle":return Zr.CIRCLE;case"square":return Zr.SQUARE;case"decimal":return Zr.DECIMAL;case"cjk-decimal":return Zr.CJK_DECIMAL;case"decimal-leading-zero":return Zr.DECIMAL_LEADING_ZERO;case"lower-roman":return Zr.LOWER_ROMAN;case"upper-roman":return Zr.UPPER_ROMAN;case"lower-greek":return Zr.LOWER_GREEK;case"lower-alpha":return Zr.LOWER_ALPHA;case"upper-alpha":return Zr.UPPER_ALPHA;case"arabic-indic":return Zr.ARABIC_INDIC;case"armenian":return Zr.ARMENIAN;case"bengali":return Zr.BENGALI;case"cambodian":return Zr.CAMBODIAN;case"cjk-earthly-branch":return Zr.CJK_EARTHLY_BRANCH;case"cjk-heavenly-stem":return Zr.CJK_HEAVENLY_STEM;case"cjk-ideographic":return Zr.CJK_IDEOGRAPHIC;case"devanagari":return Zr.DEVANAGARI;case"ethiopic-numeric":return Zr.ETHIOPIC_NUMERIC;case"georgian":return Zr.GEORGIAN;case"gujarati":return Zr.GUJARATI;case"gurmukhi":return Zr.GURMUKHI;case"hebrew":return Zr.HEBREW;case"hiragana":return Zr.HIRAGANA;case"hiragana-iroha":return Zr.HIRAGANA_IROHA;case"japanese-formal":return Zr.JAPANESE_FORMAL;case"japanese-informal":return Zr.JAPANESE_INFORMAL;case"kannada":return Zr.KANNADA;case"katakana":return Zr.KATAKANA;case"katakana-iroha":return Zr.KATAKANA_IROHA;case"khmer":return Zr.KHMER;case"korean-hangul-formal":return Zr.KOREAN_HANGUL_FORMAL;case"korean-hanja-formal":return Zr.KOREAN_HANJA_FORMAL;case"korean-hanja-informal":return Zr.KOREAN_HANJA_INFORMAL;case"lao":return Zr.LAO;case"lower-armenian":return Zr.LOWER_ARMENIAN;case"malayalam":return Zr.MALAYALAM;case"mongolian":return Zr.MONGOLIAN;case"myanmar":return Zr.MYANMAR;case"oriya":return Zr.ORIYA;case"persian":return Zr.PERSIAN;case"simp-chinese-formal":return Zr.SIMP_CHINESE_FORMAL;case"simp-chinese-informal":return Zr.SIMP_CHINESE_INFORMAL;case"tamil":return Zr.TAMIL;case"telugu":return Zr.TELUGU;case"thai":return Zr.THAI;case"tibetan":return Zr.TIBETAN;case"trad-chinese-formal":return Zr.TRAD_CHINESE_FORMAL;case"trad-chinese-informal":return Zr.TRAD_CHINESE_INFORMAL;case"upper-armenian":return Zr.UPPER_ARMENIAN;case"disclosure-open":return Zr.DISCLOSURE_OPEN;case"disclosure-closed":return Zr.DISCLOSURE_CLOSED;case"none":default:return Zr.NONE}}},no=function(t){return{name:"margin-"+t,initialValue:"0",prefix:!1,type:ln.TOKEN_VALUE}},ro=no("top"),oo=no("right"),so=no("bottom"),ao=no("left");(function(t){t[t["VISIBLE"]=0]="VISIBLE",t[t["HIDDEN"]=1]="HIDDEN",t[t["SCROLL"]=2]="SCROLL",t[t["AUTO"]=3]="AUTO"})(eo||(eo={}));var Ao,co={name:"overflow",initialValue:"visible",prefix:!1,type:ln.LIST,parse:function(t){return t.filter(Hi).map((function(t){switch(t.value){case"hidden":return eo.HIDDEN;case"scroll":return eo.SCROLL;case"auto":return eo.AUTO;case"visible":default:return eo.VISIBLE}}))}};(function(t){t["NORMAL"]="normal",t["BREAK_WORD"]="break-word"})(Ao||(Ao={}));var lo,uo={name:"overflow-wrap",initialValue:"normal",prefix:!1,type:ln.IDENT_VALUE,parse:function(t){switch(t){case"break-word":return Ao.BREAK_WORD;case"normal":default:return Ao.NORMAL}}},ho=function(t){return{name:"padding-"+t,initialValue:"0",prefix:!1,type:ln.TYPE_VALUE,format:"length-percentage"}},fo=ho("top"),po=ho("right"),go=ho("bottom"),vo=ho("left");(function(t){t[t["LEFT"]=0]="LEFT",t[t["CENTER"]=1]="CENTER",t[t["RIGHT"]=2]="RIGHT"})(lo||(lo={}));var mo,wo={name:"text-align",initialValue:"left",prefix:!1,type:ln.IDENT_VALUE,parse:function(t){switch(t){case"right":return lo.RIGHT;case"center":case"justify":return lo.CENTER;case"left":default:return lo.LEFT}}};(function(t){t[t["STATIC"]=0]="STATIC",t[t["RELATIVE"]=1]="RELATIVE",t[t["ABSOLUTE"]=2]="ABSOLUTE",t[t["FIXED"]=3]="FIXED",t[t["STICKY"]=4]="STICKY"})(mo||(mo={}));var yo,bo={name:"position",initialValue:"static",prefix:!1,type:ln.IDENT_VALUE,parse:function(t){switch(t){case"relative":return mo.RELATIVE;case"absolute":return mo.ABSOLUTE;case"fixed":return mo.FIXED;case"sticky":return mo.STICKY}return mo.STATIC}},Bo={name:"text-shadow",initialValue:"none",type:ln.LIST,prefix:!1,parse:function(t){return 1===t.length&&Ii(t[0],"none")?[]:Mi(t).map((function(t){for(var e={color:dn.TRANSPARENT,offsetX:ji,offsetY:ji,blur:ji},i=0,n=0;n<t.length;n++){var r=t[n];Ni(r)?(0===i?e.offsetX=r:1===i?e.offsetY=r:e.blur=r,i++):e.color=nn.parse(r)}return e}))}};(function(t){t[t["NONE"]=0]="NONE",t[t["LOWERCASE"]=1]="LOWERCASE",t[t["UPPERCASE"]=2]="UPPERCASE",t[t["CAPITALIZE"]=3]="CAPITALIZE"})(yo||(yo={}));var Co,Eo={name:"text-transform",initialValue:"none",prefix:!1,type:ln.IDENT_VALUE,parse:function(t){switch(t){case"uppercase":return yo.UPPERCASE;case"lowercase":return yo.LOWERCASE;case"capitalize":return yo.CAPITALIZE}return yo.NONE}},xo={name:"transform",initialValue:"none",prefix:!0,type:ln.VALUE,parse:function(t){if(t.type===f.IDENT_TOKEN&&"none"===t.value)return null;if(t.type===f.FUNCTION){var e=To[t.name];if("undefined"===typeof e)throw new Error('Attempting to parse an unsupported transform function "'+t.name+'"');return e(t.values)}return null}},_o=function(t){var e=t.filter((function(t){return t.type===f.NUMBER_TOKEN})).map((function(t){return t.number}));return 6===e.length?e:null},So=function(t){var e=t.filter((function(t){return t.type===f.NUMBER_TOKEN})).map((function(t){return t.number})),i=e[0],n=e[1],r=(e[2],e[3],e[4]),o=e[5],s=(e[6],e[7],e[8],e[9],e[10],e[11],e[12]),a=e[13];e[14],e[15];return 16===e.length?[i,n,r,o,s,a]:null},To={matrix:_o,matrix3d:So},Fo={type:f.PERCENTAGE_TOKEN,number:50,flags:Vt},Qo=[Fo,Fo],Uo={name:"transform-origin",initialValue:"50% 50%",prefix:!0,type:ln.LIST,parse:function(t){var e=t.filter(Li);return 2!==e.length?Qo:[e[0],e[1]]}};(function(t){t[t["VISIBLE"]=0]="VISIBLE",t[t["HIDDEN"]=1]="HIDDEN",t[t["COLLAPSE"]=2]="COLLAPSE"})(Co||(Co={}));var Oo,Ho={name:"visible",initialValue:"none",prefix:!1,type:ln.IDENT_VALUE,parse:function(t){switch(t){case"hidden":return Co.HIDDEN;case"collapse":return Co.COLLAPSE;case"visible":default:return Co.VISIBLE}}};(function(t){t["NORMAL"]="normal",t["BREAK_ALL"]="break-all",t["KEEP_ALL"]="keep-all"})(Oo||(Oo={}));var Do,Io={name:"word-break",initialValue:"normal",prefix:!1,type:ln.IDENT_VALUE,parse:function(t){switch(t){case"break-all":return Oo.BREAK_ALL;case"keep-all":return Oo.KEEP_ALL;case"normal":default:return Oo.NORMAL}}},ko={name:"z-index",initialValue:"auto",prefix:!1,type:ln.VALUE,parse:function(t){if(t.type===f.IDENT_TOKEN)return{auto:!0,order:0};if(Oi(t))return{auto:!1,order:t.number};throw new Error("Invalid z-index number parsed")}},Ro={name:"opacity",initialValue:"1",type:ln.VALUE,prefix:!1,parse:function(t){return Oi(t)?t.number:1}},Mo={name:"text-decoration-color",initialValue:"transparent",prefix:!1,type:ln.TYPE_VALUE,format:"color"},Po={name:"text-decoration-line",initialValue:"none",prefix:!1,type:ln.LIST,parse:function(t){return t.filter(Hi).map((function(t){switch(t.value){case"underline":return 1;case"overline":return 2;case"line-through":return 3;case"none":return 4}return 0})).filter((function(t){return 0!==t}))}},No={name:"font-family",initialValue:"",prefix:!1,type:ln.LIST,parse:function(t){var e=[],i=[];return t.forEach((function(t){switch(t.type){case f.IDENT_TOKEN:case f.STRING_TOKEN:e.push(t.value);break;case f.NUMBER_TOKEN:e.push(t.number.toString());break;case f.COMMA_TOKEN:i.push(e.join(" ")),e.length=0;break}})),e.length&&i.push(e.join(" ")),i.map((function(t){return-1===t.indexOf(" ")?t:"'"+t+"'"}))}},Lo={name:"font-size",initialValue:"0",prefix:!1,type:ln.TYPE_VALUE,format:"length"},zo={name:"font-weight",initialValue:"normal",type:ln.VALUE,prefix:!1,parse:function(t){if(Oi(t))return t.number;if(Hi(t))switch(t.value){case"bold":return 700;case"normal":default:return 400}return 400}},jo={name:"font-variant",initialValue:"none",type:ln.LIST,prefix:!1,parse:function(t){return t.filter(Hi).map((function(t){return t.value}))}};(function(t){t["NORMAL"]="normal",t["ITALIC"]="italic",t["OBLIQUE"]="oblique"})(Do||(Do={}));var Ko,Xo={name:"font-style",initialValue:"normal",prefix:!1,type:ln.IDENT_VALUE,parse:function(t){switch(t){case"oblique":return Do.OBLIQUE;case"italic":return Do.ITALIC;case"normal":default:return Do.NORMAL}}},Vo=function(t,e){return 0!==(t&e)},Wo={name:"content",initialValue:"none",type:ln.LIST,prefix:!1,parse:function(t){if(0===t.length)return[];var e=t[0];return e.type===f.IDENT_TOKEN&&"none"===e.value?[]:t}},Go={name:"counter-increment",initialValue:"none",prefix:!0,type:ln.LIST,parse:function(t){if(0===t.length)return null;var e=t[0];if(e.type===f.IDENT_TOKEN&&"none"===e.value)return null;for(var i=[],n=t.filter(ki),r=0;r<n.length;r++){var o=n[r],s=n[r+1];if(o.type===f.IDENT_TOKEN){var a=s&&Oi(s)?s.number:1;i.push({counter:o.value,increment:a})}}return i}},Yo={name:"counter-reset",initialValue:"none",prefix:!0,type:ln.LIST,parse:function(t){if(0===t.length)return[];for(var e=[],i=t.filter(ki),n=0;n<i.length;n++){var r=i[n],o=i[n+1];if(Hi(r)&&"none"!==r.value){var s=o&&Oi(o)?o.number:0;e.push({counter:r.value,reset:s})}}return e}},Jo={name:"quotes",initialValue:"none",prefix:!0,type:ln.LIST,parse:function(t){if(0===t.length)return null;var e=t[0];if(e.type===f.IDENT_TOKEN&&"none"===e.value)return null;var i=[],n=t.filter(Di);if(n.length%2!==0)return null;for(var r=0;r<n.length;r+=2){var o=n[r].value,s=n[r+1].value;i.push({open:o,close:s})}return i}},$o=function(t,e,i){if(!t)return"";var n=t[Math.min(e,t.length-1)];return n?i?n.open:n.close:""},qo={name:"box-shadow",initialValue:"none",type:ln.LIST,prefix:!1,parse:function(t){return 1===t.length&&Ii(t[0],"none")?[]:Mi(t).map((function(t){for(var e={color:255,offsetX:ji,offsetY:ji,blur:ji,spread:ji,inset:!1},i=0,n=0;n<t.length;n++){var r=t[n];Ii(r,"inset")?e.inset=!0:Ni(r)?(0===i?e.offsetX=r:1===i?e.offsetY=r:2===i?e.blur=r:e.spread=r,i++):e.color=nn.parse(r)}return e}))}},Zo=function(){function t(t){this.backgroundClip=is(gn,t.backgroundClip),this.backgroundColor=is(vn,t.backgroundColor),this.backgroundImage=is(hr,t.backgroundImage),this.backgroundOrigin=is(fr,t.backgroundOrigin),this.backgroundPosition=is(dr,t.backgroundPosition),this.backgroundRepeat=is(gr,t.backgroundRepeat),this.backgroundSize=is(wr,t.backgroundSize),this.borderTopColor=is(Br,t.borderTopColor),this.borderRightColor=is(Cr,t.borderRightColor),this.borderBottomColor=is(Er,t.borderBottomColor),this.borderLeftColor=is(xr,t.borderLeftColor),this.borderTopLeftRadius=is(Sr,t.borderTopLeftRadius),this.borderTopRightRadius=is(Tr,t.borderTopRightRadius),this.borderBottomRightRadius=is(Fr,t.borderBottomRightRadius),this.borderBottomLeftRadius=is(Qr,t.borderBottomLeftRadius),this.borderTopStyle=is(Hr,t.borderTopStyle),this.borderRightStyle=is(Dr,t.borderRightStyle),this.borderBottomStyle=is(Ir,t.borderBottomStyle),this.borderLeftStyle=is(kr,t.borderLeftStyle),this.borderTopWidth=is(Mr,t.borderTopWidth),this.borderRightWidth=is(Pr,t.borderRightWidth),this.borderBottomWidth=is(Nr,t.borderBottomWidth),this.borderLeftWidth=is(Lr,t.borderLeftWidth),this.boxShadow=is(qo,t.boxShadow),this.color=is(zr,t.color),this.display=is(jr,t.display),this.float=is(Vr,t.cssFloat),this.fontFamily=is(No,t.fontFamily),this.fontSize=is(Lo,t.fontSize),this.fontStyle=is(Xo,t.fontStyle),this.fontVariant=is(jo,t.fontVariant),this.fontWeight=is(zo,t.fontWeight),this.letterSpacing=is(Wr,t.letterSpacing),this.lineBreak=is(Yr,t.lineBreak),this.lineHeight=is(Jr,t.lineHeight),this.listStyleImage=is(qr,t.listStyleImage),this.listStylePosition=is(to,t.listStylePosition),this.listStyleType=is(io,t.listStyleType),this.marginTop=is(ro,t.marginTop),this.marginRight=is(oo,t.marginRight),this.marginBottom=is(so,t.marginBottom),this.marginLeft=is(ao,t.marginLeft),this.opacity=is(Ro,t.opacity);var e=is(co,t.overflow);this.overflowX=e[0],this.overflowY=e[e.length>1?1:0],this.overflowWrap=is(uo,t.overflowWrap),this.paddingTop=is(fo,t.paddingTop),this.paddingRight=is(po,t.paddingRight),this.paddingBottom=is(go,t.paddingBottom),this.paddingLeft=is(vo,t.paddingLeft),this.position=is(bo,t.position),this.textAlign=is(wo,t.textAlign),this.textDecorationColor=is(Mo,t.textDecorationColor||t.color),this.textDecorationLine=is(Po,t.textDecorationLine),this.textShadow=is(Bo,t.textShadow),this.textTransform=is(Eo,t.textTransform),this.transform=is(xo,t.transform),this.transformOrigin=is(Uo,t.transformOrigin),this.visibility=is(Ho,t.visibility),this.wordBreak=is(Io,t.wordBreak),this.zIndex=is(ko,t.zIndex)}return t.prototype.isVisible=function(){return this.display>0&&this.opacity>0&&this.visibility===Co.VISIBLE},t.prototype.isTransparent=function(){return rn(this.backgroundColor)},t.prototype.isTransformed=function(){return null!==this.transform},t.prototype.isPositioned=function(){return this.position!==mo.STATIC},t.prototype.isPositionedWithZIndex=function(){return this.isPositioned()&&!this.zIndex.auto},t.prototype.isFloating=function(){return this.float!==Ur.NONE},t.prototype.isInlineLevel=function(){return Vo(this.display,4)||Vo(this.display,33554432)||Vo(this.display,268435456)||Vo(this.display,536870912)||Vo(this.display,67108864)||Vo(this.display,134217728)},t}(),ts=function(){function t(t){this.content=is(Wo,t.content),this.quotes=is(Jo,t.quotes)}return t}(),es=function(){function t(t){this.counterIncrement=is(Go,t.counterIncrement),this.counterReset=is(Yo,t.counterReset)}return t}(),is=function(t,e){var i=new Fi,n=null!==e&&"undefined"!==typeof e?e.toString():t.initialValue;i.write(n);var r=new Qi(i.read());switch(t.type){case ln.IDENT_VALUE:var o=r.parseComponentValue();return t.parse(Hi(o)?o.value:t.initialValue);case ln.VALUE:return t.parse(r.parseComponentValue());case ln.LIST:return t.parse(r.parseComponentValues());case ln.TOKEN_VALUE:return r.parseComponentValue();case ln.TYPE_VALUE:switch(t.format){case"angle":return qi.parse(r.parseComponentValue());case"color":return nn.parse(r.parseComponentValue());case"image":return Ar.parse(r.parseComponentValue());case"length":var s=r.parseComponentValue();return Ni(s)?s:ji;case"length-percentage":var a=r.parseComponentValue();return Li(a)?a:ji}}throw new Error("Attempting to parse unsupported css format type "+t.format)},ns=function(){function t(t){this.styles=new Zo(window.getComputedStyle(t,null)),this.textNodes=[],this.elements=[],null!==this.styles.transform&&Ns(t)&&(t.style.transform="none"),this.bounds=s(t),this.flags=0}return t}(),rs=function(){function t(t,e){this.text=t,this.bounds=e}return t}(),os=function(t,e,i){var n=As(t,e),r=[],o=0;return n.forEach((function(t){if(e.textDecorationLine.length||t.trim().length>0)if(In.SUPPORT_RANGE_BOUNDS)r.push(new rs(t,as(i,o,t.length)));else{var n=i.splitText(t.length);r.push(new rs(t,ss(i))),i=n}else In.SUPPORT_RANGE_BOUNDS||(i=i.splitText(t.length));o+=t.length})),r},ss=function(t){var e=t.ownerDocument;if(e){var i=e.createElement("html2canvaswrapper");i.appendChild(t.cloneNode(!0));var n=t.parentNode;if(n){n.replaceChild(i,t);var r=s(i);return i.firstChild&&n.replaceChild(i.firstChild,i),r}}return new o(0,0,0,0)},as=function(t,e,i){var n=t.ownerDocument;if(!n)throw new Error("Node has no owner document");var r=n.createRange();return r.setStart(t,e),r.setEnd(t,e+i),o.fromClientRect(r.getBoundingClientRect())},As=function(t,e){return 0!==e.letterSpacing?A(t).map((function(t){return c(t)})):cs(t,e)},cs=function(t,e){var i,n=jt(t,{lineBreak:e.lineBreak,wordBreak:e.overflowWrap===Ao.BREAK_WORD?"break-word":e.wordBreak}),r=[];while(!(i=n.next()).done)i.value&&r.push(i.value.slice());return r},ls=function(){function t(t,e){this.text=us(t.data,e.textTransform),this.textBounds=os(this.text,e,t)}return t}(),us=function(t,e){switch(e){case yo.LOWERCASE:return t.toLowerCase();case yo.CAPITALIZE:return t.replace(hs,fs);case yo.UPPERCASE:return t.toUpperCase();default:return t}},hs=/(^|\s|:|-|\(|\))([a-z])/g,fs=function(t,e,i){return t.length>0?e+i.toUpperCase():t},ds=function(t){function i(e){var i=t.call(this,e)||this;return i.src=e.currentSrc||e.src,i.intrinsicWidth=e.naturalWidth,i.intrinsicHeight=e.naturalHeight,Rn.getInstance().addImage(i.src),i}return e(i,t),i}(ns),ps=function(t){function i(e){var i=t.call(this,e)||this;return i.canvas=e,i.intrinsicWidth=e.width,i.intrinsicHeight=e.height,i}return e(i,t),i}(ns),gs=function(t){function i(e){var i=t.call(this,e)||this,n=new XMLSerializer;return i.svg="data:image/svg+xml,"+encodeURIComponent(n.serializeToString(e)),i.intrinsicWidth=e.width.baseVal.value,i.intrinsicHeight=e.height.baseVal.value,Rn.getInstance().addImage(i.svg),i}return e(i,t),i}(ns),vs=function(t){function i(e){var i=t.call(this,e)||this;return i.value=e.value,i}return e(i,t),i}(ns),ms=function(t){function i(e){var i=t.call(this,e)||this;return i.start=e.start,i.reversed="boolean"===typeof e.reversed&&!0===e.reversed,i}return e(i,t),i}(ns),ws=[{type:f.DIMENSION_TOKEN,flags:0,unit:"px",number:3}],ys=[{type:f.PERCENTAGE_TOKEN,flags:0,number:50}],bs=function(t){return t.width>t.height?new o(t.left+(t.width-t.height)/2,t.top,t.height,t.height):t.width<t.height?new o(t.left,t.top+(t.height-t.width)/2,t.width,t.width):t},Bs=function(t){var e=t.type===xs?new Array(t.value.length+1).join(""):t.value;return 0===e.length?t.placeholder||"":e},Cs="checkbox",Es="radio",xs="password",_s=707406591,Ss=function(t){function i(e){var i=t.call(this,e)||this;switch(i.type=e.type.toLowerCase(),i.checked=e.checked,i.value=Bs(e),i.type!==Cs&&i.type!==Es||(i.styles.backgroundColor=3739148031,i.styles.borderTopColor=i.styles.borderRightColor=i.styles.borderBottomColor=i.styles.borderLeftColor=2779096575,i.styles.borderTopWidth=i.styles.borderRightWidth=i.styles.borderBottomWidth=i.styles.borderLeftWidth=1,i.styles.borderTopStyle=i.styles.borderRightStyle=i.styles.borderBottomStyle=i.styles.borderLeftStyle=mr.SOLID,i.styles.backgroundClip=[un.BORDER_BOX],i.styles.backgroundOrigin=[0],i.bounds=bs(i.bounds)),i.type){case Cs:i.styles.borderTopRightRadius=i.styles.borderTopLeftRadius=i.styles.borderBottomRightRadius=i.styles.borderBottomLeftRadius=ws;break;case Es:i.styles.borderTopRightRadius=i.styles.borderTopLeftRadius=i.styles.borderBottomRightRadius=i.styles.borderBottomLeftRadius=ys;break}return i}return e(i,t),i}(ns),Ts=function(t){function i(e){var i=t.call(this,e)||this,n=e.options[e.selectedIndex||0];return i.value=n&&n.text||"",i}return e(i,t),i}(ns),Fs=function(t){function i(e){var i=t.call(this,e)||this;return i.value=e.value,i}return e(i,t),i}(ns),Qs=function(t){return nn.parse(Qi.create(t).parseComponentValue())},Us=function(t){function i(e){var i=t.call(this,e)||this;i.src=e.src,i.width=parseInt(e.width,10)||0,i.height=parseInt(e.height,10)||0,i.backgroundColor=i.styles.backgroundColor;try{if(e.contentWindow&&e.contentWindow.document&&e.contentWindow.document.documentElement){i.tree=Is(e.contentWindow.document.documentElement);var n=e.contentWindow.document.documentElement?Qs(getComputedStyle(e.contentWindow.document.documentElement).backgroundColor):dn.TRANSPARENT,r=e.contentWindow.document.body?Qs(getComputedStyle(e.contentWindow.document.body).backgroundColor):dn.TRANSPARENT;i.backgroundColor=rn(n)?rn(r)?i.styles.backgroundColor:r:n}}catch(Me){}return i}return e(i,t),i}(ns),Os=["OL","UL","MENU"],Hs=function(t,e,i){for(var n=t.firstChild,r=void 0;n;n=r)if(r=n.nextSibling,Ms(n)&&n.data.trim().length>0)e.textNodes.push(new ls(n,e.styles));else if(Ps(n)){var o=Ds(n);o.styles.isVisible()&&(ks(n,o,i)?o.flags|=4:Rs(o.styles)&&(o.flags|=2),-1!==Os.indexOf(n.tagName)&&(o.flags|=8),e.elements.push(o),Zs(n)||Vs(n)||ta(n)||Hs(n,o,i))}},Ds=function(t){return Ys(t)?new ds(t):Gs(t)?new ps(t):Vs(t)?new gs(t):zs(t)?new vs(t):js(t)?new ms(t):Ks(t)?new Ss(t):ta(t)?new Ts(t):Zs(t)?new Fs(t):Js(t)?new Us(t):new ns(t)},Is=function(t){var e=Ds(t);return e.flags|=4,Hs(t,e,e),e},ks=function(t,e,i){return e.styles.isPositionedWithZIndex()||e.styles.opacity<1||e.styles.isTransformed()||Ws(t)&&i.styles.isTransparent()},Rs=function(t){return t.isPositioned()||t.isFloating()},Ms=function(t){return t.nodeType===Node.TEXT_NODE},Ps=function(t){return t.nodeType===Node.ELEMENT_NODE},Ns=function(t){return Ps(t)&&"undefined"!==typeof t.style&&!Ls(t)},Ls=function(t){return"object"===typeof t.className},zs=function(t){return"LI"===t.tagName},js=function(t){return"OL"===t.tagName},Ks=function(t){return"INPUT"===t.tagName},Xs=function(t){return"HTML"===t.tagName},Vs=function(t){return"svg"===t.tagName},Ws=function(t){return"BODY"===t.tagName},Gs=function(t){return"CANVAS"===t.tagName},Ys=function(t){return"IMG"===t.tagName},Js=function(t){return"IFRAME"===t.tagName},$s=function(t){return"STYLE"===t.tagName},qs=function(t){return"SCRIPT"===t.tagName},Zs=function(t){return"TEXTAREA"===t.tagName},ta=function(t){return"SELECT"===t.tagName},ea=function(){function t(){this.counters={}}return t.prototype.getCounterValue=function(t){var e=this.counters[t];return e&&e.length?e[e.length-1]:1},t.prototype.getCounterValues=function(t){var e=this.counters[t];return e||[]},t.prototype.pop=function(t){var e=this;t.forEach((function(t){return e.counters[t].pop()}))},t.prototype.parse=function(t){var e=this,i=t.counterIncrement,n=t.counterReset,r=!0;null!==i&&i.forEach((function(t){var i=e.counters[t.counter];i&&0!==t.increment&&(r=!1,i[Math.max(0,i.length-1)]+=t.increment)}));var o=[];return r&&n.forEach((function(t){var i=e.counters[t.counter];o.push(t.counter),i||(i=e.counters[t.counter]=[]),i.push(t.reset)})),o},t}(),ia={integers:[1e3,900,500,400,100,90,50,40,10,9,5,4,1],values:["M","CM","D","CD","C","XC","L","XL","X","IX","V","IV","I"]},na={integers:[9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},ra={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,400,300,200,100,90,80,70,60,50,40,30,20,19,18,17,16,15,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},oa={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},sa=function(t,e,i,n,r,o){return t<e||t>i?wa(t,r,o.length>0):n.integers.reduce((function(e,i,r){while(t>=i)t-=i,e+=n.values[r];return e}),"")+o},aa=function(t,e,i,n){var r="";do{i||t--,r=n(t)+r,t/=e}while(t*e>=e);return r},Aa=function(t,e,i,n,r){var o=i-e+1;return(t<0?"-":"")+(aa(Math.abs(t),o,n,(function(t){return c(Math.floor(t%o)+e)}))+r)},ca=function(t,e,i){void 0===i&&(i=". ");var n=e.length;return aa(Math.abs(t),n,!1,(function(t){return e[Math.floor(t%n)]}))+i},la=1,ua=2,ha=4,fa=8,da=function(t,e,i,n,r,o){if(t<-9999||t>9999)return wa(t,Zr.CJK_DECIMAL,r.length>0);var s=Math.abs(t),a=r;if(0===s)return e[0]+a;for(var A=0;s>0&&A<=4;A++){var c=s%10;0===c&&Vo(o,la)&&""!==a?a=e[c]+a:c>1||1===c&&0===A||1===c&&1===A&&Vo(o,ua)||1===c&&1===A&&Vo(o,ha)&&t>100||1===c&&A>1&&Vo(o,fa)?a=e[c]+(A>0?i[A-1]:"")+a:1===c&&A>0&&(a=i[A-1]+a),s=Math.floor(s/10)}return(t<0?n:"")+a},pa="",ga="",va="",ma="",wa=function(t,e,i){var n=i?". ":"",r=i?"":"",o=i?", ":"",s=i?" ":"";switch(e){case Zr.DISC:return""+s;case Zr.CIRCLE:return""+s;case Zr.SQUARE:return""+s;case Zr.DECIMAL_LEADING_ZERO:var a=Aa(t,48,57,!0,n);return a.length<4?"0"+a:a;case Zr.CJK_DECIMAL:return ca(t,"",r);case Zr.LOWER_ROMAN:return sa(t,1,3999,ia,Zr.DECIMAL,n).toLowerCase();case Zr.UPPER_ROMAN:return sa(t,1,3999,ia,Zr.DECIMAL,n);case Zr.LOWER_GREEK:return Aa(t,945,969,!1,n);case Zr.LOWER_ALPHA:return Aa(t,97,122,!1,n);case Zr.UPPER_ALPHA:return Aa(t,65,90,!1,n);case Zr.ARABIC_INDIC:return Aa(t,1632,1641,!0,n);case Zr.ARMENIAN:case Zr.UPPER_ARMENIAN:return sa(t,1,9999,na,Zr.DECIMAL,n);case Zr.LOWER_ARMENIAN:return sa(t,1,9999,na,Zr.DECIMAL,n).toLowerCase();case Zr.BENGALI:return Aa(t,2534,2543,!0,n);case Zr.CAMBODIAN:case Zr.KHMER:return Aa(t,6112,6121,!0,n);case Zr.CJK_EARTHLY_BRANCH:return ca(t,"",r);case Zr.CJK_HEAVENLY_STEM:return ca(t,"",r);case Zr.CJK_IDEOGRAPHIC:case Zr.TRAD_CHINESE_INFORMAL:return da(t,"",pa,"",r,ua|ha|fa);case Zr.TRAD_CHINESE_FORMAL:return da(t,"",ga,"",r,la|ua|ha|fa);case Zr.SIMP_CHINESE_INFORMAL:return da(t,"",pa,"",r,ua|ha|fa);case Zr.SIMP_CHINESE_FORMAL:return da(t,"",ga,"",r,la|ua|ha|fa);case Zr.JAPANESE_INFORMAL:return da(t,"","",va,r,0);case Zr.JAPANESE_FORMAL:return da(t,"","",va,r,la|ua|ha);case Zr.KOREAN_HANGUL_FORMAL:return da(t,"","",ma,o,la|ua|ha);case Zr.KOREAN_HANJA_INFORMAL:return da(t,"","",ma,o,0);case Zr.KOREAN_HANJA_FORMAL:return da(t,"","",ma,o,la|ua|ha);case Zr.DEVANAGARI:return Aa(t,2406,2415,!0,n);case Zr.GEORGIAN:return sa(t,1,19999,oa,Zr.DECIMAL,n);case Zr.GUJARATI:return Aa(t,2790,2799,!0,n);case Zr.GURMUKHI:return Aa(t,2662,2671,!0,n);case Zr.HEBREW:return sa(t,1,10999,ra,Zr.DECIMAL,n);case Zr.HIRAGANA:return ca(t,"");case Zr.HIRAGANA_IROHA:return ca(t,"");case Zr.KANNADA:return Aa(t,3302,3311,!0,n);case Zr.KATAKANA:return ca(t,"",r);case Zr.KATAKANA_IROHA:return ca(t,"",r);case Zr.LAO:return Aa(t,3792,3801,!0,n);case Zr.MONGOLIAN:return Aa(t,6160,6169,!0,n);case Zr.MYANMAR:return Aa(t,4160,4169,!0,n);case Zr.ORIYA:return Aa(t,2918,2927,!0,n);case Zr.PERSIAN:return Aa(t,1776,1785,!0,n);case Zr.TAMIL:return Aa(t,3046,3055,!0,n);case Zr.TELUGU:return Aa(t,3174,3183,!0,n);case Zr.THAI:return Aa(t,3664,3673,!0,n);case Zr.TIBETAN:return Aa(t,3872,3881,!0,n);case Zr.DECIMAL:default:return Aa(t,48,57,!0,n)}},ya="data-html2canvas-ignore",ba=function(){function t(t,e){if(this.options=e,this.scrolledElements=[],this.referenceElement=t,this.counters=new ea,this.quoteDepth=0,!t.ownerDocument)throw new Error("Cloned element does not have an owner document");this.documentElement=this.cloneNode(t.ownerDocument.documentElement)}return t.prototype.toIFrame=function(t,e){var i=this,o=Ca(t,e);if(!o.contentWindow)return Promise.reject("Unable to find iframe window");var s=t.defaultView.pageXOffset,a=t.defaultView.pageYOffset,A=o.contentWindow,c=A.document,l=Ea(o).then((function(){return n(i,void 0,void 0,(function(){var t;return r(this,(function(i){switch(i.label){case 0:return this.scrolledElements.forEach(Ta),A&&(A.scrollTo(e.left,e.top),!/(iPad|iPhone|iPod)/g.test(navigator.userAgent)||A.scrollY===e.top&&A.scrollX===e.left||(c.documentElement.style.top=-e.top+"px",c.documentElement.style.left=-e.left+"px",c.documentElement.style.position="absolute")),t=this.options.onclone,"undefined"===typeof this.clonedReferenceElement?[2,Promise.reject("Error finding the "+this.referenceElement.nodeName+" in the cloned document")]:c.fonts&&c.fonts.ready?[4,c.fonts.ready]:[3,2];case 1:i.sent(),i.label=2;case 2:return"function"===typeof t?[2,Promise.resolve().then((function(){return t(c)})).then((function(){return o}))]:[2,o]}}))}))}));return c.open(),c.write(_a(document.doctype)+"<html></html>"),Sa(this.referenceElement.ownerDocument,s,a),c.replaceChild(c.adoptNode(this.documentElement),c.documentElement),c.close(),l},t.prototype.createElementClone=function(t){if(Gs(t))return this.createCanvasClone(t);if($s(t))return this.createStyleClone(t);var e=t.cloneNode(!1);return Ys(e)&&"lazy"===e.loading&&(e.loading="eager"),e},t.prototype.createStyleClone=function(t){try{var e=t.sheet;if(e&&e.cssRules){var i=[].slice.call(e.cssRules,0).reduce((function(t,e){return e&&"string"===typeof e.cssText?t+e.cssText:t}),""),n=t.cloneNode(!1);return n.textContent=i,n}}catch(Me){if(kn.getInstance(this.options.id).error("Unable to access cssRules property",Me),"SecurityError"!==Me.name)throw Me}return t.cloneNode(!1)},t.prototype.createCanvasClone=function(t){if(this.options.inlineImages&&t.ownerDocument){var e=t.ownerDocument.createElement("img");try{return e.src=t.toDataURL(),e}catch(Me){kn.getInstance(this.options.id).info("Unable to clone canvas contents, canvas is tainted")}}var i=t.cloneNode(!1);try{i.width=t.width,i.height=t.height;var n=t.getContext("2d"),r=i.getContext("2d");return r&&(n?r.putImageData(n.getImageData(0,0,t.width,t.height),0,0):r.drawImage(t,0,0)),i}catch(Me){}return i},t.prototype.cloneNode=function(t){if(Ms(t))return document.createTextNode(t.data);if(!t.ownerDocument)return t.cloneNode(!1);var e=t.ownerDocument.defaultView;if(e&&Ps(t)&&(Ns(t)||Ls(t))){var i=this.createElementClone(t),n=e.getComputedStyle(t),r=e.getComputedStyle(t,":before"),o=e.getComputedStyle(t,":after");this.referenceElement===t&&Ns(i)&&(this.clonedReferenceElement=i),Ws(i)&&Da(i);for(var s=this.counters.parse(new es(n)),a=this.resolvePseudoContent(t,i,r,Ko.BEFORE),A=t.firstChild;A;A=A.nextSibling)Ps(A)&&(qs(A)||A.hasAttribute(ya)||"function"===typeof this.options.ignoreElements&&this.options.ignoreElements(A))||this.options.copyStyles&&Ps(A)&&$s(A)||i.appendChild(this.cloneNode(A));a&&i.insertBefore(a,i.firstChild);var c=this.resolvePseudoContent(t,i,o,Ko.AFTER);return c&&i.appendChild(c),this.counters.pop(s),n&&(this.options.copyStyles||Ls(t))&&!Js(t)&&xa(n,i),0===t.scrollTop&&0===t.scrollLeft||this.scrolledElements.push([i,t.scrollLeft,t.scrollTop]),(Zs(t)||ta(t))&&(Zs(i)||ta(i))&&(i.value=t.value),i}return t.cloneNode(!1)},t.prototype.resolvePseudoContent=function(t,e,i,n){var r=this;if(i){var o=i.content,s=e.ownerDocument;if(s&&o&&"none"!==o&&"-moz-alt-content"!==o&&"none"!==i.display){this.counters.parse(new es(i));var a=new ts(i),A=s.createElement("html2canvaspseudoelement");xa(i,A),a.content.forEach((function(e){if(e.type===f.STRING_TOKEN)A.appendChild(s.createTextNode(e.value));else if(e.type===f.URL_TOKEN){var i=s.createElement("img");i.src=e.value,i.style.opacity="1",A.appendChild(i)}else if(e.type===f.FUNCTION){if("attr"===e.name){var n=e.values.filter(Hi);n.length&&A.appendChild(s.createTextNode(t.getAttribute(n[0].value)||""))}else if("counter"===e.name){var o=e.values.filter(Ri),c=o[0],l=o[1];if(c&&Hi(c)){var u=r.counters.getCounterValue(c.value),h=l&&Hi(l)?io.parse(l.value):Zr.DECIMAL;A.appendChild(s.createTextNode(wa(u,h,!1)))}}else if("counters"===e.name){var d=e.values.filter(Ri),p=(c=d[0],d[1]);l=d[2];if(c&&Hi(c)){var g=r.counters.getCounterValues(c.value),v=l&&Hi(l)?io.parse(l.value):Zr.DECIMAL,m=p&&p.type===f.STRING_TOKEN?p.value:"",w=g.map((function(t){return wa(t,v,!1)})).join(m);A.appendChild(s.createTextNode(w))}}}else if(e.type===f.IDENT_TOKEN)switch(e.value){case"open-quote":A.appendChild(s.createTextNode($o(a.quotes,r.quoteDepth++,!0)));break;case"close-quote":A.appendChild(s.createTextNode($o(a.quotes,--r.quoteDepth,!1)));break;default:A.appendChild(s.createTextNode(e.value))}})),A.className=Ua+" "+Oa;var c=n===Ko.BEFORE?" "+Ua:" "+Oa;return Ls(e)?e.className.baseValue+=c:e.className+=c,A}}},t.destroy=function(t){return!!t.parentNode&&(t.parentNode.removeChild(t),!0)},t}();(function(t){t[t["BEFORE"]=0]="BEFORE",t[t["AFTER"]=1]="AFTER"})(Ko||(Ko={}));var Ba,Ca=function(t,e){var i=t.createElement("iframe");return i.className="html2canvas-container",i.style.visibility="hidden",i.style.position="fixed",i.style.left="-10000px",i.style.top="0px",i.style.border="0",i.width=e.width.toString(),i.height=e.height.toString(),i.scrolling="no",i.setAttribute(ya,"true"),t.body.appendChild(i),i},Ea=function(t){return new Promise((function(e,i){var n=t.contentWindow;if(!n)return i("No window assigned for iframe");var r=n.document;n.onload=t.onload=r.onreadystatechange=function(){n.onload=t.onload=r.onreadystatechange=null;var i=setInterval((function(){r.body.childNodes.length>0&&"complete"===r.readyState&&(clearInterval(i),e(t))}),50)}}))},xa=function(t,e){for(var i=t.length-1;i>=0;i--){var n=t.item(i);"content"!==n&&e.style.setProperty(n,t.getPropertyValue(n))}return e},_a=function(t){var e="";return t&&(e+="<!DOCTYPE ",t.name&&(e+=t.name),t.internalSubset&&(e+=t.internalSubset),t.publicId&&(e+='"'+t.publicId+'"'),t.systemId&&(e+='"'+t.systemId+'"'),e+=">"),e},Sa=function(t,e,i){t&&t.defaultView&&(e!==t.defaultView.pageXOffset||i!==t.defaultView.pageYOffset)&&t.defaultView.scrollTo(e,i)},Ta=function(t){var e=t[0],i=t[1],n=t[2];e.scrollLeft=i,e.scrollTop=n},Fa=":before",Qa=":after",Ua="___html2canvas___pseudoelement_before",Oa="___html2canvas___pseudoelement_after",Ha='{\n    content: "" !important;\n    display: none !important;\n}',Da=function(t){Ia(t,"."+Ua+Fa+Ha+"\n         ."+Oa+Qa+Ha)},Ia=function(t,e){var i=t.ownerDocument;if(i){var n=i.createElement("style");n.textContent=e,t.appendChild(n)}};(function(t){t[t["VECTOR"]=0]="VECTOR",t[t["BEZIER_CURVE"]=1]="BEZIER_CURVE"})(Ba||(Ba={}));var ka,Ra=function(t,e){return t.length===e.length&&t.some((function(t,i){return t===e[i]}))},Ma=function(t,e,i,n,r){return t.map((function(t,o){switch(o){case 0:return t.add(e,i);case 1:return t.add(e+n,i);case 2:return t.add(e+n,i+r);case 3:return t.add(e,i+r)}return t}))},Pa=function(){function t(t,e){this.type=Ba.VECTOR,this.x=t,this.y=e}return t.prototype.add=function(e,i){return new t(this.x+e,this.y+i)},t}(),Na=function(t,e,i){return new Pa(t.x+(e.x-t.x)*i,t.y+(e.y-t.y)*i)},La=function(){function t(t,e,i,n){this.type=Ba.BEZIER_CURVE,this.start=t,this.startControl=e,this.endControl=i,this.end=n}return t.prototype.subdivide=function(e,i){var n=Na(this.start,this.startControl,e),r=Na(this.startControl,this.endControl,e),o=Na(this.endControl,this.end,e),s=Na(n,r,e),a=Na(r,o,e),A=Na(s,a,e);return i?new t(this.start,n,s,A):new t(A,a,o,this.end)},t.prototype.add=function(e,i){return new t(this.start.add(e,i),this.startControl.add(e,i),this.endControl.add(e,i),this.end.add(e,i))},t.prototype.reverse=function(){return new t(this.end,this.endControl,this.startControl,this.start)},t}(),za=function(t){return t.type===Ba.BEZIER_CURVE},ja=function(){function t(t){var e=t.styles,i=t.bounds,n=Vi(e.borderTopLeftRadius,i.width,i.height),r=n[0],o=n[1],s=Vi(e.borderTopRightRadius,i.width,i.height),a=s[0],A=s[1],c=Vi(e.borderBottomRightRadius,i.width,i.height),l=c[0],u=c[1],h=Vi(e.borderBottomLeftRadius,i.width,i.height),f=h[0],d=h[1],p=[];p.push((r+a)/i.width),p.push((f+l)/i.width),p.push((o+d)/i.height),p.push((A+u)/i.height);var g=Math.max.apply(Math,p);g>1&&(r/=g,o/=g,a/=g,A/=g,l/=g,u/=g,f/=g,d/=g);var v=i.width-a,m=i.height-u,w=i.width-l,y=i.height-d,b=e.borderTopWidth,B=e.borderRightWidth,C=e.borderBottomWidth,E=e.borderLeftWidth,x=Wi(e.paddingTop,t.bounds.width),_=Wi(e.paddingRight,t.bounds.width),S=Wi(e.paddingBottom,t.bounds.width),T=Wi(e.paddingLeft,t.bounds.width);this.topLeftBorderBox=r>0||o>0?Ka(i.left,i.top,r,o,ka.TOP_LEFT):new Pa(i.left,i.top),this.topRightBorderBox=a>0||A>0?Ka(i.left+v,i.top,a,A,ka.TOP_RIGHT):new Pa(i.left+i.width,i.top),this.bottomRightBorderBox=l>0||u>0?Ka(i.left+w,i.top+m,l,u,ka.BOTTOM_RIGHT):new Pa(i.left+i.width,i.top+i.height),this.bottomLeftBorderBox=f>0||d>0?Ka(i.left,i.top+y,f,d,ka.BOTTOM_LEFT):new Pa(i.left,i.top+i.height),this.topLeftPaddingBox=r>0||o>0?Ka(i.left+E,i.top+b,Math.max(0,r-E),Math.max(0,o-b),ka.TOP_LEFT):new Pa(i.left+E,i.top+b),this.topRightPaddingBox=a>0||A>0?Ka(i.left+Math.min(v,i.width+E),i.top+b,v>i.width+E?0:a-E,A-b,ka.TOP_RIGHT):new Pa(i.left+i.width-B,i.top+b),this.bottomRightPaddingBox=l>0||u>0?Ka(i.left+Math.min(w,i.width-E),i.top+Math.min(m,i.height+b),Math.max(0,l-B),u-C,ka.BOTTOM_RIGHT):new Pa(i.left+i.width-B,i.top+i.height-C),this.bottomLeftPaddingBox=f>0||d>0?Ka(i.left+E,i.top+y,Math.max(0,f-E),d-C,ka.BOTTOM_LEFT):new Pa(i.left+E,i.top+i.height-C),this.topLeftContentBox=r>0||o>0?Ka(i.left+E+T,i.top+b+x,Math.max(0,r-(E+T)),Math.max(0,o-(b+x)),ka.TOP_LEFT):new Pa(i.left+E+T,i.top+b+x),this.topRightContentBox=a>0||A>0?Ka(i.left+Math.min(v,i.width+E+T),i.top+b+x,v>i.width+E+T?0:a-E+T,A-(b+x),ka.TOP_RIGHT):new Pa(i.left+i.width-(B+_),i.top+b+x),this.bottomRightContentBox=l>0||u>0?Ka(i.left+Math.min(w,i.width-(E+T)),i.top+Math.min(m,i.height+b+x),Math.max(0,l-(B+_)),u-(C+S),ka.BOTTOM_RIGHT):new Pa(i.left+i.width-(B+_),i.top+i.height-(C+S)),this.bottomLeftContentBox=f>0||d>0?Ka(i.left+E+T,i.top+y,Math.max(0,f-(E+T)),d-(C+S),ka.BOTTOM_LEFT):new Pa(i.left+E+T,i.top+i.height-(C+S))}return t}();(function(t){t[t["TOP_LEFT"]=0]="TOP_LEFT",t[t["TOP_RIGHT"]=1]="TOP_RIGHT",t[t["BOTTOM_RIGHT"]=2]="BOTTOM_RIGHT",t[t["BOTTOM_LEFT"]=3]="BOTTOM_LEFT"})(ka||(ka={}));var Ka=function(t,e,i,n,r){var o=(Math.sqrt(2)-1)/3*4,s=i*o,a=n*o,A=t+i,c=e+n;switch(r){case ka.TOP_LEFT:return new La(new Pa(t,c),new Pa(t,c-a),new Pa(A-s,e),new Pa(A,e));case ka.TOP_RIGHT:return new La(new Pa(t,e),new Pa(t+s,e),new Pa(A,c-a),new Pa(A,c));case ka.BOTTOM_RIGHT:return new La(new Pa(A,e),new Pa(A,e+a),new Pa(t+s,c),new Pa(t,c));case ka.BOTTOM_LEFT:default:return new La(new Pa(A,c),new Pa(A-s,c),new Pa(t,e+a),new Pa(t,e))}},Xa=function(t){return[t.topLeftBorderBox,t.topRightBorderBox,t.bottomRightBorderBox,t.bottomLeftBorderBox]},Va=function(t){return[t.topLeftContentBox,t.topRightContentBox,t.bottomRightContentBox,t.bottomLeftContentBox]},Wa=function(t){return[t.topLeftPaddingBox,t.topRightPaddingBox,t.bottomRightPaddingBox,t.bottomLeftPaddingBox]},Ga=function(){function t(t,e,i){this.type=0,this.offsetX=t,this.offsetY=e,this.matrix=i,this.target=6}return t}(),Ya=function(){function t(t,e){this.type=1,this.target=e,this.path=t}return t}(),Ja=function(t){return 0===t.type},$a=function(t){return 1===t.type},qa=function(){function t(t){this.element=t,this.inlineLevel=[],this.nonInlineLevel=[],this.negativeZIndex=[],this.zeroOrAutoZIndexOrTransformedOrOpacity=[],this.positiveZIndex=[],this.nonPositionedFloats=[],this.nonPositionedInlineLevel=[]}return t}(),Za=function(){function t(t,e){if(this.container=t,this.effects=e.slice(0),this.curves=new ja(t),null!==t.styles.transform){var i=t.bounds.left+t.styles.transformOrigin[0].number,n=t.bounds.top+t.styles.transformOrigin[1].number,r=t.styles.transform;this.effects.push(new Ga(i,n,r))}if(t.styles.overflowX!==eo.VISIBLE){var o=Xa(this.curves),s=Wa(this.curves);Ra(o,s)?this.effects.push(new Ya(o,6)):(this.effects.push(new Ya(o,2)),this.effects.push(new Ya(s,4)))}}return t.prototype.getParentEffects=function(){var t=this.effects.slice(0);if(this.container.styles.overflowX!==eo.VISIBLE){var e=Xa(this.curves),i=Wa(this.curves);Ra(e,i)||t.push(new Ya(i,6))}return t},t}(),tA=function(t,e,i,n){t.container.elements.forEach((function(r){var o=Vo(r.flags,4),s=Vo(r.flags,2),a=new Za(r,t.getParentEffects());Vo(r.styles.display,2048)&&n.push(a);var A=Vo(r.flags,8)?[]:n;if(o||s){var c=o||r.styles.isPositioned()?i:e,l=new qa(a);if(r.styles.isPositioned()||r.styles.opacity<1||r.styles.isTransformed()){var u=r.styles.zIndex.order;if(u<0){var h=0;c.negativeZIndex.some((function(t,e){return u>t.element.container.styles.zIndex.order?(h=e,!1):h>0})),c.negativeZIndex.splice(h,0,l)}else if(u>0){var f=0;c.positiveZIndex.some((function(t,e){return u>=t.element.container.styles.zIndex.order?(f=e+1,!1):f>0})),c.positiveZIndex.splice(f,0,l)}else c.zeroOrAutoZIndexOrTransformedOrOpacity.push(l)}else r.styles.isFloating()?c.nonPositionedFloats.push(l):c.nonPositionedInlineLevel.push(l);tA(a,l,o?l:i,A)}else r.styles.isInlineLevel()?e.inlineLevel.push(a):e.nonInlineLevel.push(a),tA(a,e,i,A);Vo(r.flags,8)&&eA(r,A)}))},eA=function(t,e){for(var i=t instanceof ms?t.start:1,n=t instanceof ms&&t.reversed,r=0;r<e.length;r++){var o=e[r];o.container instanceof vs&&"number"===typeof o.container.value&&0!==o.container.value&&(i=o.container.value),o.listValue=wa(i,o.container.styles.listStyleType,!0),i+=n?-1:1}},iA=function(t){var e=new Za(t,[]),i=new qa(e),n=[];return tA(e,i,i,n),eA(e.container,n),i},nA=function(t,e){switch(e){case 0:return rA(t.topLeftBorderBox,t.topLeftPaddingBox,t.topRightBorderBox,t.topRightPaddingBox);case 1:return rA(t.topRightBorderBox,t.topRightPaddingBox,t.bottomRightBorderBox,t.bottomRightPaddingBox);case 2:return rA(t.bottomRightBorderBox,t.bottomRightPaddingBox,t.bottomLeftBorderBox,t.bottomLeftPaddingBox);case 3:default:return rA(t.bottomLeftBorderBox,t.bottomLeftPaddingBox,t.topLeftBorderBox,t.topLeftPaddingBox)}},rA=function(t,e,i,n){var r=[];return za(t)?r.push(t.subdivide(.5,!1)):r.push(t),za(i)?r.push(i.subdivide(.5,!0)):r.push(i),za(n)?r.push(n.subdivide(.5,!0).reverse()):r.push(n),za(e)?r.push(e.subdivide(.5,!1).reverse()):r.push(e),r},oA=function(t){var e=t.bounds,i=t.styles;return e.add(i.borderLeftWidth,i.borderTopWidth,-(i.borderRightWidth+i.borderLeftWidth),-(i.borderTopWidth+i.borderBottomWidth))},sA=function(t){var e=t.styles,i=t.bounds,n=Wi(e.paddingLeft,i.width),r=Wi(e.paddingRight,i.width),o=Wi(e.paddingTop,i.width),s=Wi(e.paddingBottom,i.width);return i.add(n+e.borderLeftWidth,o+e.borderTopWidth,-(e.borderRightWidth+e.borderLeftWidth+n+r),-(e.borderTopWidth+e.borderBottomWidth+o+s))},aA=function(t,e){return 0===t?e.bounds:2===t?sA(e):oA(e)},AA=function(t,e){return t===un.BORDER_BOX?e.bounds:t===un.CONTENT_BOX?sA(e):oA(e)},cA=function(t,e,i){var n=aA(fA(t.styles.backgroundOrigin,e),t),r=AA(fA(t.styles.backgroundClip,e),t),o=hA(fA(t.styles.backgroundSize,e),i,n),s=o[0],a=o[1],A=Vi(fA(t.styles.backgroundPosition,e),n.width-s,n.height-a),c=dA(fA(t.styles.backgroundRepeat,e),A,o,n,r),l=Math.round(n.left+A[0]),u=Math.round(n.top+A[1]);return[c,l,u,s,a]},lA=function(t){return Hi(t)&&t.value===pr.AUTO},uA=function(t){return"number"===typeof t},hA=function(t,e,i){var n=e[0],r=e[1],o=e[2],s=t[0],a=t[1];if(Li(s)&&a&&Li(a))return[Wi(s,i.width),Wi(a,i.height)];var A=uA(o);if(Hi(s)&&(s.value===pr.CONTAIN||s.value===pr.COVER)){if(uA(o)){var c=i.width/i.height;return c<o!==(s.value===pr.COVER)?[i.width,i.width/o]:[i.height*o,i.height]}return[i.width,i.height]}var l=uA(n),u=uA(r),h=l||u;if(lA(s)&&(!a||lA(a))){if(l&&u)return[n,r];if(!A&&!h)return[i.width,i.height];if(h&&A){var f=l?n:r*o,d=u?r:n/o;return[f,d]}var p=l?n:i.width,g=u?r:i.height;return[p,g]}if(A){var v=0,m=0;return Li(s)?v=Wi(s,i.width):Li(a)&&(m=Wi(a,i.height)),lA(s)?v=m*o:a&&!lA(a)||(m=v/o),[v,m]}var w=null,y=null;if(Li(s)?w=Wi(s,i.width):a&&Li(a)&&(y=Wi(a,i.height)),null===w||a&&!lA(a)||(y=l&&u?w/n*r:i.height),null!==y&&lA(s)&&(w=l&&u?y/r*n:i.width),null!==w&&null!==y)return[w,y];throw new Error("Unable to calculate background-size for element")},fA=function(t,e){var i=t[e];return"undefined"===typeof i?t[0]:i},dA=function(t,e,i,n,r){var o=e[0],s=e[1],a=i[0],A=i[1];switch(t){case lr.REPEAT_X:return[new Pa(Math.round(n.left),Math.round(n.top+s)),new Pa(Math.round(n.left+n.width),Math.round(n.top+s)),new Pa(Math.round(n.left+n.width),Math.round(A+n.top+s)),new Pa(Math.round(n.left),Math.round(A+n.top+s))];case lr.REPEAT_Y:return[new Pa(Math.round(n.left+o),Math.round(n.top)),new Pa(Math.round(n.left+o+a),Math.round(n.top)),new Pa(Math.round(n.left+o+a),Math.round(n.height+n.top)),new Pa(Math.round(n.left+o),Math.round(n.height+n.top))];case lr.NO_REPEAT:return[new Pa(Math.round(n.left+o),Math.round(n.top+s)),new Pa(Math.round(n.left+o+a),Math.round(n.top+s)),new Pa(Math.round(n.left+o+a),Math.round(n.top+s+A)),new Pa(Math.round(n.left+o),Math.round(n.top+s+A))];default:return[new Pa(Math.round(r.left),Math.round(r.top)),new Pa(Math.round(r.left+r.width),Math.round(r.top)),new Pa(Math.round(r.left+r.width),Math.round(r.height+r.top)),new Pa(Math.round(r.left),Math.round(r.height+r.top))]}},pA="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",gA="Hidden Text",vA=function(){function t(t){this._data={},this._document=t}return t.prototype.parseMetrics=function(t,e){var i=this._document.createElement("div"),n=this._document.createElement("img"),r=this._document.createElement("span"),o=this._document.body;i.style.visibility="hidden",i.style.fontFamily=t,i.style.fontSize=e,i.style.margin="0",i.style.padding="0",o.appendChild(i),n.src=pA,n.width=1,n.height=1,n.style.margin="0",n.style.padding="0",n.style.verticalAlign="baseline",r.style.fontFamily=t,r.style.fontSize=e,r.style.margin="0",r.style.padding="0",r.appendChild(this._document.createTextNode(gA)),i.appendChild(r),i.appendChild(n);var s=n.offsetTop-r.offsetTop+2;i.removeChild(r),i.appendChild(this._document.createTextNode(gA)),i.style.lineHeight="normal",n.style.verticalAlign="super";var a=n.offsetTop-i.offsetTop+2;return o.removeChild(i),{baseline:s,middle:a}},t.prototype.getMetrics=function(t,e){var i=t+" "+e;return"undefined"===typeof this._data[i]&&(this._data[i]=this.parseMetrics(t,e)),this._data[i]},t}(),mA=1e4,wA=function(){function t(t){this._activeEffects=[],this.canvas=t.canvas?t.canvas:document.createElement("canvas"),this.ctx=this.canvas.getContext("2d"),this.options=t,t.canvas||(this.canvas.width=Math.floor(t.width*t.scale),this.canvas.height=Math.floor(t.height*t.scale),this.canvas.style.width=t.width+"px",this.canvas.style.height=t.height+"px"),this.fontMetrics=new vA(document),this.ctx.scale(this.options.scale,this.options.scale),this.ctx.translate(-t.x+t.scrollX,-t.y+t.scrollY),this.ctx.textBaseline="bottom",this._activeEffects=[],kn.getInstance(t.id).debug("Canvas renderer initialized ("+t.width+"x"+t.height+" at "+t.x+","+t.y+") with scale "+t.scale)}return t.prototype.applyEffects=function(t,e){var i=this;while(this._activeEffects.length)this.popEffect();t.filter((function(t){return Vo(t.target,e)})).forEach((function(t){return i.applyEffect(t)}))},t.prototype.applyEffect=function(t){this.ctx.save(),Ja(t)&&(this.ctx.translate(t.offsetX,t.offsetY),this.ctx.transform(t.matrix[0],t.matrix[1],t.matrix[2],t.matrix[3],t.matrix[4],t.matrix[5]),this.ctx.translate(-t.offsetX,-t.offsetY)),$a(t)&&(this.path(t.path),this.ctx.clip()),this._activeEffects.push(t)},t.prototype.popEffect=function(){this._activeEffects.pop(),this.ctx.restore()},t.prototype.renderStack=function(t){return n(this,void 0,void 0,(function(){var e;return r(this,(function(i){switch(i.label){case 0:return e=t.element.container.styles,e.isVisible()?(this.ctx.globalAlpha=e.opacity,[4,this.renderStackContent(t)]):[3,2];case 1:i.sent(),i.label=2;case 2:return[2]}}))}))},t.prototype.renderNode=function(t){return n(this,void 0,void 0,(function(){return r(this,(function(e){switch(e.label){case 0:return t.container.styles.isVisible()?[4,this.renderNodeBackgroundAndBorders(t)]:[3,3];case 1:return e.sent(),[4,this.renderNodeContent(t)];case 2:e.sent(),e.label=3;case 3:return[2]}}))}))},t.prototype.renderTextWithLetterSpacing=function(t,e){var i=this;if(0===e)this.ctx.fillText(t.text,t.bounds.left,t.bounds.top+t.bounds.height);else{var n=A(t.text).map((function(t){return c(t)}));n.reduce((function(e,n){return i.ctx.fillText(n,e,t.bounds.top+t.bounds.height),e+i.ctx.measureText(n).width}),t.bounds.left)}},t.prototype.createFontStyle=function(t){var e=t.fontVariant.filter((function(t){return"normal"===t||"small-caps"===t})).join(""),i=t.fontFamily.join(", "),n=Ui(t.fontSize)?""+t.fontSize.number+t.fontSize.unit:t.fontSize.number+"px";return[[t.fontStyle,e,t.fontWeight,n,i].join(" "),i,n]},t.prototype.renderTextNode=function(t,e){return n(this,void 0,void 0,(function(){var i,n,o,s,a=this;return r(this,(function(r){return i=this.createFontStyle(e),n=i[0],o=i[1],s=i[2],this.ctx.font=n,t.textBounds.forEach((function(t){a.ctx.fillStyle=on(e.color),a.renderTextWithLetterSpacing(t,e.letterSpacing);var i=e.textShadow;i.length&&t.text.trim().length&&(i.slice(0).reverse().forEach((function(e){a.ctx.shadowColor=on(e.color),a.ctx.shadowOffsetX=e.offsetX.number*a.options.scale,a.ctx.shadowOffsetY=e.offsetY.number*a.options.scale,a.ctx.shadowBlur=e.blur.number,a.ctx.fillText(t.text,t.bounds.left,t.bounds.top+t.bounds.height)})),a.ctx.shadowColor="",a.ctx.shadowOffsetX=0,a.ctx.shadowOffsetY=0,a.ctx.shadowBlur=0),e.textDecorationLine.length&&(a.ctx.fillStyle=on(e.textDecorationColor||e.color),e.textDecorationLine.forEach((function(e){switch(e){case 1:var i=a.fontMetrics.getMetrics(o,s).baseline;a.ctx.fillRect(t.bounds.left,Math.round(t.bounds.top+i),t.bounds.width,1);break;case 2:a.ctx.fillRect(t.bounds.left,Math.round(t.bounds.top),t.bounds.width,1);break;case 3:var n=a.fontMetrics.getMetrics(o,s).middle;a.ctx.fillRect(t.bounds.left,Math.ceil(t.bounds.top+n),t.bounds.width,1);break}})))})),[2]}))}))},t.prototype.renderReplacedElement=function(t,e,i){if(i&&t.intrinsicWidth>0&&t.intrinsicHeight>0){var n=sA(t),r=Wa(e);this.path(r),this.ctx.save(),this.ctx.clip(),this.ctx.drawImage(i,0,0,t.intrinsicWidth,t.intrinsicHeight,n.left,n.top,n.width,n.height),this.ctx.restore()}},t.prototype.renderNodeContent=function(e){return n(this,void 0,void 0,(function(){var i,n,s,a,A,c,l,u,h,f,d,p,g,v,m;return r(this,(function(r){switch(r.label){case 0:this.applyEffects(e.effects,4),i=e.container,n=e.curves,s=i.styles,a=0,A=i.textNodes,r.label=1;case 1:return a<A.length?(c=A[a],[4,this.renderTextNode(c,s)]):[3,4];case 2:r.sent(),r.label=3;case 3:return a++,[3,1];case 4:if(!(i instanceof ds))return[3,8];r.label=5;case 5:return r.trys.push([5,7,,8]),[4,this.options.cache.match(i.src)];case 6:return g=r.sent(),this.renderReplacedElement(i,n,g),[3,8];case 7:return r.sent(),kn.getInstance(this.options.id).error("Error loading image "+i.src),[3,8];case 8:if(i instanceof ps&&this.renderReplacedElement(i,n,i.canvas),!(i instanceof gs))return[3,12];r.label=9;case 9:return r.trys.push([9,11,,12]),[4,this.options.cache.match(i.svg)];case 10:return g=r.sent(),this.renderReplacedElement(i,n,g),[3,12];case 11:return r.sent(),kn.getInstance(this.options.id).error("Error loading svg "+i.svg.substring(0,255)),[3,12];case 12:return i instanceof Us&&i.tree?(l=new t({id:this.options.id,scale:this.options.scale,backgroundColor:i.backgroundColor,x:0,y:0,scrollX:0,scrollY:0,width:i.width,height:i.height,cache:this.options.cache,windowWidth:i.width,windowHeight:i.height}),[4,l.render(i.tree)]):[3,14];case 13:u=r.sent(),i.width&&i.height&&this.ctx.drawImage(u,0,0,i.width,i.height,i.bounds.left,i.bounds.top,i.bounds.width,i.bounds.height),r.label=14;case 14:if(i instanceof Ss&&(h=Math.min(i.bounds.width,i.bounds.height),i.type===Cs?i.checked&&(this.ctx.save(),this.path([new Pa(i.bounds.left+.39363*h,i.bounds.top+.79*h),new Pa(i.bounds.left+.16*h,i.bounds.top+.5549*h),new Pa(i.bounds.left+.27347*h,i.bounds.top+.44071*h),new Pa(i.bounds.left+.39694*h,i.bounds.top+.5649*h),new Pa(i.bounds.left+.72983*h,i.bounds.top+.23*h),new Pa(i.bounds.left+.84*h,i.bounds.top+.34085*h),new Pa(i.bounds.left+.39363*h,i.bounds.top+.79*h)]),this.ctx.fillStyle=on(_s),this.ctx.fill(),this.ctx.restore()):i.type===Es&&i.checked&&(this.ctx.save(),this.ctx.beginPath(),this.ctx.arc(i.bounds.left+h/2,i.bounds.top+h/2,h/4,0,2*Math.PI,!0),this.ctx.fillStyle=on(_s),this.ctx.fill(),this.ctx.restore())),yA(i)&&i.value.length){switch(this.ctx.font=this.createFontStyle(s)[0],this.ctx.fillStyle=on(s.color),this.ctx.textBaseline="middle",this.ctx.textAlign=BA(i.styles.textAlign),m=sA(i),f=0,i.styles.textAlign){case lo.CENTER:f+=m.width/2;break;case lo.RIGHT:f+=m.width;break}d=m.add(f,0,0,-m.height/2+1),this.ctx.save(),this.path([new Pa(m.left,m.top),new Pa(m.left+m.width,m.top),new Pa(m.left+m.width,m.top+m.height),new Pa(m.left,m.top+m.height)]),this.ctx.clip(),this.renderTextWithLetterSpacing(new rs(i.value,d),s.letterSpacing),this.ctx.restore(),this.ctx.textBaseline="bottom",this.ctx.textAlign="left"}if(!Vo(i.styles.display,2048))return[3,20];if(null===i.styles.listStyleImage)return[3,19];if(p=i.styles.listStyleImage,p.type!==pn.URL)return[3,18];g=void 0,v=p.url,r.label=15;case 15:return r.trys.push([15,17,,18]),[4,this.options.cache.match(v)];case 16:return g=r.sent(),this.ctx.drawImage(g,i.bounds.left-(g.width+10),i.bounds.top),[3,18];case 17:return r.sent(),kn.getInstance(this.options.id).error("Error loading list-style-image "+v),[3,18];case 18:return[3,20];case 19:e.listValue&&i.styles.listStyleType!==Zr.NONE&&(this.ctx.font=this.createFontStyle(s)[0],this.ctx.fillStyle=on(s.color),this.ctx.textBaseline="middle",this.ctx.textAlign="right",m=new o(i.bounds.left,i.bounds.top+Wi(i.styles.paddingTop,i.bounds.width),i.bounds.width,$r(s.lineHeight,s.fontSize.number)/2+1),this.renderTextWithLetterSpacing(new rs(e.listValue,m),s.letterSpacing),this.ctx.textBaseline="bottom",this.ctx.textAlign="left"),r.label=20;case 20:return[2]}}))}))},t.prototype.renderStackContent=function(t){return n(this,void 0,void 0,(function(){var e,i,n,o,s,a,A,c,l,u,h,f,d,p,g;return r(this,(function(r){switch(r.label){case 0:return[4,this.renderNodeBackgroundAndBorders(t.element)];case 1:r.sent(),e=0,i=t.negativeZIndex,r.label=2;case 2:return e<i.length?(g=i[e],[4,this.renderStack(g)]):[3,5];case 3:r.sent(),r.label=4;case 4:return e++,[3,2];case 5:return[4,this.renderNodeContent(t.element)];case 6:r.sent(),n=0,o=t.nonInlineLevel,r.label=7;case 7:return n<o.length?(g=o[n],[4,this.renderNode(g)]):[3,10];case 8:r.sent(),r.label=9;case 9:return n++,[3,7];case 10:s=0,a=t.nonPositionedFloats,r.label=11;case 11:return s<a.length?(g=a[s],[4,this.renderStack(g)]):[3,14];case 12:r.sent(),r.label=13;case 13:return s++,[3,11];case 14:A=0,c=t.nonPositionedInlineLevel,r.label=15;case 15:return A<c.length?(g=c[A],[4,this.renderStack(g)]):[3,18];case 16:r.sent(),r.label=17;case 17:return A++,[3,15];case 18:l=0,u=t.inlineLevel,r.label=19;case 19:return l<u.length?(g=u[l],[4,this.renderNode(g)]):[3,22];case 20:r.sent(),r.label=21;case 21:return l++,[3,19];case 22:h=0,f=t.zeroOrAutoZIndexOrTransformedOrOpacity,r.label=23;case 23:return h<f.length?(g=f[h],[4,this.renderStack(g)]):[3,26];case 24:r.sent(),r.label=25;case 25:return h++,[3,23];case 26:d=0,p=t.positiveZIndex,r.label=27;case 27:return d<p.length?(g=p[d],[4,this.renderStack(g)]):[3,30];case 28:r.sent(),r.label=29;case 29:return d++,[3,27];case 30:return[2]}}))}))},t.prototype.mask=function(t){this.ctx.beginPath(),this.ctx.moveTo(0,0),this.ctx.lineTo(this.canvas.width,0),this.ctx.lineTo(this.canvas.width,this.canvas.height),this.ctx.lineTo(0,this.canvas.height),this.ctx.lineTo(0,0),this.formatPath(t.slice(0).reverse()),this.ctx.closePath()},t.prototype.path=function(t){this.ctx.beginPath(),this.formatPath(t),this.ctx.closePath()},t.prototype.formatPath=function(t){var e=this;t.forEach((function(t,i){var n=za(t)?t.start:t;0===i?e.ctx.moveTo(n.x,n.y):e.ctx.lineTo(n.x,n.y),za(t)&&e.ctx.bezierCurveTo(t.startControl.x,t.startControl.y,t.endControl.x,t.endControl.y,t.end.x,t.end.y)}))},t.prototype.renderRepeat=function(t,e,i,n){this.path(t),this.ctx.fillStyle=e,this.ctx.translate(i,n),this.ctx.fill(),this.ctx.translate(-i,-n)},t.prototype.resizeImage=function(t,e,i){if(t.width===e&&t.height===i)return t;var n=this.canvas.ownerDocument.createElement("canvas");n.width=e,n.height=i;var r=n.getContext("2d");return r.drawImage(t,0,0,t.width,t.height,0,0,e,i),n},t.prototype.renderBackgroundImage=function(t){return n(this,void 0,void 0,(function(){var e,i,n,o,s,a;return r(this,(function(A){switch(A.label){case 0:e=t.styles.backgroundImage.length-1,i=function(i){var o,s,a,A,c,l,u,h,f,d,p,g,v,m,w,y,b,B,C,E,x,_,S,T,F,Q,U,O,H,D,I;return r(this,(function(r){switch(r.label){case 0:if(i.type!==pn.URL)return[3,5];o=void 0,s=i.url,r.label=1;case 1:return r.trys.push([1,3,,4]),[4,n.options.cache.match(s)];case 2:return o=r.sent(),[3,4];case 3:return r.sent(),kn.getInstance(n.options.id).error("Error loading background-image "+s),[3,4];case 4:return o&&(a=cA(t,e,[o.width,o.height,o.width/o.height]),y=a[0],_=a[1],S=a[2],C=a[3],E=a[4],m=n.ctx.createPattern(n.resizeImage(o,C,E),"repeat"),n.renderRepeat(y,m,_,S)),[3,6];case 5:sr(i)?(A=cA(t,e,[null,null,null]),y=A[0],_=A[1],S=A[2],C=A[3],E=A[4],c=bn(i.angle,C,E),l=c[0],u=c[1],h=c[2],f=c[3],d=c[4],p=document.createElement("canvas"),p.width=C,p.height=E,g=p.getContext("2d"),v=g.createLinearGradient(u,f,h,d),wn(i.stops,l).forEach((function(t){return v.addColorStop(t.stop,on(t.color))})),g.fillStyle=v,g.fillRect(0,0,C,E),C>0&&E>0&&(m=n.ctx.createPattern(p,"repeat"),n.renderRepeat(y,m,_,S))):ar(i)&&(w=cA(t,e,[null,null,null]),y=w[0],b=w[1],B=w[2],C=w[3],E=w[4],x=0===i.position.length?[Ki]:i.position,_=Wi(x[0],C),S=Wi(x[x.length-1],E),T=En(i,_,S,C,E),F=T[0],Q=T[1],F>0&&F>0&&(U=n.ctx.createRadialGradient(b+_,B+S,0,b+_,B+S,F),wn(i.stops,2*F).forEach((function(t){return U.addColorStop(t.stop,on(t.color))})),n.path(y),n.ctx.fillStyle=U,F!==Q?(O=t.bounds.left+.5*t.bounds.width,H=t.bounds.top+.5*t.bounds.height,D=Q/F,I=1/D,n.ctx.save(),n.ctx.translate(O,H),n.ctx.transform(1,0,0,D,0,0),n.ctx.translate(-O,-H),n.ctx.fillRect(b,I*(B-H)+H,C,E*I),n.ctx.restore()):n.ctx.fill())),r.label=6;case 6:return e--,[2]}}))},n=this,o=0,s=t.styles.backgroundImage.slice(0).reverse(),A.label=1;case 1:return o<s.length?(a=s[o],[5,i(a)]):[3,4];case 2:A.sent(),A.label=3;case 3:return o++,[3,1];case 4:return[2]}}))}))},t.prototype.renderBorder=function(t,e,i){return n(this,void 0,void 0,(function(){return r(this,(function(n){return this.path(nA(i,e)),this.ctx.fillStyle=on(t),this.ctx.fill(),[2]}))}))},t.prototype.renderNodeBackgroundAndBorders=function(t){return n(this,void 0,void 0,(function(){var e,i,n,o,s,a,A,c,l=this;return r(this,(function(r){switch(r.label){case 0:return this.applyEffects(t.effects,2),e=t.container.styles,i=!rn(e.backgroundColor)||e.backgroundImage.length,n=[{style:e.borderTopStyle,color:e.borderTopColor},{style:e.borderRightStyle,color:e.borderRightColor},{style:e.borderBottomStyle,color:e.borderBottomColor},{style:e.borderLeftStyle,color:e.borderLeftColor}],o=bA(fA(e.backgroundClip,0),t.curves),i||e.boxShadow.length?(this.ctx.save(),this.path(o),this.ctx.clip(),rn(e.backgroundColor)||(this.ctx.fillStyle=on(e.backgroundColor),this.ctx.fill()),[4,this.renderBackgroundImage(t.container)]):[3,2];case 1:r.sent(),this.ctx.restore(),e.boxShadow.slice(0).reverse().forEach((function(e){l.ctx.save();var i=Xa(t.curves),n=e.inset?0:mA,r=Ma(i,-n+(e.inset?1:-1)*e.spread.number,(e.inset?1:-1)*e.spread.number,e.spread.number*(e.inset?-2:2),e.spread.number*(e.inset?-2:2));e.inset?(l.path(i),l.ctx.clip(),l.mask(r)):(l.mask(i),l.ctx.clip(),l.path(r)),l.ctx.shadowOffsetX=e.offsetX.number+n,l.ctx.shadowOffsetY=e.offsetY.number,l.ctx.shadowColor=on(e.color),l.ctx.shadowBlur=e.blur.number,l.ctx.fillStyle=e.inset?on(e.color):"rgba(0,0,0,1)",l.ctx.fill(),l.ctx.restore()})),r.label=2;case 2:s=0,a=0,A=n,r.label=3;case 3:return a<A.length?(c=A[a],c.style===mr.NONE||rn(c.color)?[3,5]:[4,this.renderBorder(c.color,s,t.curves)]):[3,7];case 4:r.sent(),r.label=5;case 5:s++,r.label=6;case 6:return a++,[3,3];case 7:return[2]}}))}))},t.prototype.render=function(t){return n(this,void 0,void 0,(function(){var e;return r(this,(function(i){switch(i.label){case 0:return this.options.backgroundColor&&(this.ctx.fillStyle=on(this.options.backgroundColor),this.ctx.fillRect(this.options.x-this.options.scrollX,this.options.y-this.options.scrollY,this.options.width,this.options.height)),e=iA(t),[4,this.renderStack(e)];case 1:return i.sent(),this.applyEffects([],2),[2,this.canvas]}}))}))},t}(),yA=function(t){return t instanceof Fs||(t instanceof Ts||t instanceof Ss&&t.type!==Es&&t.type!==Cs)},bA=function(t,e){switch(t){case un.BORDER_BOX:return Xa(e);case un.CONTENT_BOX:return Va(e);case un.PADDING_BOX:default:return Wa(e)}},BA=function(t){switch(t){case lo.CENTER:return"center";case lo.RIGHT:return"right";case lo.LEFT:default:return"left"}},CA=function(){function t(t){this.canvas=t.canvas?t.canvas:document.createElement("canvas"),this.ctx=this.canvas.getContext("2d"),this.options=t,this.canvas.width=Math.floor(t.width*t.scale),this.canvas.height=Math.floor(t.height*t.scale),this.canvas.style.width=t.width+"px",this.canvas.style.height=t.height+"px",this.ctx.scale(this.options.scale,this.options.scale),this.ctx.translate(-t.x+t.scrollX,-t.y+t.scrollY),kn.getInstance(t.id).debug("EXPERIMENTAL ForeignObject renderer initialized ("+t.width+"x"+t.height+" at "+t.x+","+t.y+") with scale "+t.scale)}return t.prototype.render=function(t){return n(this,void 0,void 0,(function(){var e,i;return r(this,(function(n){switch(n.label){case 0:return e=Hn(Math.max(this.options.windowWidth,this.options.width)*this.options.scale,Math.max(this.options.windowHeight,this.options.height)*this.options.scale,this.options.scrollX*this.options.scale,this.options.scrollY*this.options.scale,t),[4,EA(e)];case 1:return i=n.sent(),this.options.backgroundColor&&(this.ctx.fillStyle=on(this.options.backgroundColor),this.ctx.fillRect(0,0,this.options.width*this.options.scale,this.options.height*this.options.scale)),this.ctx.drawImage(i,-this.options.x*this.options.scale,-this.options.y*this.options.scale),[2,this.canvas]}}))}))},t}(),EA=function(t){return new Promise((function(e,i){var n=new Image;n.onload=function(){e(n)},n.onerror=i,n.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent((new XMLSerializer).serializeToString(t))}))},xA=void 0,_A=function(t){return nn.parse(Qi.create(t).parseComponentValue())},SA=function(t,e){return void 0===e&&(e={}),TA(t,e)};"undefined"!==typeof window&&Rn.setContext(window);var TA=function(t,e){return n(xA,void 0,void 0,(function(){var n,A,c,l,u,h,f,d,p,g,v,m,w,y,b,B,C,E,x,_,S,T,F,Q,U;return r(this,(function(r){switch(r.label){case 0:if(n=t.ownerDocument,!n)throw new Error("Element is not attached to a Document");if(A=n.defaultView,!A)throw new Error("Document is not attached to a Window");return c=(Math.round(1e3*Math.random())+Date.now()).toString(16),l=Ws(t)||Xs(t)?a(n):s(t),u=l.width,h=l.height,f=l.left,d=l.top,p={allowTaint:!1,imageTimeout:15e3,proxy:void 0,useCORS:!1},g=i({},p,e),v={backgroundColor:"#ffffff",cache:e.cache?e.cache:Rn.create(c,g),logging:!0,removeContainer:!0,foreignObjectRendering:!1,scale:A.devicePixelRatio||1,windowWidth:A.innerWidth,windowHeight:A.innerHeight,scrollX:A.pageXOffset,scrollY:A.pageYOffset,x:f,y:d,width:Math.ceil(u),height:Math.ceil(h),id:c},m=i({},v,g,e),w=new o(m.scrollX,m.scrollY,m.windowWidth,m.windowHeight),kn.create({id:c,enabled:m.logging}),kn.getInstance(c).debug("Starting document clone"),y=new ba(t,{id:c,onclone:m.onclone,ignoreElements:m.ignoreElements,inlineImages:m.foreignObjectRendering,copyStyles:m.foreignObjectRendering}),b=y.clonedReferenceElement,b?[4,y.toIFrame(n,w)]:[2,Promise.reject("Unable to find element in cloned iframe")];case 1:return B=r.sent(),C=n.documentElement?_A(getComputedStyle(n.documentElement).backgroundColor):dn.TRANSPARENT,E=n.body?_A(getComputedStyle(n.body).backgroundColor):dn.TRANSPARENT,x=e.backgroundColor,_="string"===typeof x?_A(x):null===x?dn.TRANSPARENT:4294967295,S=t===n.documentElement?rn(C)?rn(E)?_:E:C:_,T={id:c,cache:m.cache,canvas:m.canvas,backgroundColor:S,scale:m.scale,x:m.x,y:m.y,scrollX:m.scrollX,scrollY:m.scrollY,width:m.width,height:m.height,windowWidth:m.windowWidth,windowHeight:m.windowHeight},m.foreignObjectRendering?(kn.getInstance(c).debug("Document cloned, using foreign object rendering"),U=new CA(T),[4,U.render(b)]):[3,3];case 2:return F=r.sent(),[3,5];case 3:return kn.getInstance(c).debug("Document cloned, using computed rendering"),Rn.attachInstance(m.cache),kn.getInstance(c).debug("Starting DOM parsing"),Q=Is(b),Rn.detachInstance(),S===Q.styles.backgroundColor&&(Q.styles.backgroundColor=dn.TRANSPARENT),kn.getInstance(c).debug("Starting renderer"),U=new wA(T),[4,U.render(Q)];case 4:F=r.sent(),r.label=5;case 5:return!0===m.removeContainer&&(ba.destroy(B)||kn.getInstance(c).error("Cannot detach cloned iframe as it is not in the DOM anymore")),kn.getInstance(c).debug("Finished rendering"),kn.destroy(c),Rn.destroy(c),[2,F]}}))}))};return SA}))},c430:function(t,e){t.exports=!1},c454:function(t,e,i){var n=i("0c1e"),r=i("2b9c"),o=i("f708");t.exports=!n&&!r((function(){return 7!=Object.defineProperty(o("div"),"a",{get:function(){return 7}}).a}))},c45c:function(t,e,i){var n=i("2b9c"),r=i("cab6"),o="".split;t.exports=n((function(){return!Object("z").propertyIsEnumerable(0)}))?function(t){return"String"==r(t)?o.call(t,""):Object(t)}:Object},c48e:function(t,e,i){var n=i("6f17"),r=i("381f"),o=function(t){return function(e,i){var o,s,a=String(r(e)),A=n(i),c=a.length;return A<0||A>=c?t?"":void 0:(o=a.charCodeAt(A),o<55296||o>56319||A+1===c||(s=a.charCodeAt(A+1))<56320||s>57343?t?a.charAt(A):o:t?a.slice(A,A+2):s-56320+(o-55296<<10)+65536)}};t.exports={codeAt:o(!1),charAt:o(!0)}},c54f:function(t,e,i){var n=i("6f17"),r=Math.max,o=Math.min;t.exports=function(t,e){var i=n(t);return i<0?r(i+e,0):o(i,e)}},c668:function(t,e,i){var n=i("f2f2");t.exports=n},c6b6:function(t,e){var i={}.toString;t.exports=function(t){return i.call(t).slice(8,-1)}},c6cd:function(t,e,i){var n=i("da84"),r=i("ce4e"),o="__core-js_shared__",s=n[o]||r(o,{});t.exports=s},c6d3:function(t,e,i){},c8ba:function(t,e){var i;i=function(){return this}();try{i=i||new Function("return this")()}catch(n){"object"===typeof window&&(i=window)}t.exports=i},c8d2:function(t,e,i){var n=i("d039"),r=i("5899"),o="";t.exports=function(t){return n((function(){return!!r[t]()||o[t]()!=o||r[t].name!==t}))}},ca84:function(t,e,i){var n=i("5135"),r=i("fc6a"),o=i("4d64").indexOf,s=i("d012");t.exports=function(t,e){var i,a=r(t),A=0,c=[];for(i in a)!n(s,i)&&n(a,i)&&c.push(i);while(e.length>A)n(a,i=e[A++])&&(~o(c,i)||c.push(i));return c}},caad:function(t,e,i){"use strict";var n=i("23e7"),r=i("4d64").includes,o=i("44d2");n({target:"Array",proto:!0},{includes:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}}),o("includes")},caad9:function(t,e,i){var n=i("820c"),r=i("cab6"),o=i("b5a5"),s=o("toStringTag"),a="Arguments"==r(function(){return arguments}()),A=function(t,e){try{return t[e]}catch(i){}};t.exports=n?r:function(t){var e,i,n;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(i=A(e=Object(t),s))?i:a?r(e):"Object"==(n=r(e))&&"function"==typeof e.callee?"Arguments":n}},cab6:function(t,e){var i={}.toString;t.exports=function(t){return i.call(t).slice(8,-1)}},cb29:function(t,e,i){var n=i("23e7"),r=i("81d5"),o=i("44d2");n({target:"Array",proto:!0},{fill:r}),o("fill")},cc12:function(t,e,i){var n=i("da84"),r=i("861d"),o=n.document,s=r(o)&&r(o.createElement);t.exports=function(t){return s?o.createElement(t):{}}},cd3b:function(t,e,i){!function(e,i){t.exports=i()}(0,(function(){return(()=>{"use strict";var t={306:t=>{t.exports=JSON.parse('{"u2":"@vuoz/theme-core-default","i8":"0.2.174"}')}},e={};function i(n){var r=e[n];if(void 0!==r)return r.exports;var o=e[n]={exports:{}};return t[n](o,o.exports,i),o.exports}i.d=(t,e)=>{for(var n in e)i.o(e,n)&&!i.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},i.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),i.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})};var n={};return(()=>{i.r(n),i.d(n,{Theme:()=>e});var t="Default (dark)",e={id:"core.default",name:t,package:i(306).u2,version:i(306).i8,paths:{sass:"sass/theme.sass",css:"css/theme.min.css",install:"archive/theme.".concat(t,".zip")}}})(),n})()}))},cdf9:function(t,e,i){var n=i("825a"),r=i("861d"),o=i("f069");t.exports=function(t,e){if(n(t),r(e)&&e.constructor===t)return e;var i=o.f(t),s=i.resolve;return s(e),i.promise}},ce4e:function(t,e,i){var n=i("da84"),r=i("9112");t.exports=function(t,e){try{r(n,t,e)}catch(i){n[t]=e}return e}},ce7c:function(t,e,i){var n=i("ad0d");t.exports=n&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},d012:function(t,e){t.exports={}},d039:function(t,e){t.exports=function(t){try{return!!t()}catch(e){return!0}}},d065:function(t,e,i){var n=i("c45c"),r=i("381f");t.exports=function(t){return n(r(t))}},d066:function(t,e,i){var n=i("428f"),r=i("da84"),o=function(t){return"function"==typeof t?t:void 0};t.exports=function(t,e){return arguments.length<2?o(n[t])||o(r[t]):n[t]&&n[t][e]||r[t]&&r[t][e]}},d1e7:function(t,e,i){"use strict";var n={}.propertyIsEnumerable,r=Object.getOwnPropertyDescriptor,o=r&&!n.call({1:2},1);e.f=o?function(t){var e=r(this,t);return!!e&&e.enumerable}:n},d23b:function(t,e,i){var n=i("f0e4"),r=i("cab6"),o=i("b5a5"),s=o("match");t.exports=function(t){var e;return n(t)&&(void 0!==(e=t[s])?!!e:"RegExp"==r(t))}},d28b:function(t,e,i){var n=i("746f");n("iterator")},d2bb:function(t,e,i){var n=i("825a"),r=i("3bbe");t.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var t,e=!1,i={};try{t=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set,t.call(i,[]),e=i instanceof Array}catch(o){}return function(i,o){return n(i),r(o),e?t.call(i,o):i.__proto__=o,i}}():void 0)},d348:function(t,e,i){var n=i("0c1e"),r=i("16df"),o=i("eb22");t.exports=n?function(t,e,i){return r.f(t,e,o(1,i))}:function(t,e,i){return t[e]=i,t}},d3b7:function(t,e,i){var n=i("00ee"),r=i("6eeb"),o=i("b041");n||r(Object.prototype,"toString",o,{unsafe:!0})},d44e:function(t,e,i){var n=i("9bf2").f,r=i("5135"),o=i("b622"),s=o("toStringTag");t.exports=function(t,e,i){t&&!r(t=i?t:t.prototype,s)&&n(t,s,{configurable:!0,value:e})}},d5c2:function(t,e){e.f=Object.getOwnPropertySymbols},d784:function(t,e,i){"use strict";i("ac1f");var n=i("6eeb"),r=i("d039"),o=i("b622"),s=i("9263"),a=i("9112"),A=o("species"),c=!r((function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:"7"},t},"7"!=="".replace(t,"$<a>")})),l=function(){return"$0"==="a".replace(/./,"$0")}(),u=o("replace"),h=function(){return!!/./[u]&&""===/./[u]("a","$0")}(),f=!r((function(){var t=/(?:)/,e=t.exec;t.exec=function(){return e.apply(this,arguments)};var i="ab".split(t);return 2!==i.length||"a"!==i[0]||"b"!==i[1]}));t.exports=function(t,e,i,u){var d=o(t),p=!r((function(){var e={};return e[d]=function(){return 7},7!=""[t](e)})),g=p&&!r((function(){var e=!1,i=/a/;return"split"===t&&(i={},i.constructor={},i.constructor[A]=function(){return i},i.flags="",i[d]=/./[d]),i.exec=function(){return e=!0,null},i[d](""),!e}));if(!p||!g||"replace"===t&&(!c||!l||h)||"split"===t&&!f){var v=/./[d],m=i(d,""[t],(function(t,e,i,n,r){return e.exec===s?p&&!r?{done:!0,value:v.call(e,i,n)}:{done:!0,value:t.call(i,e,n)}:{done:!1}}),{REPLACE_KEEPS_$0:l,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:h}),w=m[0],y=m[1];n(String.prototype,t,w),n(RegExp.prototype,d,2==e?function(t,e){return y.call(t,this,e)}:function(t){return y.call(t,this)})}u&&a(RegExp.prototype[d],"sham",!0)}},da84:function(t,e,i){(function(e){var i=function(t){return t&&t.Math==Math&&t};t.exports=i("object"==typeof globalThis&&globalThis)||i("object"==typeof window&&window)||i("object"==typeof self&&self)||i("object"==typeof e&&e)||function(){return this}()||Function("return this")()}).call(this,i("c8ba"))},dbb4:function(t,e,i){var n=i("23e7"),r=i("83ab"),o=i("56ef"),s=i("fc6a"),a=i("06cf"),A=i("8418");n({target:"Object",stat:!0,sham:!r},{getOwnPropertyDescriptors:function(t){var e,i,n=s(t),r=a.f,c=o(n),l={},u=0;while(c.length>u)i=r(n,e=c[u++]),void 0!==i&&A(l,e,i);return l}})},ddb0:function(t,e,i){var n=i("da84"),r=i("fdbc"),o=i("e260"),s=i("9112"),a=i("b622"),A=a("iterator"),c=a("toStringTag"),l=o.values;for(var u in r){var h=n[u],f=h&&h.prototype;if(f){if(f[A]!==l)try{s(f,A,l)}catch(p){f[A]=l}if(f[c]||s(f,c,u),r[u])for(var d in o)if(f[d]!==o[d])try{s(f,d,o[d])}catch(p){f[d]=o[d]}}}},debf:function(t,e,i){var n=i("f0e4"),r=i("6089");t.exports=function(t,e,i){var o,s;return r&&"function"==typeof(o=e.constructor)&&o!==i&&n(s=o.prototype)&&s!==i.prototype&&r(t,s),t}},df75:function(t,e,i){var n=i("ca84"),r=i("7839");t.exports=Object.keys||function(t){return n(t,r)}},e01a:function(t,e,i){"use strict";var n=i("23e7"),r=i("83ab"),o=i("da84"),s=i("5135"),a=i("861d"),A=i("9bf2").f,c=i("e893"),l=o.Symbol;if(r&&"function"==typeof l&&(!("description"in l.prototype)||void 0!==l().description)){var u={},h=function(){var t=arguments.length<1||void 0===arguments[0]?void 0:String(arguments[0]),e=this instanceof h?new l(t):void 0===t?l():l(t);return""===t&&(u[e]=!0),e};c(h,l);var f=h.prototype=l.prototype;f.constructor=h;var d=f.toString,p="Symbol(test)"==String(l("test")),g=/^Symbol\((.*)\)[^)]+$/;A(f,"description",{configurable:!0,get:function(){var t=a(this)?this.valueOf():this,e=d.call(t);if(s(u,t))return"";var i=p?e.slice(7,-1):e.replace(g,"$1");return""===i?void 0:i}}),n({global:!0,forced:!0},{Symbol:h})}},e163:function(t,e,i){var n=i("5135"),r=i("7b0b"),o=i("f772"),s=i("e177"),a=o("IE_PROTO"),A=Object.prototype;t.exports=s?Object.getPrototypeOf:function(t){return t=r(t),n(t,a)?t[a]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?A:null}},e177:function(t,e,i){var n=i("d039");t.exports=!n((function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype}))},e1d3:function(t,e,i){"use strict";var n=i("2b9c");function r(t,e){return RegExp(t,e)}e.UNSUPPORTED_Y=n((function(){var t=r("a","y");return t.lastIndex=2,null!=t.exec("abcd")})),e.BROKEN_CARET=n((function(){var t=r("^r","gy");return t.lastIndex=2,null!=t.exec("str")}))},e260:function(t,e,i){"use strict";var n=i("fc6a"),r=i("44d2"),o=i("3f8c"),s=i("69f3"),a=i("7dd0"),A="Array Iterator",c=s.set,l=s.getterFor(A);t.exports=a(Array,"Array",(function(t,e){c(this,{type:A,target:n(t),index:0,kind:e})}),(function(){var t=l(this),e=t.target,i=t.kind,n=t.index++;return!e||n>=e.length?(t.target=void 0,{value:void 0,done:!0}):"keys"==i?{value:n,done:!1}:"values"==i?{value:e[n],done:!1}:{value:[n,e[n]],done:!1}}),"values"),o.Arguments=o.Array,r("keys"),r("values"),r("entries")},e2cc:function(t,e,i){var n=i("6eeb");t.exports=function(t,e,i){for(var r in e)n(t,r,e[r],i);return t}},e3db:function(t,e){var i={}.toString;t.exports=Array.isArray||function(t){return"[object Array]"==i.call(t)}},e439:function(t,e,i){var n=i("23e7"),r=i("d039"),o=i("fc6a"),s=i("06cf").f,a=i("83ab"),A=r((function(){s(1)})),c=!a||A;n({target:"Object",stat:!0,forced:c,sham:!a},{getOwnPropertyDescriptor:function(t,e){return s(o(t),e)}})},e538:function(t,e,i){var n=i("b622");e.f=n},e568:function(t,e,i){var n=i("f2f2"),r=i("d348");t.exports=function(t,e){try{r(n,t,e)}catch(i){n[t]=e}return e}},e59a:function(t,e,i){var n=i("cab6"),r=i("227f");t.exports=function(t,e){var i=t.exec;if("function"===typeof i){var o=i.call(t,e);if("object"!==typeof o)throw TypeError("RegExp exec method returned something other than an Object or null");return o}if("RegExp"!==n(t))throw TypeError("RegExp#exec called on incompatible receiver");return r.call(t,e)}},e667:function(t,e){t.exports=function(t){try{return{error:!1,value:t()}}catch(e){return{error:!0,value:e}}}},e679:function(t,e,i){"use strict";i("7035")},e6cf:function(t,e,i){"use strict";var n,r,o,s,a=i("23e7"),A=i("c430"),c=i("da84"),l=i("d066"),u=i("fea9"),h=i("6eeb"),f=i("e2cc"),d=i("d44e"),p=i("2626"),g=i("861d"),v=i("1c0b"),m=i("19aa"),w=i("8925"),y=i("2266"),b=i("1c7e"),B=i("4840"),C=i("2cf4").set,E=i("b575"),x=i("cdf9"),_=i("44de"),S=i("f069"),T=i("e667"),F=i("69f3"),Q=i("94ca"),U=i("b622"),O=i("605d"),H=i("2d00"),D=U("species"),I="Promise",k=F.get,R=F.set,M=F.getterFor(I),P=u,N=c.TypeError,L=c.document,z=c.process,j=l("fetch"),K=S.f,X=K,V=!!(L&&L.createEvent&&c.dispatchEvent),W="function"==typeof PromiseRejectionEvent,G="unhandledrejection",Y="rejectionhandled",J=0,$=1,q=2,Z=1,tt=2,et=Q(I,(function(){var t=w(P)!==String(P);if(!t){if(66===H)return!0;if(!O&&!W)return!0}if(A&&!P.prototype["finally"])return!0;if(H>=51&&/native code/.test(P))return!1;var e=P.resolve(1),i=function(t){t((function(){}),(function(){}))},n=e.constructor={};return n[D]=i,!(e.then((function(){}))instanceof i)})),it=et||!b((function(t){P.all(t)["catch"]((function(){}))})),nt=function(t){var e;return!(!g(t)||"function"!=typeof(e=t.then))&&e},rt=function(t,e){if(!t.notified){t.notified=!0;var i=t.reactions;E((function(){var n=t.value,r=t.state==$,o=0;while(i.length>o){var s,a,A,c=i[o++],l=r?c.ok:c.fail,u=c.resolve,h=c.reject,f=c.domain;try{l?(r||(t.rejection===tt&&At(t),t.rejection=Z),!0===l?s=n:(f&&f.enter(),s=l(n),f&&(f.exit(),A=!0)),s===c.promise?h(N("Promise-chain cycle")):(a=nt(s))?a.call(s,u,h):u(s)):h(n)}catch(d){f&&!A&&f.exit(),h(d)}}t.reactions=[],t.notified=!1,e&&!t.rejection&&st(t)}))}},ot=function(t,e,i){var n,r;V?(n=L.createEvent("Event"),n.promise=e,n.reason=i,n.initEvent(t,!1,!0),c.dispatchEvent(n)):n={promise:e,reason:i},!W&&(r=c["on"+t])?r(n):t===G&&_("Unhandled promise rejection",i)},st=function(t){C.call(c,(function(){var e,i=t.facade,n=t.value,r=at(t);if(r&&(e=T((function(){O?z.emit("unhandledRejection",n,i):ot(G,i,n)})),t.rejection=O||at(t)?tt:Z,e.error))throw e.value}))},at=function(t){return t.rejection!==Z&&!t.parent},At=function(t){C.call(c,(function(){var e=t.facade;O?z.emit("rejectionHandled",e):ot(Y,e,t.value)}))},ct=function(t,e,i){return function(n){t(e,n,i)}},lt=function(t,e,i){t.done||(t.done=!0,i&&(t=i),t.value=e,t.state=q,rt(t,!0))},ut=function(t,e,i){if(!t.done){t.done=!0,i&&(t=i);try{if(t.facade===e)throw N("Promise can't be resolved itself");var n=nt(e);n?E((function(){var i={done:!1};try{n.call(e,ct(ut,i,t),ct(lt,i,t))}catch(r){lt(i,r,t)}})):(t.value=e,t.state=$,rt(t,!1))}catch(r){lt({done:!1},r,t)}}};et&&(P=function(t){m(this,P,I),v(t),n.call(this);var e=k(this);try{t(ct(ut,e),ct(lt,e))}catch(i){lt(e,i)}},n=function(t){R(this,{type:I,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:J,value:void 0})},n.prototype=f(P.prototype,{then:function(t,e){var i=M(this),n=K(B(this,P));return n.ok="function"!=typeof t||t,n.fail="function"==typeof e&&e,n.domain=O?z.domain:void 0,i.parent=!0,i.reactions.push(n),i.state!=J&&rt(i,!1),n.promise},catch:function(t){return this.then(void 0,t)}}),r=function(){var t=new n,e=k(t);this.promise=t,this.resolve=ct(ut,e),this.reject=ct(lt,e)},S.f=K=function(t){return t===P||t===o?new r(t):X(t)},A||"function"!=typeof u||(s=u.prototype.then,h(u.prototype,"then",(function(t,e){var i=this;return new P((function(t,e){s.call(i,t,e)})).then(t,e)}),{unsafe:!0}),"function"==typeof j&&a({global:!0,enumerable:!0,forced:!0},{fetch:function(t){return x(P,j.apply(c,arguments))}}))),a({global:!0,wrap:!0,forced:et},{Promise:P}),d(P,I,!1,!0),p(I),o=l(I),a({target:I,stat:!0,forced:et},{reject:function(t){var e=K(this);return e.reject.call(void 0,t),e.promise}}),a({target:I,stat:!0,forced:A||et},{resolve:function(t){return x(A&&this===o?P:this,t)}}),a({target:I,stat:!0,forced:it},{all:function(t){var e=this,i=K(e),n=i.resolve,r=i.reject,o=T((function(){var i=v(e.resolve),o=[],s=0,a=1;y(t,(function(t){var A=s++,c=!1;o.push(void 0),a++,i.call(e,t).then((function(t){c||(c=!0,o[A]=t,--a||n(o))}),r)})),--a||n(o)}));return o.error&&r(o.value),i.promise},race:function(t){var e=this,i=K(e),n=i.reject,r=T((function(){var r=v(e.resolve);y(t,(function(t){r.call(e,t).then(i.resolve,n)}))}));return r.error&&n(r.value),i.promise}})},e798:function(t,e,i){var n,r=i("59d3"),o=i("ae37"),s=i("8814"),a=i("b064"),A=i("bcc1"),c=i("f708"),l=i("932f"),u=">",h="<",f="prototype",d="script",p=l("IE_PROTO"),g=function(){},v=function(t){return h+d+u+t+h+"/"+d+u},m=function(t){t.write(v("")),t.close();var e=t.parentWindow.Object;return t=null,e},w=function(){var t,e=c("iframe"),i="java"+d+":";return e.style.display="none",A.appendChild(e),e.src=String(i),t=e.contentWindow.document,t.open(),t.write(v("document.F=Object")),t.close(),t.F},y=function(){try{n=document.domain&&new ActiveXObject("htmlfile")}catch(e){}y=n?m(n):w();var t=s.length;while(t--)delete y[f][s[t]];return y()};a[p]=!0,t.exports=Object.create||function(t,e){var i;return null!==t?(g[f]=r(t),i=new g,g[f]=null,i[p]=t):i=y(),void 0===e?i:o(i,e)}},e893:function(t,e,i){var n=i("5135"),r=i("56ef"),o=i("06cf"),s=i("9bf2");t.exports=function(t,e){for(var i=r(e),a=s.f,A=o.f,c=0;c<i.length;c++){var l=i[c];n(t,l)||a(t,l,A(e,l))}}},e8b5:function(t,e,i){var n=i("c6b6");t.exports=Array.isArray||function(t){return"Array"==n(t)}},e95a:function(t,e,i){var n=i("b622"),r=i("3f8c"),o=n("iterator"),s=Array.prototype;t.exports=function(t){return void 0!==t&&(r.Array===t||s[o]===t)}},eb22:function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},f069:function(t,e,i){"use strict";var n=i("1c0b"),r=function(t){var e,i;this.promise=new t((function(t,n){if(void 0!==e||void 0!==i)throw TypeError("Bad Promise constructor");e=t,i=n})),this.resolve=n(e),this.reject=n(i)};t.exports.f=function(t){return new r(t)}},f0e4:function(t,e){t.exports=function(t){return"object"===typeof t?null!==t:"function"===typeof t}},f173:function(t,e,i){var n=i("396a");t.exports=function(t,e,i){if(n(t),void 0===e)return t;switch(i){case 0:return function(){return t.call(e)};case 1:return function(i){return t.call(e,i)};case 2:return function(i,n){return t.call(e,i,n)};case 3:return function(i,n,r){return t.call(e,i,n,r)}}return function(){return t.apply(e,arguments)}}},f2f2:function(t,e,i){(function(e){var i=function(t){return t&&t.Math==Math&&t};t.exports=i("object"==typeof globalThis&&globalThis)||i("object"==typeof window&&window)||i("object"==typeof self&&self)||i("object"==typeof e&&e)||function(){return this}()||Function("return this")()}).call(this,i("c8ba"))},f3bb:function(t,e,i){"use strict";i("1c09")},f4d5:function(t,e,i){var n=i("59d3"),r=i("396a"),o=i("b5a5"),s=o("species");t.exports=function(t,e){var i,o=n(t).constructor;return void 0===o||void 0==(i=n(o)[s])?e:r(i)}},f5df:function(t,e,i){var n=i("00ee"),r=i("c6b6"),o=i("b622"),s=o("toStringTag"),a="Arguments"==r(function(){return arguments}()),A=function(t,e){try{return t[e]}catch(i){}};t.exports=n?r:function(t){var e,i,n;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(i=A(e=Object(t),s))?i:a?r(e):"Object"==(n=r(e))&&"function"==typeof e.callee?"Arguments":n}},f708:function(t,e,i){var n=i("f2f2"),r=i("f0e4"),o=n.document,s=r(o)&&r(o.createElement);t.exports=function(t){return s?o.createElement(t):{}}},f772:function(t,e,i){var n=i("5692"),r=i("90e3"),o=n("keys");t.exports=function(t){return o[t]||(o[t]=r(t))}},f7aa:function(t,e,i){},fa99:function(t,e,i){var n=i("381f"),r=i("8d66"),o="["+r+"]",s=RegExp("^"+o+o+"*"),a=RegExp(o+o+"*$"),A=function(t){return function(e){var i=String(n(e));return 1&t&&(i=i.replace(s,"")),2&t&&(i=i.replace(a,"")),i}};t.exports={start:A(1),end:A(2),trim:A(3)}},fae3:function(t,e,i){"use strict";if(i.r(e),i.d(e,"VuozButton",(function(){return fn})),i.d(e,"VuozCheckbox",(function(){return yn})),i.d(e,"VuozInput",(function(){return Sn})),i.d(e,"VuozSignIn",(function(){return Dn})),i.d(e,"VuozMenu",(function(){return Ln})),i.d(e,"VuozImage",(function(){return Jn})),i.d(e,"VuozCropper",(function(){return ps})),i.d(e,"VuozLoadingBar",(function(){return Bs})),i.d(e,"VuozLoadingIcon",(function(){return an})),i.d(e,"VuozTabs",(function(){return qs})),i.d(e,"VuozConsole",(function(){return da})),i.d(e,"VuozToolbar",(function(){return Ar})),i.d(e,"VuozSplitView",(function(){return ba})),i.d(e,"VuozTitleBar",(function(){return Ta})),i.d(e,"VuozTable",(function(){return Ia})),i.d(e,"VuozTableHeader",(function(){return za})),i.d(e,"VuozTableRow",(function(){return Ja})),i.d(e,"VuozPreferencesItem",(function(){return nA})),i.d(e,"VuozPreferencesPanel",(function(){return lA})),i.d(e,"VuozMonitorView",(function(){return mA})),i.d(e,"VuozWhiteBoard",(function(){return sc})),i.d(e,"VuozUserCell",(function(){return Uc})),i.d(e,"Theme",(function(){return Oc["Theme"]})),"undefined"!==typeof window){var n=window.document.currentScript,r=i("8875");n=r(),"currentScript"in document||Object.defineProperty(document,"currentScript",{get:r});var o=n&&n.src.match(/(.+\/)[^/]+\.js(\?.*)?$/);o&&(i.p=o[1])}var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("button",{key:t.size,ref:"main",staticClass:"vuoz-button",class:t.getClasses(),staticStyle:{position:"relative"},on:{mouseenter:t.onMouseEnter,mouseleave:t.onMouseLeave,mousedown:t.onMouseDown,mouseup:t.onMouseUp}},["free"===t.shape?i("div",{staticClass:"content",class:{"is-hidden":!0===t.load}},[t._t("left"),t._t("main",[t._v("Click here")]),t._t("right")],2):t._e(),"free"===t.shape||t.load?t._e():t._t("shaped",[i("span",{staticClass:"material-icons",domProps:{innerHTML:t._s(t.icon)}})]),t.load?i("div",{staticClass:"loading-icon"},[t._t("loader",["free"===t.shape?[i("vuoz-loading-icon",{attrs:{name:"ellipsis",size:t.size}})]:t._e(),"square"===t.shape?[i("vuoz-loading-icon",{attrs:{name:"grid",size:t.size}})]:t._e(),"circle"===t.shape?[i("vuoz-loading-icon",{attrs:{name:"spinner",size:t.size}})]:t._e()])],2):t._e(),"dropdown"===t.type?i("div",{directives:[{name:"click-outside",rawName:"v-click-outside",value:t.onClickOutside,expression:"onClickOutside"}],ref:"menu",staticClass:"has-shadow"},[t._t("menu",[i(t.menuComponent,{tag:"component",staticClass:"is-rounded-bottom-left is-rounded-bottom-right is-rounded-top-right",on:{select:t.onMenu}})])],2):t._e()],2)},a=[];function A(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function c(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function l(t,e,i){return e&&c(t.prototype,e),i&&c(t,i),t}function u(t,e){return u=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},u(t,e)}function h(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&u(t,e)}i("4ae1"),i("3410");function f(t){return f=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},f(t)}function d(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(cr){return!1}}var p=i("7037"),g=i.n(p);function v(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function m(t,e){return!e||"object"!==g()(e)&&"function"!==typeof e?v(t):e}function w(t){var e=d();return function(){var i,n=f(t);if(e){var r=f(this).constructor;i=Reflect.construct(n,arguments,r)}else i=n.apply(this,arguments);return m(this,i)}}i("159b");
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function y(t,e,i,n){var r,o=arguments.length,s=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(t,e,i,n);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(o<3?r(s):o>3?r(e,i,s):r(e,i))||s);return o>3&&s&&Object.defineProperty(e,i,s),s}Object.create;Object.create;var b=i("8bbf"),B=i.n(b);
/**
  * vue-class-component v7.2.6
  * (c) 2015-present Evan You
  * @license MIT
  */
function C(t){return C="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},C(t)}function E(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function x(t){return _(t)||S(t)||T()}function _(t){if(Array.isArray(t)){for(var e=0,i=new Array(t.length);e<t.length;e++)i[e]=t[e];return i}}function S(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}function T(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function F(){return"undefined"!==typeof Reflect&&Reflect.defineMetadata&&Reflect.getOwnMetadataKeys}function Q(t,e){U(t,e),Object.getOwnPropertyNames(e.prototype).forEach((function(i){U(t.prototype,e.prototype,i)})),Object.getOwnPropertyNames(e).forEach((function(i){U(t,e,i)}))}function U(t,e,i){var n=i?Reflect.getOwnMetadataKeys(e,i):Reflect.getOwnMetadataKeys(e);n.forEach((function(n){var r=i?Reflect.getOwnMetadata(n,e,i):Reflect.getOwnMetadata(n,e);i?Reflect.defineMetadata(n,r,t,i):Reflect.defineMetadata(n,r,t)}))}var O={__proto__:[]},H=O instanceof Array;function D(t){return function(e,i,n){var r="function"===typeof e?e:e.constructor;r.__decorators__||(r.__decorators__=[]),"number"!==typeof n&&(n=void 0),r.__decorators__.push((function(e){return t(e,i,n)}))}}function I(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];return B.a.extend({mixins:e})}function k(t){var e=C(t);return null==t||"object"!==e&&"function"!==e}function R(t,e){var i=e.prototype._init;e.prototype._init=function(){var e=this,i=Object.getOwnPropertyNames(t);if(t.$options.props)for(var n in t.$options.props)t.hasOwnProperty(n)||i.push(n);i.forEach((function(i){Object.defineProperty(e,i,{get:function(){return t[i]},set:function(e){t[i]=e},configurable:!0})}))};var n=new e;e.prototype._init=i;var r={};return Object.keys(n).forEach((function(t){void 0!==n[t]&&(r[t]=n[t])})),r}var M=["data","beforeCreate","created","beforeMount","mounted","beforeDestroy","destroyed","beforeUpdate","updated","activated","deactivated","render","errorCaptured","serverPrefetch"];function P(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e.name=e.name||t._componentTag||t.name;var i=t.prototype;Object.getOwnPropertyNames(i).forEach((function(t){if("constructor"!==t)if(M.indexOf(t)>-1)e[t]=i[t];else{var n=Object.getOwnPropertyDescriptor(i,t);void 0!==n.value?"function"===typeof n.value?(e.methods||(e.methods={}))[t]=n.value:(e.mixins||(e.mixins=[])).push({data:function(){return E({},t,n.value)}}):(n.get||n.set)&&((e.computed||(e.computed={}))[t]={get:n.get,set:n.set})}})),(e.mixins||(e.mixins=[])).push({data:function(){return R(this,t)}});var n=t.__decorators__;n&&(n.forEach((function(t){return t(e)})),delete t.__decorators__);var r=Object.getPrototypeOf(t.prototype),o=r instanceof B.a?r.constructor:B.a,s=o.extend(e);return L(s,t,o),F()&&Q(s,t),s}var N={prototype:!0,arguments:!0,callee:!0,caller:!0};function L(t,e,i){Object.getOwnPropertyNames(e).forEach((function(n){if(!N[n]){var r=Object.getOwnPropertyDescriptor(t,n);if(!r||r.configurable){var o=Object.getOwnPropertyDescriptor(e,n);if(!H){if("cid"===n)return;var s=Object.getOwnPropertyDescriptor(i,n);if(!k(o.value)&&s&&s.value===o.value)return}0,Object.defineProperty(t,n,o)}}}))}function z(t){return"function"===typeof t?P(t):function(e){return P(e,t)}}z.registerHooks=function(t){M.push.apply(M,x(t))};var j=z;var K="undefined"!==typeof Reflect&&"undefined"!==typeof Reflect.getMetadata;function X(t,e,i){if(K&&!Array.isArray(t)&&"function"!==typeof t&&!t.hasOwnProperty("type")&&"undefined"===typeof t.type){var n=Reflect.getMetadata("design:type",e,i);n!==Object&&(t.type=n)}}function V(t){return void 0===t&&(t={}),function(e,i){X(t,e,i),D((function(e,i){(e.props||(e.props={}))[i]=t}))(e,i)}}function W(t,e){void 0===e&&(e={});var i=e.deep,n=void 0!==i&&i,r=e.immediate,o=void 0!==r&&r;return D((function(e,i){"object"!==typeof e.watch&&(e.watch=Object.create(null));var r=e.watch;"object"!==typeof r[t]||Array.isArray(r[t])?"undefined"===typeof r[t]&&(r[t]=[]):r[t]=[r[t]],r[t].push({handler:i,deep:n,immediate:o})}))}function G(t){var e=t.getBoundingClientRect();return{width:e.width,height:e.height,top:e.top,right:e.right,bottom:e.bottom,left:e.left,x:e.left,y:e.top}}function Y(t){if(null==t)return window;if("[object Window]"!==t.toString()){var e=t.ownerDocument;return e&&e.defaultView||window}return t}function J(t){var e=Y(t),i=e.pageXOffset,n=e.pageYOffset;return{scrollLeft:i,scrollTop:n}}function $(t){var e=Y(t).Element;return t instanceof e||t instanceof Element}function q(t){var e=Y(t).HTMLElement;return t instanceof e||t instanceof HTMLElement}function Z(t){if("undefined"===typeof ShadowRoot)return!1;var e=Y(t).ShadowRoot;return t instanceof e||t instanceof ShadowRoot}function tt(t){return{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}}function et(t){return t!==Y(t)&&q(t)?tt(t):J(t)}function it(t){return t?(t.nodeName||"").toLowerCase():null}function nt(t){return(($(t)?t.ownerDocument:t.document)||window.document).documentElement}function rt(t){return G(nt(t)).left+J(t).scrollLeft}function ot(t){return Y(t).getComputedStyle(t)}function st(t){var e=ot(t),i=e.overflow,n=e.overflowX,r=e.overflowY;return/auto|scroll|overlay|hidden/.test(i+r+n)}function at(t,e,i){void 0===i&&(i=!1);var n=nt(e),r=G(t),o=q(e),s={scrollLeft:0,scrollTop:0},a={x:0,y:0};return(o||!o&&!i)&&(("body"!==it(e)||st(n))&&(s=et(e)),q(e)?(a=G(e),a.x+=e.clientLeft,a.y+=e.clientTop):n&&(a.x=rt(n))),{x:r.left+s.scrollLeft-a.x,y:r.top+s.scrollTop-a.y,width:r.width,height:r.height}}function At(t){var e=G(t),i=t.offsetWidth,n=t.offsetHeight;return Math.abs(e.width-i)<=1&&(i=e.width),Math.abs(e.height-n)<=1&&(n=e.height),{x:t.offsetLeft,y:t.offsetTop,width:i,height:n}}function ct(t){return"html"===it(t)?t:t.assignedSlot||t.parentNode||(Z(t)?t.host:null)||nt(t)}function lt(t){return["html","body","#document"].indexOf(it(t))>=0?t.ownerDocument.body:q(t)&&st(t)?t:lt(ct(t))}function ut(t,e){var i;void 0===e&&(e=[]);var n=lt(t),r=n===(null==(i=t.ownerDocument)?void 0:i.body),o=Y(n),s=r?[o].concat(o.visualViewport||[],st(n)?n:[]):n,a=e.concat(s);return r?a:a.concat(ut(ct(s)))}function ht(t){return["table","td","th"].indexOf(it(t))>=0}function ft(t){return q(t)&&"fixed"!==ot(t).position?t.offsetParent:null}function dt(t){var e=-1!==navigator.userAgent.toLowerCase().indexOf("firefox"),i=-1!==navigator.userAgent.indexOf("Trident");if(i&&q(t)){var n=ot(t);if("fixed"===n.position)return null}var r=ct(t);while(q(r)&&["html","body"].indexOf(it(r))<0){var o=ot(r);if("none"!==o.transform||"none"!==o.perspective||"paint"===o.contain||-1!==["transform","perspective"].indexOf(o.willChange)||e&&"filter"===o.willChange||e&&o.filter&&"none"!==o.filter)return r;r=r.parentNode}return null}function pt(t){var e=Y(t),i=ft(t);while(i&&ht(i)&&"static"===ot(i).position)i=ft(i);return i&&("html"===it(i)||"body"===it(i)&&"static"===ot(i).position)?e:i||dt(t)||e}var gt="top",vt="bottom",mt="right",wt="left",yt="auto",bt=[gt,vt,mt,wt],Bt="start",Ct="end",Et="clippingParents",xt="viewport",_t="popper",St="reference",Tt=bt.reduce((function(t,e){return t.concat([e+"-"+Bt,e+"-"+Ct])}),[]),Ft=[].concat(bt,[yt]).reduce((function(t,e){return t.concat([e,e+"-"+Bt,e+"-"+Ct])}),[]),Qt="beforeRead",Ut="read",Ot="afterRead",Ht="beforeMain",Dt="main",It="afterMain",kt="beforeWrite",Rt="write",Mt="afterWrite",Pt=[Qt,Ut,Ot,Ht,Dt,It,kt,Rt,Mt];function Nt(t){var e=new Map,i=new Set,n=[];function r(t){i.add(t.name);var o=[].concat(t.requires||[],t.requiresIfExists||[]);o.forEach((function(t){if(!i.has(t)){var n=e.get(t);n&&r(n)}})),n.push(t)}return t.forEach((function(t){e.set(t.name,t)})),t.forEach((function(t){i.has(t.name)||r(t)})),n}function Lt(t){var e=Nt(t);return Pt.reduce((function(t,i){return t.concat(e.filter((function(t){return t.phase===i})))}),[])}function zt(t){var e;return function(){return e||(e=new Promise((function(i){Promise.resolve().then((function(){e=void 0,i(t())}))}))),e}}function jt(t){var e=t.reduce((function(t,e){var i=t[e.name];return t[e.name]=i?Object.assign({},i,e,{options:Object.assign({},i.options,e.options),data:Object.assign({},i.data,e.data)}):e,t}),{});return Object.keys(e).map((function(t){return e[t]}))}var Kt={placement:"bottom",modifiers:[],strategy:"absolute"};function Xt(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];return!e.some((function(t){return!(t&&"function"===typeof t.getBoundingClientRect)}))}function Vt(t){void 0===t&&(t={});var e=t,i=e.defaultModifiers,n=void 0===i?[]:i,r=e.defaultOptions,o=void 0===r?Kt:r;return function(t,e,i){void 0===i&&(i=o);var r={placement:"bottom",orderedModifiers:[],options:Object.assign({},Kt,o),modifiersData:{},elements:{reference:t,popper:e},attributes:{},styles:{}},s=[],a=!1,A={state:r,setOptions:function(i){l(),r.options=Object.assign({},o,r.options,i),r.scrollParents={reference:$(t)?ut(t):t.contextElement?ut(t.contextElement):[],popper:ut(e)};var s=Lt(jt([].concat(n,r.options.modifiers)));return r.orderedModifiers=s.filter((function(t){return t.enabled})),c(),A.update()},forceUpdate:function(){if(!a){var t=r.elements,e=t.reference,i=t.popper;if(Xt(e,i)){r.rects={reference:at(e,pt(i),"fixed"===r.options.strategy),popper:At(i)},r.reset=!1,r.placement=r.options.placement,r.orderedModifiers.forEach((function(t){return r.modifiersData[t.name]=Object.assign({},t.data)}));for(var n=0;n<r.orderedModifiers.length;n++)if(!0!==r.reset){var o=r.orderedModifiers[n],s=o.fn,c=o.options,l=void 0===c?{}:c,u=o.name;"function"===typeof s&&(r=s({state:r,options:l,name:u,instance:A})||r)}else r.reset=!1,n=-1}}},update:zt((function(){return new Promise((function(t){A.forceUpdate(),t(r)}))})),destroy:function(){l(),a=!0}};if(!Xt(t,e))return A;function c(){r.orderedModifiers.forEach((function(t){var e=t.name,i=t.options,n=void 0===i?{}:i,o=t.effect;if("function"===typeof o){var a=o({state:r,name:e,instance:A,options:n}),c=function(){};s.push(a||c)}}))}function l(){s.forEach((function(t){return t()})),s=[]}return A.setOptions(i).then((function(t){!a&&i.onFirstUpdate&&i.onFirstUpdate(t)})),A}}var Wt={passive:!0};function Gt(t){var e=t.state,i=t.instance,n=t.options,r=n.scroll,o=void 0===r||r,s=n.resize,a=void 0===s||s,A=Y(e.elements.popper),c=[].concat(e.scrollParents.reference,e.scrollParents.popper);return o&&c.forEach((function(t){t.addEventListener("scroll",i.update,Wt)})),a&&A.addEventListener("resize",i.update,Wt),function(){o&&c.forEach((function(t){t.removeEventListener("scroll",i.update,Wt)})),a&&A.removeEventListener("resize",i.update,Wt)}}var Yt={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:Gt,data:{}};function Jt(t){return t.split("-")[0]}function $t(t){return t.split("-")[1]}function qt(t){return["top","bottom"].indexOf(t)>=0?"x":"y"}function Zt(t){var e,i=t.reference,n=t.element,r=t.placement,o=r?Jt(r):null,s=r?$t(r):null,a=i.x+i.width/2-n.width/2,A=i.y+i.height/2-n.height/2;switch(o){case gt:e={x:a,y:i.y-n.height};break;case vt:e={x:a,y:i.y+i.height};break;case mt:e={x:i.x+i.width,y:A};break;case wt:e={x:i.x-n.width,y:A};break;default:e={x:i.x,y:i.y}}var c=o?qt(o):null;if(null!=c){var l="y"===c?"height":"width";switch(s){case Bt:e[c]=e[c]-(i[l]/2-n[l]/2);break;case Ct:e[c]=e[c]+(i[l]/2-n[l]/2);break;default:}}return e}function te(t){var e=t.state,i=t.name;e.modifiersData[i]=Zt({reference:e.rects.reference,element:e.rects.popper,strategy:"absolute",placement:e.placement})}var ee={name:"popperOffsets",enabled:!0,phase:"read",fn:te,data:{}},ie=Math.max,ne=Math.min,re=Math.round,oe={top:"auto",right:"auto",bottom:"auto",left:"auto"};function se(t){var e=t.x,i=t.y,n=window,r=n.devicePixelRatio||1;return{x:re(re(e*r)/r)||0,y:re(re(i*r)/r)||0}}function ae(t){var e,i=t.popper,n=t.popperRect,r=t.placement,o=t.offsets,s=t.position,a=t.gpuAcceleration,A=t.adaptive,c=t.roundOffsets,l=!0===c?se(o):"function"===typeof c?c(o):o,u=l.x,h=void 0===u?0:u,f=l.y,d=void 0===f?0:f,p=o.hasOwnProperty("x"),g=o.hasOwnProperty("y"),v=wt,m=gt,w=window;if(A){var y=pt(i),b="clientHeight",B="clientWidth";y===Y(i)&&(y=nt(i),"static"!==ot(y).position&&(b="scrollHeight",B="scrollWidth")),y=y,r===gt&&(m=vt,d-=y[b]-n.height,d*=a?1:-1),r===wt&&(v=mt,h-=y[B]-n.width,h*=a?1:-1)}var C,E=Object.assign({position:s},A&&oe);return a?Object.assign({},E,(C={},C[m]=g?"0":"",C[v]=p?"0":"",C.transform=(w.devicePixelRatio||1)<2?"translate("+h+"px, "+d+"px)":"translate3d("+h+"px, "+d+"px, 0)",C)):Object.assign({},E,(e={},e[m]=g?d+"px":"",e[v]=p?h+"px":"",e.transform="",e))}function Ae(t){var e=t.state,i=t.options,n=i.gpuAcceleration,r=void 0===n||n,o=i.adaptive,s=void 0===o||o,a=i.roundOffsets,A=void 0===a||a,c={placement:Jt(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:r};null!=e.modifiersData.popperOffsets&&(e.styles.popper=Object.assign({},e.styles.popper,ae(Object.assign({},c,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:s,roundOffsets:A})))),null!=e.modifiersData.arrow&&(e.styles.arrow=Object.assign({},e.styles.arrow,ae(Object.assign({},c,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:A})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}var ce={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:Ae,data:{}};function le(t){var e=t.state;Object.keys(e.elements).forEach((function(t){var i=e.styles[t]||{},n=e.attributes[t]||{},r=e.elements[t];q(r)&&it(r)&&(Object.assign(r.style,i),Object.keys(n).forEach((function(t){var e=n[t];!1===e?r.removeAttribute(t):r.setAttribute(t,!0===e?"":e)})))}))}function ue(t){var e=t.state,i={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,i.popper),e.styles=i,e.elements.arrow&&Object.assign(e.elements.arrow.style,i.arrow),function(){Object.keys(e.elements).forEach((function(t){var n=e.elements[t],r=e.attributes[t]||{},o=Object.keys(e.styles.hasOwnProperty(t)?e.styles[t]:i[t]),s=o.reduce((function(t,e){return t[e]="",t}),{});q(n)&&it(n)&&(Object.assign(n.style,s),Object.keys(r).forEach((function(t){n.removeAttribute(t)})))}))}}var he={name:"applyStyles",enabled:!0,phase:"write",fn:le,effect:ue,requires:["computeStyles"]};function fe(t,e,i){var n=Jt(t),r=[wt,gt].indexOf(n)>=0?-1:1,o="function"===typeof i?i(Object.assign({},e,{placement:t})):i,s=o[0],a=o[1];return s=s||0,a=(a||0)*r,[wt,mt].indexOf(n)>=0?{x:a,y:s}:{x:s,y:a}}function de(t){var e=t.state,i=t.options,n=t.name,r=i.offset,o=void 0===r?[0,0]:r,s=Ft.reduce((function(t,i){return t[i]=fe(i,e.rects,o),t}),{}),a=s[e.placement],A=a.x,c=a.y;null!=e.modifiersData.popperOffsets&&(e.modifiersData.popperOffsets.x+=A,e.modifiersData.popperOffsets.y+=c),e.modifiersData[n]=s}var pe={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:de},ge={left:"right",right:"left",bottom:"top",top:"bottom"};function ve(t){return t.replace(/left|right|bottom|top/g,(function(t){return ge[t]}))}var me={start:"end",end:"start"};function we(t){return t.replace(/start|end/g,(function(t){return me[t]}))}function ye(t){var e=Y(t),i=nt(t),n=e.visualViewport,r=i.clientWidth,o=i.clientHeight,s=0,a=0;return n&&(r=n.width,o=n.height,/^((?!chrome|android).)*safari/i.test(navigator.userAgent)||(s=n.offsetLeft,a=n.offsetTop)),{width:r,height:o,x:s+rt(t),y:a}}function be(t){var e,i=nt(t),n=J(t),r=null==(e=t.ownerDocument)?void 0:e.body,o=ie(i.scrollWidth,i.clientWidth,r?r.scrollWidth:0,r?r.clientWidth:0),s=ie(i.scrollHeight,i.clientHeight,r?r.scrollHeight:0,r?r.clientHeight:0),a=-n.scrollLeft+rt(t),A=-n.scrollTop;return"rtl"===ot(r||i).direction&&(a+=ie(i.clientWidth,r?r.clientWidth:0)-o),{width:o,height:s,x:a,y:A}}function Be(t,e){var i=e.getRootNode&&e.getRootNode();if(t.contains(e))return!0;if(i&&Z(i)){var n=e;do{if(n&&t.isSameNode(n))return!0;n=n.parentNode||n.host}while(n)}return!1}function Ce(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}function Ee(t){var e=G(t);return e.top=e.top+t.clientTop,e.left=e.left+t.clientLeft,e.bottom=e.top+t.clientHeight,e.right=e.left+t.clientWidth,e.width=t.clientWidth,e.height=t.clientHeight,e.x=e.left,e.y=e.top,e}function xe(t,e){return e===xt?Ce(ye(t)):q(e)?Ee(e):Ce(be(nt(t)))}function _e(t){var e=ut(ct(t)),i=["absolute","fixed"].indexOf(ot(t).position)>=0,n=i&&q(t)?pt(t):t;return $(n)?e.filter((function(t){return $(t)&&Be(t,n)&&"body"!==it(t)})):[]}function Se(t,e,i){var n="clippingParents"===e?_e(t):[].concat(e),r=[].concat(n,[i]),o=r[0],s=r.reduce((function(e,i){var n=xe(t,i);return e.top=ie(n.top,e.top),e.right=ne(n.right,e.right),e.bottom=ne(n.bottom,e.bottom),e.left=ie(n.left,e.left),e}),xe(t,o));return s.width=s.right-s.left,s.height=s.bottom-s.top,s.x=s.left,s.y=s.top,s}function Te(){return{top:0,right:0,bottom:0,left:0}}function Fe(t){return Object.assign({},Te(),t)}function Qe(t,e){return e.reduce((function(e,i){return e[i]=t,e}),{})}function Ue(t,e){void 0===e&&(e={});var i=e,n=i.placement,r=void 0===n?t.placement:n,o=i.boundary,s=void 0===o?Et:o,a=i.rootBoundary,A=void 0===a?xt:a,c=i.elementContext,l=void 0===c?_t:c,u=i.altBoundary,h=void 0!==u&&u,f=i.padding,d=void 0===f?0:f,p=Fe("number"!==typeof d?d:Qe(d,bt)),g=l===_t?St:_t,v=t.elements.reference,m=t.rects.popper,w=t.elements[h?g:l],y=Se($(w)?w:w.contextElement||nt(t.elements.popper),s,A),b=G(v),B=Zt({reference:b,element:m,strategy:"absolute",placement:r}),C=Ce(Object.assign({},m,B)),E=l===_t?C:b,x={top:y.top-E.top+p.top,bottom:E.bottom-y.bottom+p.bottom,left:y.left-E.left+p.left,right:E.right-y.right+p.right},_=t.modifiersData.offset;if(l===_t&&_){var S=_[r];Object.keys(x).forEach((function(t){var e=[mt,vt].indexOf(t)>=0?1:-1,i=[gt,vt].indexOf(t)>=0?"y":"x";x[t]+=S[i]*e}))}return x}function Oe(t,e){void 0===e&&(e={});var i=e,n=i.placement,r=i.boundary,o=i.rootBoundary,s=i.padding,a=i.flipVariations,A=i.allowedAutoPlacements,c=void 0===A?Ft:A,l=$t(n),u=l?a?Tt:Tt.filter((function(t){return $t(t)===l})):bt,h=u.filter((function(t){return c.indexOf(t)>=0}));0===h.length&&(h=u);var f=h.reduce((function(e,i){return e[i]=Ue(t,{placement:i,boundary:r,rootBoundary:o,padding:s})[Jt(i)],e}),{});return Object.keys(f).sort((function(t,e){return f[t]-f[e]}))}function He(t){if(Jt(t)===yt)return[];var e=ve(t);return[we(t),e,we(e)]}function De(t){var e=t.state,i=t.options,n=t.name;if(!e.modifiersData[n]._skip){for(var r=i.mainAxis,o=void 0===r||r,s=i.altAxis,a=void 0===s||s,A=i.fallbackPlacements,c=i.padding,l=i.boundary,u=i.rootBoundary,h=i.altBoundary,f=i.flipVariations,d=void 0===f||f,p=i.allowedAutoPlacements,g=e.options.placement,v=Jt(g),m=v===g,w=A||(m||!d?[ve(g)]:He(g)),y=[g].concat(w).reduce((function(t,i){return t.concat(Jt(i)===yt?Oe(e,{placement:i,boundary:l,rootBoundary:u,padding:c,flipVariations:d,allowedAutoPlacements:p}):i)}),[]),b=e.rects.reference,B=e.rects.popper,C=new Map,E=!0,x=y[0],_=0;_<y.length;_++){var S=y[_],T=Jt(S),F=$t(S)===Bt,Q=[gt,vt].indexOf(T)>=0,U=Q?"width":"height",O=Ue(e,{placement:S,boundary:l,rootBoundary:u,altBoundary:h,padding:c}),H=Q?F?mt:wt:F?vt:gt;b[U]>B[U]&&(H=ve(H));var D=ve(H),I=[];if(o&&I.push(O[T]<=0),a&&I.push(O[H]<=0,O[D]<=0),I.every((function(t){return t}))){x=S,E=!1;break}C.set(S,I)}if(E)for(var k=d?3:1,R=function(t){var e=y.find((function(e){var i=C.get(e);if(i)return i.slice(0,t).every((function(t){return t}))}));if(e)return x=e,"break"},M=k;M>0;M--){var P=R(M);if("break"===P)break}e.placement!==x&&(e.modifiersData[n]._skip=!0,e.placement=x,e.reset=!0)}}var Ie={name:"flip",enabled:!0,phase:"main",fn:De,requiresIfExists:["offset"],data:{_skip:!1}};function ke(t){return"x"===t?"y":"x"}function Re(t,e,i){return ie(t,ne(e,i))}function Me(t){var e=t.state,i=t.options,n=t.name,r=i.mainAxis,o=void 0===r||r,s=i.altAxis,a=void 0!==s&&s,A=i.boundary,c=i.rootBoundary,l=i.altBoundary,u=i.padding,h=i.tether,f=void 0===h||h,d=i.tetherOffset,p=void 0===d?0:d,g=Ue(e,{boundary:A,rootBoundary:c,padding:u,altBoundary:l}),v=Jt(e.placement),m=$t(e.placement),w=!m,y=qt(v),b=ke(y),B=e.modifiersData.popperOffsets,C=e.rects.reference,E=e.rects.popper,x="function"===typeof p?p(Object.assign({},e.rects,{placement:e.placement})):p,_={x:0,y:0};if(B){if(o||a){var S="y"===y?gt:wt,T="y"===y?vt:mt,F="y"===y?"height":"width",Q=B[y],U=B[y]+g[S],O=B[y]-g[T],H=f?-E[F]/2:0,D=m===Bt?C[F]:E[F],I=m===Bt?-E[F]:-C[F],k=e.elements.arrow,R=f&&k?At(k):{width:0,height:0},M=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:Te(),P=M[S],N=M[T],L=Re(0,C[F],R[F]),z=w?C[F]/2-H-L-P-x:D-L-P-x,j=w?-C[F]/2+H+L+N+x:I+L+N+x,K=e.elements.arrow&&pt(e.elements.arrow),X=K?"y"===y?K.clientTop||0:K.clientLeft||0:0,V=e.modifiersData.offset?e.modifiersData.offset[e.placement][y]:0,W=B[y]+z-V-X,G=B[y]+j-V;if(o){var Y=Re(f?ne(U,W):U,Q,f?ie(O,G):O);B[y]=Y,_[y]=Y-Q}if(a){var J="x"===y?gt:wt,$="x"===y?vt:mt,q=B[b],Z=q+g[J],tt=q-g[$],et=Re(f?ne(Z,W):Z,q,f?ie(tt,G):tt);B[b]=et,_[b]=et-q}}e.modifiersData[n]=_}}var Pe={name:"preventOverflow",enabled:!0,phase:"main",fn:Me,requiresIfExists:["offset"]},Ne=function(t,e){return t="function"===typeof t?t(Object.assign({},e.rects,{placement:e.placement})):t,Fe("number"!==typeof t?t:Qe(t,bt))};function Le(t){var e,i=t.state,n=t.name,r=t.options,o=i.elements.arrow,s=i.modifiersData.popperOffsets,a=Jt(i.placement),A=qt(a),c=[wt,mt].indexOf(a)>=0,l=c?"height":"width";if(o&&s){var u=Ne(r.padding,i),h=At(o),f="y"===A?gt:wt,d="y"===A?vt:mt,p=i.rects.reference[l]+i.rects.reference[A]-s[A]-i.rects.popper[l],g=s[A]-i.rects.reference[A],v=pt(o),m=v?"y"===A?v.clientHeight||0:v.clientWidth||0:0,w=p/2-g/2,y=u[f],b=m-h[l]-u[d],B=m/2-h[l]/2+w,C=Re(y,B,b),E=A;i.modifiersData[n]=(e={},e[E]=C,e.centerOffset=C-B,e)}}function ze(t){var e=t.state,i=t.options,n=i.element,r=void 0===n?"[data-popper-arrow]":n;null!=r&&("string"!==typeof r||(r=e.elements.popper.querySelector(r),r))&&Be(e.elements.popper,r)&&(e.elements.arrow=r)}var je={name:"arrow",enabled:!0,phase:"main",fn:Le,effect:ze,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Ke(t,e,i){return void 0===i&&(i={x:0,y:0}),{top:t.top-e.height-i.y,right:t.right-e.width+i.x,bottom:t.bottom-e.height+i.y,left:t.left-e.width-i.x}}function Xe(t){return[gt,mt,vt,wt].some((function(e){return t[e]>=0}))}function Ve(t){var e=t.state,i=t.name,n=e.rects.reference,r=e.rects.popper,o=e.modifiersData.preventOverflow,s=Ue(e,{elementContext:"reference"}),a=Ue(e,{altBoundary:!0}),A=Ke(s,n),c=Ke(a,r,o),l=Xe(A),u=Xe(c);e.modifiersData[i]={referenceClippingOffsets:A,popperEscapeOffsets:c,isReferenceHidden:l,hasPopperEscaped:u},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":l,"data-popper-escaped":u})}var We={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:Ve},Ge=[Yt,ee,ce,he,pe,Ie,Pe,je,We],Ye=Vt({defaultModifiers:Ge}),Je="tippy-box",$e="tippy-content",qe="tippy-backdrop",Ze="tippy-arrow",ti="tippy-svg-arrow",ei={passive:!0,capture:!0};function ii(t,e,i){if(Array.isArray(t)){var n=t[e];return null==n?Array.isArray(i)?i[e]:i:n}return t}function ni(t,e){var i={}.toString.call(t);return 0===i.indexOf("[object")&&i.indexOf(e+"]")>-1}function ri(t,e){return"function"===typeof t?t.apply(void 0,e):t}function oi(t,e){return 0===e?t:function(n){clearTimeout(i),i=setTimeout((function(){t(n)}),e)};var i}function si(t){return t.split(/\s+/).filter(Boolean)}function ai(t){return[].concat(t)}function Ai(t,e){-1===t.indexOf(e)&&t.push(e)}function ci(t){return t.filter((function(e,i){return t.indexOf(e)===i}))}function li(t){return t.split("-")[0]}function ui(t){return[].slice.call(t)}function hi(t){return Object.keys(t).reduce((function(e,i){return void 0!==t[i]&&(e[i]=t[i]),e}),{})}function fi(){return document.createElement("div")}function di(t){return["Element","Fragment"].some((function(e){return ni(t,e)}))}function pi(t){return ni(t,"NodeList")}function gi(t){return ni(t,"MouseEvent")}function vi(t){return!(!t||!t._tippy||t._tippy.reference!==t)}function mi(t){return di(t)?[t]:pi(t)?ui(t):Array.isArray(t)?t:ui(document.querySelectorAll(t))}function wi(t,e){t.forEach((function(t){t&&(t.style.transitionDuration=e+"ms")}))}function yi(t,e){t.forEach((function(t){t&&t.setAttribute("data-state",e)}))}function bi(t){var e,i=ai(t),n=i[0];return(null==n||null==(e=n.ownerDocument)?void 0:e.body)?n.ownerDocument:document}function Bi(t,e){var i=e.clientX,n=e.clientY;return t.every((function(t){var e=t.popperRect,r=t.popperState,o=t.props,s=o.interactiveBorder,a=li(r.placement),A=r.modifiersData.offset;if(!A)return!0;var c="bottom"===a?A.top.y:0,l="top"===a?A.bottom.y:0,u="right"===a?A.left.x:0,h="left"===a?A.right.x:0,f=e.top-n+c>s,d=n-e.bottom-l>s,p=e.left-i+u>s,g=i-e.right-h>s;return f||d||p||g}))}function Ci(t,e,i){var n=e+"EventListener";["transitionend","webkitTransitionEnd"].forEach((function(e){t[n](e,i)}))}var Ei={isTouch:!1},xi=0;function _i(){Ei.isTouch||(Ei.isTouch=!0,window.performance&&document.addEventListener("mousemove",Si))}function Si(){var t=performance.now();t-xi<20&&(Ei.isTouch=!1,document.removeEventListener("mousemove",Si)),xi=t}function Ti(){var t=document.activeElement;if(vi(t)){var e=t._tippy;t.blur&&!e.state.isVisible&&t.blur()}}function Fi(){document.addEventListener("touchstart",_i,ei),window.addEventListener("blur",Ti)}var Qi="undefined"!==typeof window&&"undefined"!==typeof document,Ui=Qi?navigator.userAgent:"",Oi=/MSIE |Trident\//.test(Ui);var Hi={animateFill:!1,followCursor:!1,inlinePositioning:!1,sticky:!1},Di={allowHTML:!1,animation:"fade",arrow:!0,content:"",inertia:!1,maxWidth:350,role:"tooltip",theme:"",zIndex:9999},Ii=Object.assign({appendTo:function(){return document.body},aria:{content:"auto",expanded:"auto"},delay:0,duration:[300,250],getReferenceClientRect:null,hideOnClick:!0,ignoreAttributes:!1,interactive:!1,interactiveBorder:2,interactiveDebounce:0,moveTransition:"",offset:[0,10],onAfterUpdate:function(){},onBeforeUpdate:function(){},onCreate:function(){},onDestroy:function(){},onHidden:function(){},onHide:function(){},onMount:function(){},onShow:function(){},onShown:function(){},onTrigger:function(){},onUntrigger:function(){},onClickOutside:function(){},placement:"top",plugins:[],popperOptions:{},render:null,showOnCreate:!1,touch:!0,trigger:"mouseenter focus",triggerTarget:null},Hi,{},Di),ki=Object.keys(Ii),Ri=function(t){var e=Object.keys(t);e.forEach((function(e){Ii[e]=t[e]}))};function Mi(t){var e=t.plugins||[],i=e.reduce((function(e,i){var n=i.name,r=i.defaultValue;return n&&(e[n]=void 0!==t[n]?t[n]:r),e}),{});return Object.assign({},t,{},i)}function Pi(t,e){var i=e?Object.keys(Mi(Object.assign({},Ii,{plugins:e}))):ki,n=i.reduce((function(e,i){var n=(t.getAttribute("data-tippy-"+i)||"").trim();if(!n)return e;if("content"===i)e[i]=n;else try{e[i]=JSON.parse(n)}catch(cr){e[i]=n}return e}),{});return n}function Ni(t,e){var i=Object.assign({},e,{content:ri(e.content,[t])},e.ignoreAttributes?{}:Pi(t,e.plugins));return i.aria=Object.assign({},Ii.aria,{},i.aria),i.aria={expanded:"auto"===i.aria.expanded?e.interactive:i.aria.expanded,content:"auto"===i.aria.content?e.interactive?null:"describedby":i.aria.content},i}var Li=function(){return"innerHTML"};function zi(t,e){t[Li()]=e}function ji(t){var e=fi();return!0===t?e.className=Ze:(e.className=ti,di(t)?e.appendChild(t):zi(e,t)),e}function Ki(t,e){di(e.content)?(zi(t,""),t.appendChild(e.content)):"function"!==typeof e.content&&(e.allowHTML?zi(t,e.content):t.textContent=e.content)}function Xi(t){var e=t.firstElementChild,i=ui(e.children);return{box:e,content:i.find((function(t){return t.classList.contains($e)})),arrow:i.find((function(t){return t.classList.contains(Ze)||t.classList.contains(ti)})),backdrop:i.find((function(t){return t.classList.contains(qe)}))}}function Vi(t){var e=fi(),i=fi();i.className=Je,i.setAttribute("data-state","hidden"),i.setAttribute("tabindex","-1");var n=fi();function r(i,n){var r=Xi(e),o=r.box,s=r.content,a=r.arrow;n.theme?o.setAttribute("data-theme",n.theme):o.removeAttribute("data-theme"),"string"===typeof n.animation?o.setAttribute("data-animation",n.animation):o.removeAttribute("data-animation"),n.inertia?o.setAttribute("data-inertia",""):o.removeAttribute("data-inertia"),o.style.maxWidth="number"===typeof n.maxWidth?n.maxWidth+"px":n.maxWidth,n.role?o.setAttribute("role",n.role):o.removeAttribute("role"),i.content===n.content&&i.allowHTML===n.allowHTML||Ki(s,t.props),n.arrow?a?i.arrow!==n.arrow&&(o.removeChild(a),o.appendChild(ji(n.arrow))):o.appendChild(ji(n.arrow)):a&&o.removeChild(a)}return n.className=$e,n.setAttribute("data-state","hidden"),Ki(n,t.props),e.appendChild(i),i.appendChild(n),r(t.props,t.props),{popper:e,onUpdate:r}}Vi.$$tippy=!0;var Wi=1,Gi=[],Yi=[];function Ji(t,e){var i,n,r,o,s,a,A,c=Ni(t,Object.assign({},Ii,{},Mi(hi(e)))),l=!1,u=!1,h=!1,f=!1,d=[],p=oi(J,c.interactiveDebounce),g=Wi++,v=null,m=ci(c.plugins),w={isEnabled:!0,isVisible:!1,isDestroyed:!1,isMounted:!1,isShown:!1},y={id:g,reference:t,popper:fi(),popperInstance:v,props:c,state:w,plugins:m,clearDelayTimeouts:At,setProps:ct,setContent:lt,show:ut,hide:ht,hideWithInteractivity:ft,enable:st,disable:at,unmount:dt,destroy:pt};if(!c.render)return y;var b=c.render(y),B=b.popper,C=b.onUpdate;B.setAttribute("data-tippy-root",""),B.id="tippy-"+y.id,y.popper=B,t._tippy=y,B._tippy=y;var E=m.map((function(t){return t.fn(y)})),x=t.hasAttribute("aria-expanded");return W(),k(),H(),D("onCreate",[y]),c.showOnCreate&&rt(),B.addEventListener("mouseenter",(function(){y.props.interactive&&y.state.isVisible&&y.clearDelayTimeouts()})),B.addEventListener("mouseleave",(function(t){y.props.interactive&&y.props.trigger.indexOf("mouseenter")>=0&&(Q().addEventListener("mousemove",p),p(t))})),y;function _(){var t=y.props.touch;return Array.isArray(t)?t:[t,0]}function S(){return"hold"===_()[0]}function T(){var t;return!!(null==(t=y.props.render)?void 0:t.$$tippy)}function F(){return A||t}function Q(){var t=F().parentNode;return t?bi(t):document}function U(){return Xi(B)}function O(t){return y.state.isMounted&&!y.state.isVisible||Ei.isTouch||o&&"focus"===o.type?0:ii(y.props.delay,t?0:1,Ii.delay)}function H(){B.style.pointerEvents=y.props.interactive&&y.state.isVisible?"":"none",B.style.zIndex=""+y.props.zIndex}function D(t,e,i){var n;(void 0===i&&(i=!0),E.forEach((function(i){i[t]&&i[t].apply(void 0,e)})),i)&&(n=y.props)[t].apply(n,e)}function I(){var e=y.props.aria;if(e.content){var i="aria-"+e.content,n=B.id,r=ai(y.props.triggerTarget||t);r.forEach((function(t){var e=t.getAttribute(i);if(y.state.isVisible)t.setAttribute(i,e?e+" "+n:n);else{var r=e&&e.replace(n,"").trim();r?t.setAttribute(i,r):t.removeAttribute(i)}}))}}function k(){if(!x&&y.props.aria.expanded){var e=ai(y.props.triggerTarget||t);e.forEach((function(t){y.props.interactive?t.setAttribute("aria-expanded",y.state.isVisible&&t===F()?"true":"false"):t.removeAttribute("aria-expanded")}))}}function R(){Q().removeEventListener("mousemove",p),Gi=Gi.filter((function(t){return t!==p}))}function M(t){if((!Ei.isTouch||!h&&"mousedown"!==t.type)&&(!y.props.interactive||!B.contains(t.target))){if(F().contains(t.target)){if(Ei.isTouch)return;if(y.state.isVisible&&y.props.trigger.indexOf("click")>=0)return}else D("onClickOutside",[y,t]);!0===y.props.hideOnClick&&(y.clearDelayTimeouts(),y.hide(),u=!0,setTimeout((function(){u=!1})),y.state.isMounted||z())}}function P(){h=!0}function N(){h=!1}function L(){var t=Q();t.addEventListener("mousedown",M,!0),t.addEventListener("touchend",M,ei),t.addEventListener("touchstart",N,ei),t.addEventListener("touchmove",P,ei)}function z(){var t=Q();t.removeEventListener("mousedown",M,!0),t.removeEventListener("touchend",M,ei),t.removeEventListener("touchstart",N,ei),t.removeEventListener("touchmove",P,ei)}function j(t,e){X(t,(function(){!y.state.isVisible&&B.parentNode&&B.parentNode.contains(B)&&e()}))}function K(t,e){X(t,e)}function X(t,e){var i=U().box;function n(t){t.target===i&&(Ci(i,"remove",n),e())}if(0===t)return e();Ci(i,"remove",s),Ci(i,"add",n),s=n}function V(e,i,n){void 0===n&&(n=!1);var r=ai(y.props.triggerTarget||t);r.forEach((function(t){t.addEventListener(e,i,n),d.push({node:t,eventType:e,handler:i,options:n})}))}function W(){S()&&(V("touchstart",Y,{passive:!0}),V("touchend",$,{passive:!0})),si(y.props.trigger).forEach((function(t){if("manual"!==t)switch(V(t,Y),t){case"mouseenter":V("mouseleave",$);break;case"focus":V(Oi?"focusout":"blur",q);break;case"focusin":V("focusout",q);break}}))}function G(){d.forEach((function(t){var e=t.node,i=t.eventType,n=t.handler,r=t.options;e.removeEventListener(i,n,r)})),d=[]}function Y(t){var e,i=!1;if(y.state.isEnabled&&!Z(t)&&!u){var n="focus"===(null==(e=o)?void 0:e.type);o=t,A=t.currentTarget,k(),!y.state.isVisible&&gi(t)&&Gi.forEach((function(e){return e(t)})),"click"===t.type&&(y.props.trigger.indexOf("mouseenter")<0||l)&&!1!==y.props.hideOnClick&&y.state.isVisible?i=!0:rt(t),"click"===t.type&&(l=!i),i&&!n&&ot(t)}}function J(t){var e=t.target,i=F().contains(e)||B.contains(e);if("mousemove"!==t.type||!i){var n=nt().concat(B).map((function(t){var e,i=t._tippy,n=null==(e=i.popperInstance)?void 0:e.state;return n?{popperRect:t.getBoundingClientRect(),popperState:n,props:c}:null})).filter(Boolean);Bi(n,t)&&(R(),ot(t))}}function $(t){var e=Z(t)||y.props.trigger.indexOf("click")>=0&&l;e||(y.props.interactive?y.hideWithInteractivity(t):ot(t))}function q(t){y.props.trigger.indexOf("focusin")<0&&t.target!==F()||y.props.interactive&&t.relatedTarget&&B.contains(t.relatedTarget)||ot(t)}function Z(t){return!!Ei.isTouch&&S()!==t.type.indexOf("touch")>=0}function tt(){et();var e=y.props,i=e.popperOptions,n=e.placement,r=e.offset,o=e.getReferenceClientRect,s=e.moveTransition,A=T()?Xi(B).arrow:null,c=o?{getBoundingClientRect:o,contextElement:o.contextElement||F()}:t,l={name:"$$tippy",enabled:!0,phase:"beforeWrite",requires:["computeStyles"],fn:function(t){var e=t.state;if(T()){var i=U(),n=i.box;["placement","reference-hidden","escaped"].forEach((function(t){"placement"===t?n.setAttribute("data-placement",e.placement):e.attributes.popper["data-popper-"+t]?n.setAttribute("data-"+t,""):n.removeAttribute("data-"+t)})),e.attributes.popper={}}}},u=[{name:"offset",options:{offset:r}},{name:"preventOverflow",options:{padding:{top:2,bottom:2,left:5,right:5}}},{name:"flip",options:{padding:5}},{name:"computeStyles",options:{adaptive:!s}},l];T()&&A&&u.push({name:"arrow",options:{element:A,padding:3}}),u.push.apply(u,(null==i?void 0:i.modifiers)||[]),y.popperInstance=Ye(c,B,Object.assign({},i,{placement:n,onFirstUpdate:a,modifiers:u}))}function et(){y.popperInstance&&(y.popperInstance.destroy(),y.popperInstance=null)}function it(){var t,e=y.props.appendTo,i=F();t=y.props.interactive&&e===Ii.appendTo||"parent"===e?i.parentNode:ri(e,[i]),t.contains(B)||t.appendChild(B),tt()}function nt(){return ui(B.querySelectorAll("[data-tippy-root]"))}function rt(t){y.clearDelayTimeouts(),t&&D("onTrigger",[y,t]),L();var e=O(!0),n=_(),r=n[0],o=n[1];Ei.isTouch&&"hold"===r&&o&&(e=o),e?i=setTimeout((function(){y.show()}),e):y.show()}function ot(t){if(y.clearDelayTimeouts(),D("onUntrigger",[y,t]),y.state.isVisible){if(!(y.props.trigger.indexOf("mouseenter")>=0&&y.props.trigger.indexOf("click")>=0&&["mouseleave","mousemove"].indexOf(t.type)>=0&&l)){var e=O(!1);e?n=setTimeout((function(){y.state.isVisible&&y.hide()}),e):r=requestAnimationFrame((function(){y.hide()}))}}else z()}function st(){y.state.isEnabled=!0}function at(){y.hide(),y.state.isEnabled=!1}function At(){clearTimeout(i),clearTimeout(n),cancelAnimationFrame(r)}function ct(e){if(!y.state.isDestroyed){D("onBeforeUpdate",[y,e]),G();var i=y.props,n=Ni(t,Object.assign({},y.props,{},e,{ignoreAttributes:!0}));y.props=n,W(),i.interactiveDebounce!==n.interactiveDebounce&&(R(),p=oi(J,n.interactiveDebounce)),i.triggerTarget&&!n.triggerTarget?ai(i.triggerTarget).forEach((function(t){t.removeAttribute("aria-expanded")})):n.triggerTarget&&t.removeAttribute("aria-expanded"),k(),H(),C&&C(i,n),y.popperInstance&&(tt(),nt().forEach((function(t){requestAnimationFrame(t._tippy.popperInstance.forceUpdate)}))),D("onAfterUpdate",[y,e])}}function lt(t){y.setProps({content:t})}function ut(){var t=y.state.isVisible,e=y.state.isDestroyed,i=!y.state.isEnabled,n=Ei.isTouch&&!y.props.touch,r=ii(y.props.duration,0,Ii.duration);if(!(t||e||i||n)&&!F().hasAttribute("disabled")&&(D("onShow",[y],!1),!1!==y.props.onShow(y))){if(y.state.isVisible=!0,T()&&(B.style.visibility="visible"),H(),L(),y.state.isMounted||(B.style.transition="none"),T()){var o=U(),s=o.box,A=o.content;wi([s,A],0)}a=function(){var t;if(y.state.isVisible&&!f){if(f=!0,B.offsetHeight,B.style.transition=y.props.moveTransition,T()&&y.props.animation){var e=U(),i=e.box,n=e.content;wi([i,n],r),yi([i,n],"visible")}I(),k(),Ai(Yi,y),null==(t=y.popperInstance)||t.forceUpdate(),y.state.isMounted=!0,D("onMount",[y]),y.props.animation&&T()&&K(r,(function(){y.state.isShown=!0,D("onShown",[y])}))}},it()}}function ht(){var t=!y.state.isVisible,e=y.state.isDestroyed,i=!y.state.isEnabled,n=ii(y.props.duration,1,Ii.duration);if(!(t||e||i)&&(D("onHide",[y],!1),!1!==y.props.onHide(y))){if(y.state.isVisible=!1,y.state.isShown=!1,f=!1,l=!1,T()&&(B.style.visibility="hidden"),R(),z(),H(),T()){var r=U(),o=r.box,s=r.content;y.props.animation&&(wi([o,s],n),yi([o,s],"hidden"))}I(),k(),y.props.animation?T()&&j(n,y.unmount):y.unmount()}}function ft(t){Q().addEventListener("mousemove",p),Ai(Gi,p),p(t)}function dt(){y.state.isVisible&&y.hide(),y.state.isMounted&&(et(),nt().forEach((function(t){t._tippy.unmount()})),B.parentNode&&B.parentNode.removeChild(B),Yi=Yi.filter((function(t){return t!==y})),y.state.isMounted=!1,D("onHidden",[y]))}function pt(){y.state.isDestroyed||(y.clearDelayTimeouts(),y.unmount(),G(),delete t._tippy,y.state.isDestroyed=!0,D("onDestroy",[y]))}}function $i(t,e){void 0===e&&(e={});var i=Ii.plugins.concat(e.plugins||[]);Fi();var n=Object.assign({},e,{plugins:i}),r=mi(t),o=r.reduce((function(t,e){var i=e&&Ji(e,n);return i&&t.push(i),t}),[]);return di(t)?o[0]:o}$i.defaultProps=Ii,$i.setDefaultProps=Ri,$i.currentInput=Ei;Object.assign({},he,{effect:function(t){var e=t.state,i={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};Object.assign(e.elements.popper.style,i.popper),e.styles=i,e.elements.arrow&&Object.assign(e.elements.arrow.style,i.arrow)}});$i.setDefaultProps({render:Vi});var qi=$i,Zi=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{class:t.getClass()},[i("div"),i("div"),"ellipsis"===t.name||"grid"===t.name?[i("div")]:t._e(),"grid"===t.name?[i("div"),i("div"),i("div"),i("div"),i("div"),i("div")]:t._e()],2)},tn=[],en=(i("b0c0"),function(t){h(i,t);var e=w(i);function i(){return A(this,i),e.apply(this,arguments)}return l(i,[{key:"getClass",value:function(){var t="vuoz-loader__".concat(this.name," ")+"is-".concat(this.size);return t}}]),i}(B.a));y([V({type:String,default:"ellipsis"})],en.prototype,"name",void 0),y([V({type:String,default:"normal"})],en.prototype,"size",void 0),en=y([j({name:"VuozLoadingIcon"})],en);var nn=en,rn=nn;function on(t,e,i,n,r,o,s,a){var A,c="function"===typeof t?t.options:t;if(e&&(c.render=e,c.staticRenderFns=i,c._compiled=!0),n&&(c.functional=!0),o&&(c._scopeId="data-v-"+o),s?(A=function(t){t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,t||"undefined"===typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),r&&r.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(s)},c._ssrRegister=A):r&&(A=a?function(){r.call(this,(c.functional?this.parent:this).$root.$options.shadowRoot)}:r),A)if(c.functional){c._injectStyles=A;var l=c.render;c.render=function(t,e){return A.call(e),l(t,e)}}else{var u=c.beforeCreate;c.beforeCreate=u?[].concat(u,A):[A]}return{exports:t,options:c}}var sn=on(rn,Zi,tn,!1,null,null,null),an=sn.exports,An={bind:function(t,e,i){t.clickOutsideEvent=function(n){t==n.target||t.contains(n.target)||i.context[e.expression](n)},document.body.addEventListener("mousedown",t.clickOutsideEvent)},unbind:function(t){document.body.removeEventListener("mousedown",t.clickOutsideEvent)}},cn=function(t){h(i,t);var e=w(i);function i(){var t;return A(this,i),t=e.apply(this,arguments),t.hovered=!1,t.selected=!1,t.disable=!1,t.load=!1,t.menu=null,t}return l(i,[{key:"mounted",value:function(){if(this.toggled&&(this.selected=!0),"dropdown"===this.type){var t=this.$refs.main,e=this.$refs.menu;this.menu=qi(t,{content:e,trigger:"manual",duration:[0,0],hideOnClick:!1,arrow:!1,interactive:!0,allowHTML:!0,placement:"bottom-start",offset:[0,5]})}}},{key:"updated",value:function(){}},{key:"beforeDestroy",value:function(){}},{key:"toggleLoad",value:function(){this.load=!this.load}},{key:"onDisable",value:function(){this.disable=this.disabled}},{key:"onload",value:function(){this.load=this.loading}},{key:"getClasses",value:function(){var t="is-".concat(this.size);return"free"!==this.shape&&(t+=" is-".concat(this.shape)),this.load&&(t+=" is-load"),t+=" has-text-".concat(this.weight),this.rounded&&"circle"!==this.shape&&(t+=" is-rounded"),this.uppercase&&(t+=" is-uppercase"),this.smallcaps&&(t+=" is-small-caps"),"push"!==this.type?(this.selected?t+=" has-background-".concat(this.toggle):t+=" has-background-".concat(this.color),!this.disable&&this.hovered?(this.selected?t+=" has-background-".concat(this.toggle,"-shaded"):t+=" has-background-".concat(this.color,"-shaded"),this.border?this.selected?t+=" has-border-".concat(this.toggle):t+=" has-border-".concat(this.color):t+=" has-border-none"):this.border?this.selected?t+=" has-border-".concat(this.toggle,"-shaded"):t+=" has-border-".concat(this.color,"-shaded"):t+=" has-border-none"):(t+=" has-background-".concat(this.color),this.disable||!this.hovered||this.selected?this.border?t+=" has-border-".concat(this.color,"-shaded"):t+=" has-border-none":(t+=" has-background-".concat(this.color,"-shaded"),this.border?t+=" has-border-".concat(this.color):t+=" has-border-none")),this.disable||this.shadow&&!this.selected&&(t+=" has-shadow"),this.disable&&(t+=" is-disabled"),t}},{key:"click",value:function(t){this.selected=t}},{key:"unselect",value:function(){this.selected&&(this.selected=!1,this.$emit("click",this.selected))}},{key:"onMouseEnter",value:function(){this.load||(this.hovered=!0)}},{key:"onMouseLeave",value:function(){this.load||(this.hovered=!1)}},{key:"onMouseDown",value:function(t){t.stopPropagation(),this.disable||this.load||("push"!==this.type?(this.selected=!this.selected,"dropdown"===this.type&&(this.selected?this.menu.show():this.menu.hide())):this.selected=!0,this.$emit("click",this.selected))}},{key:"onMouseUp",value:function(t){t.stopPropagation(),"push"!==this.type||this.disable||this.load||(this.selected=!1,this.$emit("click",this.selected))}},{key:"onMenu",value:function(t){this.$emit("menu",t)}},{key:"onClickOutside",value:function(t){var e=this,i=!1;t.path.forEach((function(t){t===e.$refs.main&&(i=!0)})),!1===i&&(this.selected=!1,this.menu.hide())}}]),i}(B.a);y([V({type:Boolean,default:!1})],cn.prototype,"disabled",void 0),y([V({type:Boolean,default:!1})],cn.prototype,"loading",void 0),y([V({type:String,default:"push"})],cn.prototype,"type",void 0),y([V({type:String,default:"normal"})],cn.prototype,"size",void 0),y([V({type:String,default:"free"})],cn.prototype,"shape",void 0),y([V({type:String,default:"regular"})],cn.prototype,"weight",void 0),y([V({type:Boolean,default:!1})],cn.prototype,"rounded",void 0),y([V({type:Boolean,default:!0})],cn.prototype,"border",void 0),y([V({type:Boolean,default:!1})],cn.prototype,"uppercase",void 0),y([V({type:Boolean,default:!1})],cn.prototype,"smallcaps",void 0),y([V({type:String,default:"medium-grey"})],cn.prototype,"color",void 0),y([V({type:String,default:"danger"})],cn.prototype,"toggle",void 0),y([V({type:Boolean,default:!1})],cn.prototype,"toggled",void 0),y([V({type:Boolean,default:!1})],cn.prototype,"shadow",void 0),y([V({type:String,default:"close"})],cn.prototype,"icon",void 0),y([V({type:String,default:"bottom-left"})],cn.prototype,"menuPlacement",void 0),y([V({type:Function})],cn.prototype,"menuComponent",void 0),y([W("disabled",{immediate:!0})],cn.prototype,"onDisable",null),y([W("loading",{immediate:!0})],cn.prototype,"onload",null),cn=y([j({name:"VuozButton",components:{VuozLoadingIcon:an},directives:{clickOutside:An}})],cn);var ln=cn,un=ln,hn=on(un,s,a,!1,null,null,null),fn=hn.exports,dn=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("button",{key:t.size,staticClass:"vuoz-checkbox",class:t.getClasses("main"),on:{mouseenter:t.onMouseEnter,mouseleave:t.onMouseLeave,mousedown:t.onMouseDown,mouseup:t.onMouseUp}},[t.selected?i("div",{staticClass:"vuoz-checkbox__content is-rounded",class:t.getClasses("inner")}):t._e()])},pn=[],gn=function(t){h(i,t);var e=w(i);function i(){var t;return A(this,i),t=e.apply(this,arguments),t.hovered=!1,t.selected=!1,t.disable=!1,t}return l(i,[{key:"mounted",value:function(){this.toggled&&(this.selected=!0)}},{key:"updated",value:function(){}},{key:"beforeDestroy",value:function(){}},{key:"onDisable",value:function(){this.disable=this.disabled}},{key:"onToggle",value:function(){this.selected=this.toggled}},{key:"getClasses",value:function(t){var e="";switch(t){case"main":e+="is-".concat(this.size),this.rounded&&(e+=" is-rounded"),e+=" has-border-".concat(this.color),!this.disable&&this.hovered&&(e+=" has-border-".concat(this.color,"-shaded")),this.disable||this.shadow&&!this.selected&&(e+=" has-shadow"),this.disable&&(e+=" is-disabled");break;case"inner":e+="has-background-".concat(this.toggle," ");break}return e}},{key:"onMouseEnter",value:function(){this.hovered=!0}},{key:"onMouseLeave",value:function(){this.hovered=!1}},{key:"onMouseDown",value:function(t){t.preventDefault(),t.stopPropagation(),this.disable||("toggle"===this.type?this.selected=!this.selected:this.selected=!0,this.$emit("click",this.selected))}},{key:"onMouseUp",value:function(t){t.preventDefault(),t.stopPropagation(),"toggle"===this.type||this.disable||(this.selected=!1,this.$emit("click",this.selected))}},{key:"push",value:function(t){this.selected=t}}]),i}(B.a);y([V({type:Boolean,default:!1})],gn.prototype,"disabled",void 0),y([V({type:String,default:"push"})],gn.prototype,"type",void 0),y([V({type:String,default:"normal"})],gn.prototype,"size",void 0),y([V({type:Boolean,default:!1})],gn.prototype,"rounded",void 0),y([V({type:String,default:"medium-grey"})],gn.prototype,"color",void 0),y([V({type:String,default:"danger"})],gn.prototype,"toggle",void 0),y([V({type:Boolean,default:!1})],gn.prototype,"toggled",void 0),y([V({type:Boolean,default:!1})],gn.prototype,"shadow",void 0),y([W("disabled",{immediate:!0})],gn.prototype,"onDisable",null),y([W("toggled",{immediate:!0})],gn.prototype,"onToggle",null),gn=y([j({name:"VuozCheckbox",components:{VuozLoadingIcon:an}})],gn);var vn=gn,mn=vn,wn=on(mn,dn,pn,!1,null,null,null),yn=wn.exports,bn=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"vuoz-input",class:t.getClasses("container")+" "+(t.isDragging?" is-unselectable":""),staticStyle:{height:"auto","white-space":"nowrap"}},[""===t.label.trim()||"left"!==t.labelPosition&&"top"!==t.labelPosition?t._e():i("div",{staticClass:"vuoz-input__label is-flex align-center",class:t.getClasses("label")},[t._v(t._s(t.label))]),i("div",{ref:"main",staticClass:"vuoz-input__main",class:t.getClasses("main")},[!0===t.required?i("div",{staticClass:"required-placeholder"}):t._e(),"checkbox"===t.getInputType()?i("input",{directives:[{name:"model",rawName:"v-model",value:t.value,expression:"value"}],ref:"input",staticClass:"has-text-regular",class:t.getClasses("input"),style:"width: "+t.width+";",attrs:{placeholder:t.placeholder,disabled:t.disabled,type:"checkbox"},domProps:{checked:Array.isArray(t.value)?t._i(t.value,null)>-1:t.value},on:{input:t.onInput,change:function(e){var i=t.value,n=e.target,r=!!n.checked;if(Array.isArray(i)){var o=null,s=t._i(i,o);n.checked?s<0&&(t.value=i.concat([o])):s>-1&&(t.value=i.slice(0,s).concat(i.slice(s+1)))}else t.value=r}}}):"radio"===t.getInputType()?i("input",{directives:[{name:"model",rawName:"v-model",value:t.value,expression:"value"}],ref:"input",staticClass:"has-text-regular",class:t.getClasses("input"),style:"width: "+t.width+";",attrs:{placeholder:t.placeholder,disabled:t.disabled,type:"radio"},domProps:{checked:t._q(t.value,null)},on:{input:t.onInput,change:function(e){t.value=null}}}):i("input",{directives:[{name:"model",rawName:"v-model",value:t.value,expression:"value"}],ref:"input",staticClass:"has-text-regular",class:t.getClasses("input"),style:"width: "+t.width+";",attrs:{placeholder:t.placeholder,disabled:t.disabled,type:t.getInputType()},domProps:{value:t.value},on:{input:[function(e){e.target.composing||(t.value=e.target.value)},t.onInput]}}),""!==t.icon.trim()&&!t.isNumber()||"password"===t.type?["password"!==t.type?i("span",{staticClass:"material-icons is-unselectable"},[t._v(t._s(t.icon))]):t._e(),"password"===t.type?i("span",{staticClass:"material-icons is-unselectable",on:{click:t.togglePasswordVisibility}},[t._v(t._s(!1===t.passwordVisibility?"visibility":"visibility_off"))]):t._e()]:t._e(),t.isNumber()?[i("div",{staticClass:"vuoz-input__number-stepper"},[i("div",{staticClass:"material-icons is-unselectable up-arrow"},[t._v("arrow_drop_down")]),i("div",{staticClass:"material-icons is-unselectable down-arrow"},[t._v("arrow_drop_down")]),i("span",{staticClass:"material-icons is-unselectable",staticStyle:{visibility:"hidden"}},[t._v("search")]),t.isNumber()?[i("div",{staticClass:"up-actuator",on:{mousedown:function(e){return t.onMouseDown("up",e)}}}),i("div",{staticClass:"down-actuator",on:{mousedown:function(e){return t.onMouseDown("down",e)}}})]:t._e()],2)]:t._e()],2),""===t.label.trim()||"right"!==t.labelPosition&&"bottom"!==t.labelPosition?t._e():i("div",{staticClass:"vuoz-input__label is-unselectable",class:t.getClasses("label")},[t._v(t._s(t.label))])])},Bn=[],Cn=(i("498a"),i("99af"),i("5319"),i("ac1f"),i("b680"),function(t){h(i,t);var e=w(i);function i(){var t;return A(this,i),t=e.apply(this,arguments),t.numDirection="up",t.maxDelta=6,t.isDragging=!1,t.pageY=0,t.passwordVisibility=!1,t.reqs={email:/^(([^<>()\]\\.,;:\s@"]+(\.[^<>()\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,24}))$/,password0:/^(?=.*\d)(?=.*[a-z])(?=.*[A-Z]).{8,20}$/,password1:/^(?=.*?[A-Z])(?=.*?[a-z])(?=.*?[0-9])(?=.*?[#?!@$%^/\\_&*-:=+(){}]).{8,}$/},t.value="",t.valid=!1,t}return l(i,[{key:"onTypeChange",value:function(){var t=this;this.$nextTick((function(){t.setFormat()}))}},{key:"onInitialChange",value:function(){var t=this;this.$nextTick((function(){t.setFormat()}))}},{key:"getInputType",value:function(){switch(this.type){case"password":return this.type;default:return"text"}}},{key:"setFormat",value:function(){this.value=this.initial,this.isNumber()&&(isNaN(this.value)||""===this.value.trim())?this.value="0":""===this.value.trim()&&(this.value="")}},{key:"isNumber",value:function(){return"integer"===this.type||"uinteger"===this.type||"float"===this.type}},{key:"getClasses",value:function(t){var e="";switch(t){case"container":switch(e+="is-".concat(this.size," "),this.labelPosition){case"right":case"left":e+="is-inline-flex align-center ";break;case"bottom":case"top":e+="is-inline-flex-column justify-center ";break}break;case"label":var i="left"===this.labelPosition?"right":"right"===this.labelPosition?"left":"top"===this.labelPosition?"bottom":"top";switch(this.size){case"tiny":e+="has-margin-".concat(i,"-s "),e+="bottom"===this.labelPosition||"top"===this.labelPosition?"has-margin-left-s ":"is-flex align-center ";break;case"small":e+="has-margin-".concat(i,"-s "),e+="bottom"===this.labelPosition||"top"===this.labelPosition?"has-margin-left-s ":"is-flex align-center ";break;case"normal":case"large":e+="has-margin-".concat(i,"-sm "),e+="bottom"===this.labelPosition||"top"===this.labelPosition?"has-margin-left-sm ":"is-flex align-center ";break}break;case"main":e+="is-".concat(this.size," has-background-").concat(this.color," has-border-").concat(this.color,"-shaded "),e+=this.border?"has-border-".concat(this.color,"-shaded "):"has-border-none ",this.rounded&&(e+="is-rounded "),this.uppercase&&(e+="is-uppercase "),this.shadow&&(e+="has-shadow "),this.disabled&&(e+="is-disabled ");break;case"input":this.uppercase&&(e+="is-uppercase "),this.smallcaps&&(e+="is-small-caps ");break}return e}},{key:"onInput",value:function(t){var e=this.value,i=this.value;switch(this.type){case"email":e=e.replace(/\s+/g,""),this.valid=this.reqs.email.test(e),i=e;break;case"password":e=e.replace(/\s+/g,""),this.valid=this.reqs.password1.test(e),i=e;break;case"integer":var n;""!==e.trim()&&"-"!==e.trim()&&null!==t.data||(e="0");var r=null===(n=t.data)||void 0===n?void 0:n.charCodeAt(0),o="",s=parseInt(e);45!==r&&109!==r&&149!==r||0!==s||(o="-"),i="".concat(o).concat(s);break;case"uinteger":var a=parseInt(e);i=a>=0?"".concat(parseInt(e)):"0";break;case"float":console.warn("TODO: float behavior"),console.log(e),i="".concat(parseFloat(e));break}this.value=i,this.$emit("change",{type:this.type,value:this.value,valid:this.valid})}},{key:"onMouseDown",value:function(t,e){this.numDirection=t,this.pageY=e.pageY,this.onMouseUp=this.onMouseUp.bind(this),this.onDrag=this.onDrag.bind(this),document.addEventListener("mouseup",this.onMouseUp),document.addEventListener("mousemove",this.onDrag)}},{key:"onDrag",value:function(t){if(!this.isDragging){var e=Math.abs(Math.abs(t.pageY)-this.pageY);e>=this.maxDelta&&(this.isDragging=!0,document.documentElement.classList.add("is-unselectable"))}if(this.isDragging){var i=this.pageY-t.pageY;this.pageY=t.pageY;var n=this.value;switch(this.type){case"integer":var r=parseInt(n)+i;this.value="".concat(r);break;case"uinteger":var o=parseInt(n)+i;o>=0&&(this.value="".concat(o));break;case"float":var s=parseFloat(n);s+=.1*i,this.value="".concat(s.toFixed(2));break}this.$emit("change",{type:this.type,value:this.value,valid:!0})}}},{key:"onMouseUp",value:function(t){document.removeEventListener("mousemove",this.onDrag),document.removeEventListener("mouseup",this.onMouseUp);var e=this.isDragging;if(this.isDragging=!1,document.documentElement.classList.remove("is-unselectable"),!e){switch(this.numDirection){case"up":switch(this.type){case"integer":case"uinteger":var i=parseInt(this.value);i++,this.value="".concat(i);break;case"float":var n="".concat(parseFloat(this.value)+1);this.value=n;break}break;case"down":switch(this.type){case"integer":var r=parseInt(this.value);r--,this.value="".concat(r);break;case"uinteger":var o=parseInt(this.value);o>0&&(o--,this.value="".concat(o));break;case"float":var s="".concat(parseFloat(this.value)-1);this.value=s;break}break}this.$emit("change",{type:this.type,value:this.value,valid:!0})}}},{key:"togglePasswordVisibility",value:function(){this.passwordVisibility=!this.passwordVisibility;var t=this.$refs.input;this.passwordVisibility?t.type="text":t.type="password"}}]),i}(B.a));y([V({type:String,default:"text"})],Cn.prototype,"type",void 0),y([V({type:String,default:""})],Cn.prototype,"label",void 0),y([V({type:String,default:"top"})],Cn.prototype,"labelPosition",void 0),y([V({type:String,default:""})],Cn.prototype,"placeholder",void 0),y([V({type:Boolean,default:!1})],Cn.prototype,"required",void 0),y([V({type:String,default:"small"})],Cn.prototype,"size",void 0),y([V({type:String,default:"auto"})],Cn.prototype,"width",void 0),y([V({type:String,default:""})],Cn.prototype,"initial",void 0),y([V({type:Boolean,default:!1})],Cn.prototype,"disabled",void 0),y([V({type:Boolean,default:!1})],Cn.prototype,"loading",void 0),y([V({type:String,default:"regular"})],Cn.prototype,"weight",void 0),y([V({type:Boolean,default:!1})],Cn.prototype,"rounded",void 0),y([V({type:Boolean,default:!0})],Cn.prototype,"border",void 0),y([V({type:Boolean,default:!1})],Cn.prototype,"uppercase",void 0),y([V({type:Boolean,default:!1})],Cn.prototype,"smallcaps",void 0),y([V({type:String,default:"medium-grey"})],Cn.prototype,"color",void 0),y([V({type:Boolean,default:!1})],Cn.prototype,"shadow",void 0),y([V({type:String,default:""})],Cn.prototype,"icon",void 0),y([W("type",{immediate:!0})],Cn.prototype,"onTypeChange",null),y([W("initial",{immediate:!0})],Cn.prototype,"onInitialChange",null),Cn=y([j({name:"VuozInput"})],Cn);var En=Cn,xn=En,_n=on(xn,bn,Bn,!1,null,null,null),Sn=_n.exports,Tn=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"is-inline-flex-column",staticStyle:{"align-items":"flex-end"}},[i("div",{staticClass:"is-flex-column is-fullwidth has-padding-bottom-md has-border-bottom-medium-grey"},[i("div",{staticClass:"has-text-large has-text-bold"},[t._t("title",[t._v("Sign In")])],2),i("div",{staticClass:"has-text-small has-margin-top-sm"},[t._t("subtitle",[t._v("Please enter your credentials.")])],2)]),i("vuoz-input",{staticClass:"has-padding-sm",attrs:{type:"email",label:"Email",labelPosition:"left",icon:"alternate_email",rounded:"",disabled:t.loading},on:{change:t.onEmailChange}}),i("vuoz-input",{staticClass:"has-padding-sm",attrs:{type:"password",label:"Password",labelPosition:"left",rounded:"",disabled:t.loading},on:{change:t.onPasswordChange}}),i("div",{staticClass:"is-flex is-fullwidth has-text-large has-padding-top-sm has-border-top-medium-grey",staticStyle:{"justify-content":"flex-end"}},[i("vuoz-button",{staticClass:"has-margin-left-s has-margin-top-s has-margin-bottom-s",attrs:{color:"secondary",size:"small",weight:"bold",uppercase:"",rounded:"",border:"",disabled:!t.valid,loading:t.loading},on:{click:t.onSubmit},scopedSlots:t._u([{key:"main",fn:function(){return[t._v("Submit")]},proxy:!0}])})],1)],1)},Fn=[],Qn=function(t){h(i,t);var e=w(i);function i(){var t;return A(this,i),t=e.apply(this,arguments),t.valid=!1,t.email={type:"email",value:"",valid:!1},t.password={type:"password",value:"",valid:!1},t.loading=!1,t.message="",t}return l(i,[{key:"onValidate",value:function(){this.valid=this.email.valid&&this.password.valid}},{key:"onEmailChange",value:function(t){console.log(t),this.email=t}},{key:"onPasswordChange",value:function(t){console.log(t),this.password=t}},{key:"onSubmit",value:function(t){t&&(this.loading=!0,this.$emit("submit",{email:this.email.value,password:this.password.value}))}},{key:"reset",value:function(){this.loading=!1}}]),i}(B.a);y([W("email"),W("password")],Qn.prototype,"onValidate",null),Qn=y([j({name:"VuozSignIn",components:{VuozInput:Sn,VuozButton:fn}})],Qn);var Un=Qn,On=Un,Hn=on(On,Tn,Fn,!1,null,null,null),Dn=Hn.exports,In=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"is-flex-column has-padding-sm has-background-dark-grey"},[i("div",{on:{mousedown:t.onMouseDown}},[t._v("Bla")])])},kn=[],Rn=function(t){h(i,t);var e=w(i);function i(){return A(this,i),e.apply(this,arguments)}return l(i,[{key:"onMouseDown",value:function(t){t.stopPropagation(),this.$emit("select")}}]),i}(B.a);y([V({type:Boolean,default:!1})],Rn.prototype,"disabled",void 0),y([V({type:Boolean,default:!1})],Rn.prototype,"loading",void 0),y([V({type:String,default:"push"})],Rn.prototype,"type",void 0),y([V({type:String,default:"normal"})],Rn.prototype,"size",void 0),y([V({type:String,default:"free"})],Rn.prototype,"shape",void 0),y([V({type:String,default:"regular"})],Rn.prototype,"weight",void 0),y([V({type:Boolean,default:!1})],Rn.prototype,"rounded",void 0),y([V({type:Boolean,default:!0})],Rn.prototype,"border",void 0),y([V({type:Boolean,default:!1})],Rn.prototype,"uppercase",void 0),y([V({type:Boolean,default:!1})],Rn.prototype,"smallcaps",void 0),y([V({type:String,default:"medium-grey"})],Rn.prototype,"color",void 0),y([V({type:String,default:"danger"})],Rn.prototype,"toggle",void 0),y([V({type:Boolean,default:!1})],Rn.prototype,"toggled",void 0),y([V({type:Boolean,default:!1})],Rn.prototype,"shadow",void 0),y([V({type:String,default:"close"})],Rn.prototype,"icon",void 0),Rn=y([j({name:"VuozMenu"})],Rn);var Mn=Rn,Pn=Mn,Nn=on(Pn,In,kn,!1,null,null,null),Ln=Nn.exports,zn=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{ref:"container",style:t.containerStyle},[i("img",{style:t.imageStyle,attrs:{src:t.path}})])},jn=[];i("e6cf"),i("d3b7");function Kn(t,e,i,n,r,o,s){try{var a=t[o](s),A=a.value}catch(c){return void i(c)}a.done?e(A):Promise.resolve(A).then(n,r)}function Xn(t){return function(){var e=this,i=arguments;return new Promise((function(n,r){var o=t.apply(e,i);function s(t){Kn(o,n,r,s,a,"next",t)}function a(t){Kn(o,n,r,s,a,"throw",t)}s(void 0)}))}}i("96cf");var Vn=function(t){h(i,t);var e=w(i);function i(){var t;return A(this,i),t=e.apply(this,arguments),t.containerStyle="",t.imageStyle="",t}return l(i,[{key:"onWidthChanged",value:function(){this.setStyles()}},{key:"onHeightChanged",value:function(){this.setStyles()}},{key:"onFitChanged",value:function(){this.setStyles()}},{key:"created",value:function(){var t=Xn(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:this.setStyles();case 1:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},{key:"setStyles",value:function(){this.setContainerStyle(),this.setImageStyle()}},{key:"setContainerStyle",value:function(){var t=function(t){return"width: ".concat(t,"; min-width: ").concat(t,"; max-width: ").concat(t,"; overflow: hidden; ")},e=function(t){return"height: ".concat(t,"; min-height: ").concat(t,"; max-height: ").concat(t,"; overflow: hidden; ")},i="";this.width&&this.width.trim().length>0&&(i+=t(this.width),this.height&&0!==this.height.trim().length||(i+=t("100%"))),this.height&&this.height.trim().length>0&&(i+=e(this.height),this.width&&0!==this.width.trim().length||(i+=e("100%"))),this.containerStyle=i}},{key:"setImageStyle",value:function(){var t="width:100%; height:100%; object-fit: ".concat(this.fit,";");this.imageStyle=t}}]),i}(B.a);y([V({type:String,required:!0})],Vn.prototype,"path",void 0),y([V({type:String,default:""})],Vn.prototype,"width",void 0),y([V({type:String,default:""})],Vn.prototype,"height",void 0),y([V({type:String,default:"contain"})],Vn.prototype,"fit",void 0),y([W("width")],Vn.prototype,"onWidthChanged",null),y([W("height")],Vn.prototype,"onHeightChanged",null),y([W("fit")],Vn.prototype,"onFitChanged",null),Vn=y([j({name:"VuozImage"})],Vn);var Wn=Vn,Gn=Wn,Yn=on(Gn,zn,jn,!1,null,null,null),Jn=Yn.exports,$n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"vuoz-cropper"},[i("cropper",{ref:"cropper",class:t.cropperClass,attrs:{src:t.img,"background-class":"vuoz-cropper__background","area-class":"vuoz-cropper__area","auto-zoom":!!(t.options&&t.options.cropper&&t.options.cropper.autoZoom)&&t.options.cropper.autoZoom,canvas:!(t.options&&t.options.cropper&&t.options.cropper.canvas)||t.options.cropper.canvas,"check-orientation":!!(t.options&&t.options.cropper&&t.options.cropper.checkOrientation)&&t.options.cropper.checkOrientation,"image-restriction":t.options&&t.options.cropper&&t.options.cropper.imageRestriction?t.options.cropper.imageRestriction:"fit-area","min-width":t.options&&t.options.cropper&&t.options.cropper.minWidth?t.options.cropper.minWidth:void 0,"max-width":t.options&&t.options.cropper&&t.options.cropper.maxWidth?t.options.cropper.maxWidth:void 0,"min-height":t.options&&t.options.cropper&&t.options.cropper.minHeight?t.options.cropper.minHeight:void 0,"max-height":t.options&&t.options.cropper&&t.options.cropper.maxHeight?t.options.cropper.maxHeight:void 0,priority:t.options&&t.options.cropper&&t.options.cropper.priority?t.options.cropper.priority:"coordinates","stencil-size":t.options&&t.options.cropper&&t.options.cropper.stencilSize?t.options.cropper.stencilSize:void 0,"default-position":t.options&&t.options.cropper&&t.options.cropper.defaultPosition?t.options.cropper.defaultPosition:void 0,"default-size":t.options&&t.options.cropper&&t.options.cropper.defaultSize?t.options.cropper.defaultSize:void 0,"default-boundaries":t.options&&t.options.cropper&&t.options.cropper.defaultBoundaries?t.options.cropper.defaultBoundaries:void 0,"default-visible-area":t.options&&t.options.cropper&&t.options.cropper.defaultVisibleArea?t.options.cropper.defaultVisibleArea:void 0,"stencil-component":t.stencilComponent,"stencil-props":t.options&&t.options.stencil?Object.assign({},t.options.stencil,{handlers:t.handlers,handlersClasses:t.handlersClasses,lines:t.lines}):{}},on:{change:t.onChange}}),t.showToolbar?i("vuoz-toolbar",{staticStyle:{position:"absolute",bottom:"0px",left:"0px",width:"100%"},attrs:{items:t.toolbarItems,type:"fixed",position:"bottom",size:"small",color:"dark-grey",border:"medium-grey",shadow:!0}}):t._e()],1)},qn=[],Zn=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{ref:"main",staticClass:"vuoz-toolbar",class:t.getClasses("main")},["contextual"===t.type?i("div",{ref:"content",staticClass:"vuoz-toolbar__content-contextual"},t._l(t.buttons,(function(e){return"separator"!==e.role&&"spacer"!==e.role?i("div",{staticClass:"is-flex align-center has-padding-s"},[i("vuoz-button",{ref:e.name,refInFor:!0,attrs:{size:t.size,shape:e.shape||"square",color:e.color,icon:e.icon,rounded:e.rounded,border:e.border,type:e.type,toggle:e.toggle,toggled:e.toggled,disabled:!0===t.disabledFlag||(e.disabled||!1),loading:e.loading,menuComponent:e.menu},on:{click:function(i){return t.onClick(i,e.name)},menu:function(i){return t.onMenuSelect(i,e.name)}}})],1):t._e()})),0):i("div",{ref:"content",staticClass:"vuoz-toolbar__content-fixed"},[t._l(t.items,(function(e,n){return Array.isArray(t.items)?[Array.isArray(e)?i("div",{staticClass:"line",class:t.getClasses("line",n,t.items.length)},t._l(e,(function(n){return i("div",{staticClass:"align-center has-padding-s",class:{spacer:"spacer"===n.role,separator:"separator"===e.role}},["separator"===n.role?i("div",{class:"has-border-left-"+t.border,staticStyle:{width:"2px",height:"100%"}}):t._e(),"separator"!==n.role&&"spacer"!==n.role?i("vuoz-button",{ref:n.name,refInFor:!0,attrs:{size:t.size,shape:n.shape||"square",color:n.color,icon:n.icon,rounded:n.rounded,border:n.border,type:n.type,toggle:n.toggle,toggled:n.toggled,disabled:!0===t.disabledFlag||(n.disabled||!1),loading:n.loading,menuComponent:n.menu},on:{click:function(e){return t.onClick(e,n.name)},menu:function(e){return t.onMenuSelect(e,n.name)}}}):t._e()],1)})),0):i("div",{staticClass:"align-center has-padding-s",class:{spacer:"spacer"===e.role,separator:"separator"===e.role}},["separator"===e.role?i("div",{class:"has-border-left-"+t.border,staticStyle:{width:"2px",height:"100%"}}):t._e(),"separator"!==e.role&&"spacer"!==e.role?i("vuoz-button",{ref:e.name,refInFor:!0,attrs:{size:t.size,shape:e.shape||"square",color:e.color,icon:e.icon,rounded:e.rounded,border:e.border,type:e.type,toggle:e.toggle,toggled:e.toggled,disabled:!0===t.disabledFlag||(e.disabled||!1),loading:e.loading,menuComponent:e.menu},on:{click:function(i){return t.onClick(i,e.name)},menu:function(i){return t.onMenuSelect(i,e.name)}}}):t._e()],1)]:t._e()})),t._l(t.items.buttons,(function(e,n){return Array.isArray(t.items)?t._e():[Array.isArray(e)?i("div",{staticClass:"line",class:t.getClasses("line",n,t.items.buttons.length)},t._l(e,(function(n){return i("div",{staticClass:"align-center has-padding-s",class:{spacer:"spacer"===n.role,separator:"separator"===e.role}},["separator"===n.role?i("div",{class:"has-border-left-"+t.border,staticStyle:{width:"2px",height:"100%"}}):t._e(),"separator"!==n.role&&"spacer"!==n.role?i("vuoz-button",{ref:n.name,refInFor:!0,attrs:{size:t.size,shape:n.shape||"square",color:n.color,icon:n.icon,rounded:n.rounded,border:n.border,type:n.type,toggle:n.toggle,toggled:n.toggled,disabled:!0===t.disabledFlag||(n.disabled||!1),loading:n.loading,menuComponent:n.menu},on:{click:function(e){return t.onClick(e,n.name)},menu:function(e){return t.onMenuSelect(e,n.name)}}}):t._e()],1)})),0):i("div",{staticClass:"align-center has-padding-s",class:{spacer:"spacer"===e.role,separator:"separator"===e.role}},["separator"===e.role?i("div",{class:"has-border-left-"+t.border,staticStyle:{width:"2px",height:"100%"}}):t._e(),"separator"!==e.role&&"spacer"!==e.role?i("vuoz-button",{ref:e.name,refInFor:!0,attrs:{size:t.size,shape:e.shape||"square",color:e.color,icon:e.icon,rounded:e.rounded,border:e.border,type:e.type,toggle:e.toggle,toggled:e.toggled,disabled:!0===t.disabledFlag||(e.disabled||!1),loading:e.loading,menuComponent:e.menu},on:{click:function(i){return t.onClick(i,e.name)},menu:function(i){return t.onMenuSelect(i,e.name)}}}):t._e()],1)]}))],2)])},tr=[];i("b64b"),i("a4d3"),i("4de4"),i("e439"),i("dbb4");function er(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function ir(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,n)}return i}function nr(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?ir(Object(i),!0).forEach((function(e){er(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):ir(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}i("caad"),i("2532"),i("7db0"),i("a434");var rr=function(t){h(i,t);var e=w(i);function i(){var t;return A(this,i),t=e.apply(this,arguments),t.buttons=[],t.objectType="array:uni",t.disabledFlag=!1,t}return l(i,[{key:"onTypeChanged",value:function(){this.onItemsChanged(),this.computeType();var t=this.objectType.includes("array")?this.items:this.items.buttons;this.computeGrid(t),this.computeEdges()}},{key:"onItemsChanged",value:function(){var t=this;if(Array.isArray(this.items))this.items.length>0&&Array.isArray(this.items[0])?(this.objectType="array:multi",this.buttons=[],this.items.forEach((function(e){e.forEach((function(e){t.buttons.push(e)}))})),"contextual"===this.type&&this.computeGrid(this.items)):(this.objectType="array:uni",this.buttons=this.items,"contextual"===this.type&&this.computeGrid(this.items));else{this.items.buttons.length>0&&Array.isArray(this.items.buttons[0])?(this.objectType="object:multi",this.buttons=[],this.items.buttons.forEach((function(e){e.forEach((function(e){t.buttons.push(e)}))})),"contextual"===this.type&&this.computeGrid(this.items.buttons)):(this.objectType="object:uni",this.buttons=this.items.buttons,"contextual"===this.type&&this.computeGrid(this.items.buttons));var e=this.items.color||void 0,i=this.items.rounded||void 0,n=this.items.border||void 0;(e||i)&&this.buttons.forEach((function(t){e&&!t.color&&(t.color=e),i&&"undefined"===typeof t.rounded&&(t.rounded=i),n&&"undefined"===typeof t.border&&(t.border=n)}))}}},{key:"onPositionChanged",value:function(){this.computeType();var t=this.objectType.includes("array")?this.items:this.items.buttons;"contextual"===this.type&&(this.computeGrid(t),this.computeEdges())}},{key:"onVerticalChanged",value:function(){if("contextual"===this.type){var t=this.objectType.includes("array")?this.items:this.items.buttons;this.computeGrid(t),this.computeEdges()}}},{key:"onSpaceChanged",value:function(){var t=this;"contextual"===this.type&&this.$nextTick((function(){var e=t.$refs.main;e.style.setProperty("--vuoz-toolbar__space",t.space)}))}},{key:"onDisabledChange",value:function(){var t=this;this.$nextTick((function(){!1!==t.disabled?t.disable():t.enable()}))}},{key:"computeType",value:function(){var t=this;switch(this.type){case"contextual":this.$nextTick((function(){var e=t.$refs.main;e.style.setProperty("--vuoz-toolbar__position","absolute"),e.style.setProperty("--vuoz-toolbar__width","auto"),e.style.setProperty("--vuoz-toolbar__height","auto"),e.style.setProperty("--vuoz-toolbar__space","".concat(t.space))}));break;case"fixed":this.$nextTick((function(){var e=t.$refs.main;e.style.setProperty("--vuoz-toolbar__position","relative"),e.style.setProperty("--vuoz-toolbar__space","0"),t.position.includes("top")||t.position.includes("bottom")?(e.style.setProperty("--vuoz-toolbar__width","100%"),e.style.setProperty("--vuoz-toolbar__height","auto"),t.objectType.includes("uni")?(e.style.setProperty("--vuoz-toolbar__fixed-flex","row"),e.style.setProperty("--vuoz-toolbar__fixed-line-flex","column")):(e.style.setProperty("--vuoz-toolbar__fixed-flex","column"),e.style.setProperty("--vuoz-toolbar__fixed-line-flex","row"))):(e.style.setProperty("--vuoz-toolbar__width","auto"),e.style.setProperty("--vuoz-toolbar__height","100%"),t.objectType.includes("uni")?(e.style.setProperty("--vuoz-toolbar__fixed-flex","column"),e.style.setProperty("--vuoz-toolbar__fixed-line-flex","row")):(e.style.setProperty("--vuoz-toolbar__fixed-flex","row"),e.style.setProperty("--vuoz-toolbar__fixed-line-flex","column")))}));break}}},{key:"computeGrid",value:function(t){var e=this,i=1,n=1;if(this.objectType.includes("multi"))if("contextual"===this.type||this.position.includes("top")||this.position.includes("bottom"))i=t.length,t.forEach((function(t){var e=t.filter((function(t){return"spacer"!==t.role&&"separator"!==t.role}));n=Math.max(n,e.length)}));else{i=1;var r=t.filter((function(t){return"spacer"!==t.role&&"separator"!==t.role}));n=r.length}else{var o=t.filter((function(t){return"spacer"!==t.role&&"separator"!==t.role}));n=o.length}this.$nextTick((function(){var t=e.$refs.content;e.vertical&&"contextual"===e.type&&(i=[n,n=i][0]),t.style.setProperty("--vuoz-toolbar__rows","".concat(i)),t.style.setProperty("--vuoz-toolbar__columns","".concat(n))}))}},{key:"computeEdges",value:function(){var t=this;"top"!==this.position&&"bottom"!==this.position||this.$nextTick((function(){var e=t.$refs.main,i=e.parentElement;if(i){var n=e.getBoundingClientRect(),r=i.getBoundingClientRect(),o=(r.width-n.width)/2;e.style.setProperty("--vuoz-toolbar__computed","".concat(o,"px"))}})),"left"!==this.position&&"right"!==this.position||this.$nextTick((function(){var e=t.$refs.main,i=e.parentElement;if(i){var n=e.getBoundingClientRect(),r=i.getBoundingClientRect(),o=(r.height-n.height)/2;e.style.setProperty("--vuoz-toolbar__computed","".concat(o,"px"))}}))}},{key:"getClasses",value:function(t,e,i){var n="";switch(t){case"main":if(n+="has-background-".concat(this.color," "),"none"!==this.border)if("contextual"===this.type)n+=this.border?"has-border-".concat(this.border," "):" ";else switch(this.position){case"top":case"top-left":case"top-right":n+="has-border-bottom-".concat(this.border," "),n+=this.shadow?n+="has-shadow-bottom ":"";break;case"left":n+="has-border-right-".concat(this.border," "),n+=this.shadow?n+="has-shadow-right ":"";break;case"right":n+="has-border-left-".concat(this.border," "),n+=this.shadow?n+="has-shadow-left ":"";break;case"bottom":case"bottom-left":case"bottom-right":n+="has-border-top-".concat(this.border," "),n+=this.shadow?n+="has-shadow-top ":"";break}if(this.computeEdges(),"contextual"===this.type&&(n+=this.shadow?n+="has-shadow ":""),n+="is-".concat(this.position," "),"contextual"===this.type&&this.rounded)switch(this.position){case"top":case"left":case"bottom":case"right":n+="is-rounded ";break;case"top-left":n+="is-rounded-bottom-left is-rounded-bottom-right is-rounded-top-right ";break;case"bottom-left":n+="is-rounded-top-left is-rounded-bottom-right is-rounded-top-right ";break;case"bottom-right":n+="is-rounded-bottom-left is-rounded-top-left is-rounded-top-right ";break;case"top-right":n+="is-rounded-bottom-left is-rounded-bottom-right is-rounded-top-left ";break}break;case"line":if("none"!==this.border)switch(this.position){case"top":case"top-left":case"top-right":void 0!==e&&void 0!==i&&e<i-1&&(n+="has-border-bottom-".concat(this.border," "));break;case"left":case"right":void 0!==e&&void 0!==i&&e<i-1&&(n+="has-border-right-".concat(this.border," "));break;case"bottom":case"bottom-left":case"bottom-right":void 0!==e&&void 0!==i&&e<i-1&&(n+="has-border-bottom-".concat(this.border," "));break}break}return n}},{key:"onClick",value:function(t,e){if(!this.disabled){var i=this.buttons.find((function(t){return t.name===e})),n=this.$refs[i.name][0];i.onUp&&!1===t&&i.onUp.call(this,i.target||null,n),i.onDown&&!0===t&&i.onDown.call(this,i.target||null,n),this.$emit("click",e,t)}}},{key:"onMenuSelect",value:function(t){this.$emit("menu",t)}},{key:"disable",value:function(t){if(t){var e=this.buttons.find((function(e){return e.name===t}));if(e){var i=nr({},e);i.disabled=!0;var n=this.buttons.indexOf(e);this.buttons.splice(n,1,i)}}else{this.disabledFlag=!0;var r=this.$refs.main;r.style.setProperty("--vuoz-toolbar__opacity","0.75"),this.$emit("disable")}}},{key:"select",value:function(t){if(t){var e=this.$refs[t];e&&e[0].click(!0)}}},{key:"unselect",value:function(t){if(t){var e=this.$refs[t];e&&e[0].unselect()}}},{key:"enable",value:function(){this.disabledFlag=!1;var t=this.$refs.main;t.style.setProperty("--vuoz-toolbar__opacity","1"),this.$emit("enable")}},{key:"disableAllBut",value:function(t){var e=this,i=this.buttons.filter((function(e){return e.name!==t}));i.forEach((function(t){var i=e.buttons.indexOf(t),n=nr({},t);n.disabled=!0,e.buttons.splice(i,1,n)}))}},{key:"resetState",value:function(){var t=this;this.buttons.forEach((function(e){var i=t.buttons.indexOf(e),n=nr({},e);n.disabled=!1,t.buttons.splice(i,1,n)}))}}]),i}(B.a);y([V({type:[Array,Object],required:!0})],rr.prototype,"items",void 0),y([V({type:String,default:"contextual"})],rr.prototype,"type",void 0),y([V({type:String,default:"always"})],rr.prototype,"show",void 0),y([V({type:Boolean,default:!1})],rr.prototype,"vertical",void 0),y([V({type:Boolean,default:!1})],rr.prototype,"disabled",void 0),y([V({type:Boolean,default:!0})],rr.prototype,"rounded",void 0),y([V({type:String,default:"dark-grey"})],rr.prototype,"color",void 0),y([V({type:String,default:"none"})],rr.prototype,"border",void 0),y([V({type:String,default:"normal"})],rr.prototype,"size",void 0),y([V({type:String,default:"0.5rem"})],rr.prototype,"space",void 0),y([V({type:Boolean,default:!0})],rr.prototype,"shadow",void 0),y([V({type:String,default:"top-right"})],rr.prototype,"position",void 0),y([W("type",{immediate:!0})],rr.prototype,"onTypeChanged",null),y([W("items",{immediate:!0})],rr.prototype,"onItemsChanged",null),y([W("position",{immediate:!0})],rr.prototype,"onPositionChanged",null),y([W("vertical",{immediate:!0})],rr.prototype,"onVerticalChanged",null),y([W("space",{immediate:!0})],rr.prototype,"onSpaceChanged",null),y([W("disabled",{immediate:!0})],rr.prototype,"onDisabledChange",null),rr=y([j({name:"VuozToolbar",components:{VuozButton:fn}})],rr);var or=rr,sr=or,ar=on(sr,Zn,tr,!1,null,null,null),Ar=ar.exports;function cr(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function lr(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,n)}return i}function ur(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?lr(Object(i),!0).forEach((function(e){cr(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):lr(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}function hr(t,e){if(null==t)return{};var i,n,r=function(t,e){if(null==t)return{};var i,n,r={},o=Object.keys(t);for(n=0;n<o.length;n++)i=o[n],e.indexOf(i)>=0||(r[i]=t[i]);return r}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(n=0;n<o.length;n++)i=o[n],e.indexOf(i)>=0||Object.prototype.propertyIsEnumerable.call(t,i)&&(r[i]=t[i])}return r}function fr(t){return function(t){if(Array.isArray(t))return dr(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return dr(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);return"Object"===i&&t.constructor&&(i=t.constructor.name),"Map"===i||"Set"===i?Array.from(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?dr(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function dr(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,n=new Array(e);i<e;i++)n[i]=t[i];return n}var pr,gr,vr=(function(t){
/*!
  Copyright (c) 2017 Jed Watson.
  Licensed under the MIT License (MIT), see
  http://jedwatson.github.io/classnames
*/
!function(){var e={}.hasOwnProperty;function i(){for(var t=[],n=0;n<arguments.length;n++){var r=arguments[n];if(r){var o=typeof r;if("string"===o||"number"===o)t.push(r);else if(Array.isArray(r)&&r.length){var s=i.apply(null,r);s&&t.push(s)}else if("object"===o)for(var a in r)e.call(r,a)&&r[a]&&t.push(a)}}return t.join(" ")}t.exports?(i.default=i,t.exports=i):window.classNames=i}()}(gr={path:pr,exports:{},require:function(t,e){return function(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}(null==e&&gr.path)}},gr.exports),gr.exports),mr=function(t){return function(e,i){if(!e)return t;var n;"string"==typeof e?n=e:i=e;var r=t;return n&&(r+="__"+n),r+(i?Object.keys(i).reduce((function(t,e){var n=i[e];return n&&(t+=" "+("boolean"==typeof n?r+"--"+e:r+"--"+e+"_"+n)),t}),""):"")}};function wr(t,e,i){var n,r,o,s,a;function A(){var c=Date.now()-s;c<e&&c>=0?n=setTimeout(A,e-c):(n=null,i||(a=t.apply(o,r),o=r=null))}null==e&&(e=100);var c=function(){o=this,r=arguments,s=Date.now();var c=i&&!n;return n||(n=setTimeout(A,e)),c&&(a=t.apply(o,r),o=r=null),a};return c.clear=function(){n&&(clearTimeout(n),n=null)},c.flush=function(){n&&(a=t.apply(o,r),o=r=null,clearTimeout(n),n=null)},c}wr.debounce=wr;var yr=wr,br=function(){return(br=Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++)for(var r in e=arguments[i])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)};
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function Br(t,e){var i,n;return t&&e?(i=""+t+e[0].toUpperCase()+e.slice(1),n=t+"-"+e):(i=t||e,n=t||e),{name:i,classname:n}}function Cr(t){return/^blob:/.test(t)}function Er(t){return Cr(t)||function(t){return/^data:/.test(t)}(t)}function xr(t){return!!(t&&t.constructor&&t.call&&t.apply)}function _r(t){return void 0===t}function Sr(t){return"object"==typeof t&&null!==t}function Tr(t,e,i){var n={};return Sr(t)?(Object.keys(e).forEach((function(r){_r(t[r])?n[r]=e[r]:Sr(e[r])?Sr(t[r])?n[r]=Tr(t[r],e[r],i[r]):n[r]=t[r]?e[r]:i[r]:!0===e[r]||!1===e[r]?n[r]=Boolean(t[r]):n[r]=t[r]})),n):t?e:i}function Fr(t){var e=Number(t);return Number.isNaN(e)?t:e}function Qr(t){return typeof("number"==t||function(t){return"object"==typeof t&&null!==t}(t)&&"[object Number]"==toString.call(t))&&!Or(t)}function Ur(t){return!Number.isNaN(parseFloat(t))&&isFinite(t)}function Or(t){return t!=t}function Hr(t,e){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}var Dr=function(t,e){void 0===t&&(t={}),void 0===e&&(e={}),this.type="manipulateImage",this.move=t,this.scale=e},Ir=function(t,e){void 0===e&&(e={}),this.type="resize",this.directions=t,this.params=e},kr=function(t){this.type="move",this.directions=t},Rr=function(){function t(t,e,i,n,r){this.type="drag",this.nativeEvent=t,this.position=i,this.previousPosition=n,this.element=e,this.anchor=r}return t.prototype.shift=function(){var t=this,e=t.element,i=t.anchor,n=t.position,r=e.getBoundingClientRect(),o=r.left,s=r.top;return{left:n.left-o-i.left,top:n.top-s-i.top}},t}();function Mr(t,e,i,n,r,o,s,a,A,c){"boolean"!=typeof s&&(A=a,a=s,s=!1);const l="function"==typeof i?i.options:i;let u;if(t&&t.render&&(l.render=t.render,l.staticRenderFns=t.staticRenderFns,l._compiled=!0,r&&(l.functional=!0)),n&&(l._scopeId=n),o?(u=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),e&&e.call(this,A(t)),t&&t._registeredComponents&&t._registeredComponents.add(o)},l._ssrRegister=u):e&&(u=s?function(t){e.call(this,c(t,this.$root.$options.shadowRoot))}:function(t){e.call(this,a(t))}),u)if(l.functional){const t=l.render;l.render=function(e,i){return u.call(i),t(e,i)}}else{const t=l.beforeCreate;l.beforeCreate=t?[].concat(t,u):[u]}return i}var Pr=Mr({render:function(){var t=this,e=t.$createElement;return(t._self._c||e)("div",{ref:"draggable",class:t.classname,on:{touchstart:t.onTouchStart,mousedown:t.onMouseDown,mouseover:t.onMouseOver,mouseleave:t.onMouseLeave}},[t._t("default")],2)},staticRenderFns:[]},void 0,{name:"DraggableElement",mixins:[{beforeMount:function(){window.addEventListener("mouseup",this.onMouseUp,{passive:!1}),window.addEventListener("mousemove",this.onMouseMove,{passive:!1}),window.addEventListener("touchmove",this.onTouchMove,{passive:!1}),window.addEventListener("touchend",this.onTouchEnd,{passive:!1})},beforeDestroy:function(){window.removeEventListener("mouseup",this.onMouseUp),window.removeEventListener("mousemove",this.onMouseMove),window.removeEventListener("touchmove",this.onTouchMove),window.removeEventListener("touchend",this.onTouchEnd)},mounted:function(){if(!this.$refs.draggable)throw new Error('You should add ref "draggable" to your root element to use draggable mixin');this.touches=[],this.hovered=!1},methods:{onMouseOver:function(){this.hovered||(this.hovered=!0,this.$emit("enter"))},onMouseLeave:function(){this.hovered&&!this.touches.length&&(this.hovered=!1,this.$emit("leave"))},onTouchStart:function(t){t.cancelable&&!this.disabled&&1===t.touches.length&&(this.touches=fr(t.touches),this.hovered||(this.$emit("enter"),this.hovered=!0),t.touches.length&&this.initAnchor(this.touches.reduce((function(e,i){return{clientX:e.clientX+i.clientX/t.touches.length,clientY:e.clientY+i.clientY/t.touches.length}}),{clientX:0,clientY:0})),t.preventDefault&&t.preventDefault(),t.stopPropagation())},onTouchEnd:function(){this.processEnd()},onTouchMove:function(t){this.touches.length&&(this.processMove(t,t.touches),t.preventDefault&&t.preventDefault(),t.stopPropagation&&t.stopPropagation())},onMouseDown:function(t){if(!this.disabled&&0===t.button){var e={fake:!0,clientX:t.clientX,clientY:t.clientY};this.touches=[e],this.initAnchor(e),t.stopPropagation()}},onMouseMove:function(t){this.touches.length&&(this.processMove(t,[{fake:!0,clientX:t.clientX,clientY:t.clientY}]),t.preventDefault&&t.preventDefault())},onMouseUp:function(){this.processEnd()},initAnchor:function(t){var e=this.$refs.draggable.getBoundingClientRect(),i=e.left,n=e.right,r=e.bottom,o=e.top;this.anchor={left:t.clientX-i,top:t.clientY-o,bottom:r-t.clientY,right:n-t.clientX}},processMove:function(t,e){var i=fr(e);if(this.touches.length){if(1===this.touches.length&&1===i.length){var n=this.$refs.draggable;this.$emit("drag",new Rr(t,n,{left:i[0].clientX,top:i[0].clientY},{left:this.touches[0].clientX,top:this.touches[0].clientY},this.anchor))}this.touches=i}},processEnd:function(){this.touches.length&&this.$emit("drag-end"),this.hovered&&(this.$emit("leave"),this.hovered=!1),this.touches=[]}}}],props:{classname:{type:String}}},void 0,!1,void 0,!1,void 0,void 0,void 0),Nr=mr("vue-handler-wrapper"),Lr=Mr({render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{class:t.classes.root},[i("DraggableElement",{class:t.classes.draggable,attrs:{disabled:t.disabled},on:{drag:function(e){return t.$emit("drag",e)},"drag-end":function(e){return t.$emit("drag-end")},leave:function(e){return t.$emit("leave")},enter:function(e){return t.$emit("enter")}}},[t._t("default")],2)],1)},staticRenderFns:[]},void 0,{name:"HandlerWrapper",components:{DraggableElement:Pr},props:{horizontalPosition:{type:String},verticalPosition:{type:String},disabled:{type:Boolean,default:!1}},computed:{classes:function(){var t;if(this.horizontalPosition||this.verticalPosition){var e,i=Br(this.horizontalPosition,this.verticalPosition);t=Nr((cr(e={},i.classname,!0),cr(e,"disabled",this.disabled),e))}else t=Nr({disabled:this.disabled});return{root:t,draggable:Nr("draggable")}}}},void 0,!1,void 0,!1,void 0,void 0,void 0),zr=mr("vue-line-wrapper"),jr=Mr({render:function(){var t=this,e=t.$createElement;return(t._self._c||e)("DraggableElement",{class:t.classname,attrs:{disabled:t.disabled},on:{drag:function(e){return t.$emit("drag",e)},"drag-end":function(e){return t.$emit("drag-end")},leave:function(e){return t.$emit("leave")},enter:function(e){return t.$emit("enter")}}},[t._t("default")],2)},staticRenderFns:[]},void 0,{name:"LineWrapper",components:{DraggableElement:Pr},props:{position:{type:String,required:!0},disabled:{type:Boolean,default:!1}},computed:{classname:function(){var t;return zr((cr(t={},this.position,!0),cr(t,"disabled",this.disabled),t))}}},void 0,!1,void 0,!1,void 0,void 0,void 0),Kr=["left","right","top","bottom"],Xr=["left","right"],Vr=["top","bottom"],Wr=["left","top"],Gr=["fill-area","fit-area","stencil","none"],Yr={left:0,top:0,width:0,height:0};function Jr(t,e,i){return!(i=i||["width","height","left","top"]).some((function(i){return t[i]!==e[i]}))}function $r(t){return{left:t.left,top:t.top,right:t.left+t.width,bottom:t.top+t.height}}function qr(t,e){return{left:t.left-e.left,top:t.top-e.top}}function Zr(t){return{left:t.left+t.width/2,top:t.top+t.height/2}}function to(t,e){var i={left:0,top:0,right:0,bottom:0};return Kr.forEach((function(n){var r=e[n],o=$r(t)[n];i[n]=void 0!==r&&void 0!==o?"left"===n||"top"===n?Math.max(0,r-o):Math.max(0,o-r):0})),i}function eo(t,e){return{left:t.left-e.left,top:t.top-e.top,width:t.width+e.left+e.right,height:t.height+e.top+e.bottom}}function io(t){return{left:-t.left,top:-t.top}}function no(t,e){return br(br({},t),{left:t.left+e.left,top:t.top+e.top})}function ro(t,e,i,n){if(1!==e){if(i){var r=Zr(t);return{width:t.width*e,height:t.height*e,left:t.left+t.width*(1-e)/2+(i.left-r.left)*(n||1-e),top:t.top+t.height*(1-e)/2+(i.top-r.top)*(n||1-e)}}return{width:t.width*e,height:t.height*e,left:t.left+t.width*(1-e)/2,top:t.top+t.height*(1-e)/2}}return t}function oo(t){return t.width/t.height}function so(t,e){return Math.min(void 0!==e.right&&void 0!==e.left?(e.right-e.left)/t.width:1/0,void 0!==e.bottom&&void 0!==e.top?(e.bottom-e.top)/t.height:1/0)}function ao(t,e){var i={left:0,top:0},n=to(t,e);return n.left&&n.left>0?i.left=n.left:n.right&&n.right>0&&(i.left=-n.right),n.top&&n.top>0?i.top=n.top:n.bottom&&n.bottom>0&&(i.top=-n.bottom),i}function Ao(t,e){var i;return e.minimum&&t<e.minimum?i=e.minimum:e.maximum&&t>e.maximum&&(i=e.maximum),i}function co(t,e){var i=oo(t),n=oo(e);return e.width<1/0&&e.height<1/0?i>n?{width:e.width,height:e.width/i}:{width:e.height*i,height:e.height}:e.width<1/0?{width:e.width,height:e.width/i}:e.height<1/0?{width:e.height*i,height:e.height}:t}function lo(t,e){var i=e*Math.PI/180;return{width:Math.abs(t.width*Math.cos(i))+Math.abs(t.height*Math.sin(i)),height:Math.abs(t.width*Math.sin(i))+Math.abs(t.height*Math.cos(i))}}function uo(t,e){var i=e*Math.PI/180;return{left:t.left*Math.cos(i)-t.top*Math.sin(i),top:t.left*Math.sin(i)+t.top*Math.cos(i)}}function ho(t,e){var i=to(fo(t,e),e);return i.left+i.right+i.top+i.bottom?i.left+i.right>i.top+i.bottom?Math.min((t.width+i.left+i.right)/t.width,so(t,e)):Math.min((t.height+i.top+i.bottom)/t.height,so(t,e)):1}function fo(t,e,i){void 0===i&&(i=!1);var n=ao(t,e);return no(t,i?io(n):n)}function po(t){return{width:void 0!==t.right&&void 0!==t.left?t.right-t.left:1/0,height:void 0!==t.bottom&&void 0!==t.top?t.bottom-t.top:1/0}}function go(t,e){return br(br({},t),{minWidth:Math.min(e.width,t.minWidth),minHeight:Math.min(e.height,t.minHeight),maxWidth:Math.min(e.width,t.maxWidth),maxHeight:Math.min(e.height,t.maxHeight)})}function vo(t,e,i){void 0===i&&(i=!0);var n={};return Kr.forEach((function(r){var o=t[r],s=e[r];void 0!==o&&void 0!==s?n[r]="left"===r||"top"===r?i?Math.max(o,s):Math.min(o,s):i?Math.min(o,s):Math.max(o,s):void 0!==s?n[r]=s:void 0!==o&&(n[r]=o)})),n}function mo(t,e){return vo(t,e,!0)}function wo(t){var e=t.size,i=t.aspectRatio,n=t.ignoreMinimum,r=t.sizeRestrictions;return Boolean((e.correctRatio||oo(e)>=i.minimum&&oo(e)<=i.maximum)&&e.height<=r.maxHeight&&e.width<=r.maxWidth&&e.width&&e.height&&(n||e.height>=r.minHeight&&e.width>=r.minWidth))}function yo(t,e){return Math.pow(t.width-e.width,2)+Math.pow(t.height-e.height,2)}function bo(t){var e=t.width,i=t.height,n=t.sizeRestrictions,r={minimum:t.aspectRatio&&t.aspectRatio.minimum||0,maximum:t.aspectRatio&&t.aspectRatio.maximum||1/0},o={width:Math.max(n.minWidth,Math.min(n.maxWidth,e)),height:Math.max(n.minHeight,Math.min(n.maxHeight,i))};function s(t,o){return void 0===o&&(o=!1),t.reduce((function(t,s){return wo({size:s,aspectRatio:r,sizeRestrictions:n,ignoreMinimum:o})&&(!t||yo(s,{width:e,height:i})<yo(t,{width:e,height:i}))?s:t}),null)}var a=[];r&&[r.minimum,r.maximum].forEach((function(t){t&&a.push({width:o.width,height:o.width/t,correctRatio:!0},{width:o.height*t,height:o.height,correctRatio:!0})})),wo({size:o,aspectRatio:r,sizeRestrictions:n})&&a.push(o);var A=s(a)||s(a,!0);return A&&{width:A.width,height:A.height}}function Bo(t){var e=t.event,i=t.coordinates,n=t.positionRestrictions,r=void 0===n?{}:n,o=no(i,e.directions);return no(o,ao(o,r))}function Co(t){var e=t.coordinates,i=t.transform,n=t.imageSize,r=t.sizeRestrictions,o=t.positionRestrictions,s=t.aspectRatio,a=t.visibleArea,A=function(t,e){return Bo({coordinates:t,positionRestrictions:o,event:new kr({left:e.left-t.left,top:e.top-t.top})})},c=br({},e);return(Array.isArray(i)?i:[i]).forEach((function(t){var e={};_r((e="function"==typeof t?t({coordinates:c,imageSize:n,visibleArea:a}):t).width)&&_r(e.height)||(c=function(t,e){var i=br(br(br({},t),bo({width:e.width,height:e.height,sizeRestrictions:r,aspectRatio:s})),{left:0,top:0});return A(i,{left:t.left,top:t.top})}(c,br(br({},c),e))),_r(e.left)&&_r(e.top)||(c=A(c,br(br({},c),e)))})),c}function Eo(t){t.event;var e,i,n,r=t.getAreaRestrictions,o=t.boundaries,s=t.coordinates,a=t.visibleArea,A=(t.aspectRatio,t.stencilSize),c=t.sizeRestrictions,l=t.positionRestrictions,u=(t.stencilReference,br({},s)),h=br({},a),f=br({},A);e=oo(f),i=oo(u),void 0===n&&(n=.001),(0===e||0===i?Math.abs(i-e)<n:Math.abs(i/e)<1+n&&Math.abs(i/e)>1-n)||(u=br(br({},u),bo({sizeRestrictions:c,width:u.width,height:u.height,aspectRatio:{minimum:oo(f),maximum:oo(f)}})));var d=ho(h=ro(h,u.width*o.width/(h.width*f.width)),r({visibleArea:h,type:"resize"}));return 1!==d&&(h=ro(h,d),u=ro(u,d)),h=fo(h=no(h,qr(Zr(u),Zr(h))),r({visibleArea:h,type:"move"})),{coordinates:u=fo(u,mo($r(h),l)),visibleArea:h}}function xo(t){var e=t.event,i=t.getAreaRestrictions,n=t.boundaries,r=t.coordinates,o=t.visibleArea,s=(t.aspectRatio,t.stencilSize,t.sizeRestrictions,t.positionRestrictions),a=(t.stencilReference,br({},r)),A=br({},o);if(r&&o&&"manipulateImage"!==e.type){var c={width:0,height:0};A.width,n.width,oo(n)>oo(a)?(c.height=.8*n.height,c.width=c.height*oo(a)):(c.width=.8*n.width,c.height=c.width*oo(a));var l=ho(A=ro(A,a.width*n.width/(A.width*c.width)),i({visibleArea:A,type:"resize"}));A=ro(A,l),1!==l&&(c.height/=l,c.width/=l),A=fo(A=no(A,qr(Zr(a),Zr(A))),i({visibleArea:A,type:"move"})),a=fo(a,mo($r(A),s))}return{coordinates:a,visibleArea:A}}function _o(t){var e=t.event,i=t.coordinates,n=t.visibleArea,r=t.getAreaRestrictions,o=br({},n),s=br({},i);if("setCoordinates"===e.type){var a=Math.max(0,s.width-o.width),A=Math.max(0,s.height-o.height);a>A?o=ro(o,Math.min(s.width/o.width,so(o,r({visibleArea:o,type:"resize"})))):A>a&&(o=ro(o,Math.min(s.height/o.height,so(o,r({visibleArea:o,type:"resize"}))))),o=fo(o=no(o,io(ao(s,$r(o)))),r({visibleArea:o,type:"move"}))}return{visibleArea:o,coordinates:s}}function So(t){var e=t.imageSize,i=t.visibleArea,n=t.aspectRatio,r=t.sizeRestrictions,o=i||e,s=Math.min(n.maximum||1/0,Math.max(n.minimum||0,oo(o))),a=o.width<o.height?{width:.8*o.width,height:.8*o.width/s}:{height:.8*o.height,width:.8*o.height*s};return bo(br(br({},a),{aspectRatio:n,sizeRestrictions:r}))}function To(t){var e,i,n=t.imageSize,r=t.visibleArea,o=t.boundaries,s=t.aspectRatio,a=t.sizeRestrictions,A=t.stencilSize,c=r||n;return oo(c)>oo(o)?i=(e=A.height*c.height/o.height)*oo(A):e=(i=A.width*c.width/o.width)/oo(A),bo({width:i,height:e,aspectRatio:s,sizeRestrictions:a})}function Fo(t,e){return vo(t,$r(e))}function Qo(t){var e=t.event,i=t.coordinates,n=t.visibleArea,r=t.sizeRestrictions,o=t.getAreaRestrictions,s=t.positionRestrictions,a=t.adjustStencil,A=e.scale,c=e.move,l=br({},n),u=br({},i),h=1,f=1,d=A.factor&&Math.abs(A.factor-1)>.001;l=no(l,{left:c.left||0,top:c.top||0});var p={stencil:{minimum:Math.max(r.minWidth?r.minWidth/u.width:0,r.minHeight?r.minHeight/u.height:0),maximum:Math.min(r.maxWidth?r.maxWidth/u.width:1/0,r.maxHeight?r.maxHeight/u.height:1/0,so(u,s))},area:{maximum:so(l,o({visibleArea:l,type:"resize"}))}};A.factor&&d&&(A.factor<1?(f=Math.max(A.factor,p.stencil.minimum))>1&&(f=1):A.factor>1&&(f=Math.min(A.factor,Math.min(p.area.maximum,p.stencil.maximum)))<1&&(f=1)),f&&(l=ro(l,f,A.center));var g=i.left-n.left,v=n.width+n.left-(i.width+i.left),m=i.top-n.top,w=n.height+n.top-(i.height+i.top);return l=fo(l=no(l,ao(l,{left:void 0!==s.left?s.left-g*f:void 0,top:void 0!==s.top?s.top-m*f:void 0,bottom:void 0!==s.bottom?s.bottom+w*f:void 0,right:void 0!==s.right?s.right+v*f:void 0})),o({visibleArea:l,type:"move"})),u.width=u.width*f,u.height=u.height*f,u.left=l.left+g*f,u.top=l.top+m*f,u=fo(u,mo($r(l),s)),A.factor&&d&&a&&(A.factor>1?h=Math.min(p.area.maximum,A.factor)/f:A.factor<1&&(h=Math.max(u.height/l.height,u.width/l.width,A.factor/f)),1!==h&&(l=no(l=fo(l=ro(l,h,A.factor>1?A.center:Zr(u)),o({visibleArea:l,type:"move"})),io(ao(u,$r(l)))))),{coordinates:u,visibleArea:l}}function Uo(t){var e=t.aspectRatio,i=t.getAreaRestrictions,n=t.coordinates,r=t.visibleArea,o=t.sizeRestrictions,s=t.positionRestrictions,a=t.imageSize,A=t.previousImageSize,c=t.angle,l=br({},n),u=br({},r),h=uo(Zr(br({left:0,top:0},A)),c);return(l=br(br({},bo({sizeRestrictions:o,aspectRatio:e,width:l.width,height:l.height})),uo(Zr(l),c))).left-=h.left-a.width/2+l.width/2,l.top-=h.top-a.height/2+l.height/2,u=ro(u,ho(u,i({visibleArea:u,type:"resize"}))),{coordinates:l=fo(l,s),visibleArea:u=fo(u=no(u,qr(Zr(l),Zr(n))),i({visibleArea:u,type:"move"}))}}function Oo(t){var e=t.flip,i=t.previousFlip,n=t.rotate,r=(t.aspectRatio,t.getAreaRestrictions),o=t.coordinates,s=t.visibleArea,a=t.imageSize,A=br({},o),c=br({},s),l=i.horizontal!==e.horizontal,u=i.vertical!==e.vertical;if(l||u){var h=uo({left:a.width/2,top:a.height/2},-n),f=uo(Zr(A),-n),d=uo({left:l?h.left-(f.left-h.left):f.left,top:u?h.top-(f.top-h.top):f.top},n);A=no(A,qr(d,Zr(A))),f=uo(Zr(c),-n),c=fo(c=no(c,qr(d=uo({left:l?h.left-(f.left-h.left):f.left,top:u?h.top-(f.top-h.top):f.top},n),Zr(c))),r({visibleArea:c,type:"move"}))}return{coordinates:A,visibleArea:c}}function Ho(t){var e=t.directions,i=t.coordinates,n=t.positionRestrictions,r=void 0===n?{}:n,o=t.sizeRestrictions,s=t.preserveRatio,a=t.compensate,A=br({},e),c=eo(i,A).width,l=eo(i,A).height;c<0&&(A.left<0&&A.right<0?(A.left=-(i.width-o.minWidth)/(A.left/A.right),A.right=-(i.width-o.minWidth)/(A.right/A.left)):A.left<0?A.left=-(i.width-o.minWidth):A.right<0&&(A.right=-(i.width-o.minWidth))),l<0&&(A.top<0&&A.bottom<0?(A.top=-(i.height-o.minHeight)/(A.top/A.bottom),A.bottom=-(i.height-o.minHeight)/(A.bottom/A.top)):A.top<0?A.top=-(i.height-o.minHeight):A.bottom<0&&(A.bottom=-(i.height-o.minHeight)));var u=to(eo(i,A),r);a&&(u.left&&u.left>0&&0===u.right?(A.right+=u.left,A.left-=u.left):u.right&&u.right>0&&0===u.left&&(A.left+=u.right,A.right-=u.right),u.top&&u.top>0&&0===u.bottom?(A.bottom+=u.top,A.top-=u.top):u.bottom&&u.bottom>0&&0===u.top&&(A.top+=u.bottom,A.bottom-=u.bottom),u=to(eo(i,A),r));var h={width:1/0,height:1/0,left:1/0,right:1/0,top:1/0,bottom:1/0};if(Kr.forEach((function(t){var e=u[t];e&&A[t]&&(h[t]=Math.max(0,1-e/A[t]))})),s){var f=Math.min.apply(Math,Kr.map((function(t){return h[t]})));f!==1/0&&Kr.forEach((function(t){A[t]*=f}))}else Kr.forEach((function(t){h[t]!==1/0&&(A[t]*=h[t])}));if(c=eo(i,A).width,l=eo(i,A).height,A.right+A.left&&(c>o.maxWidth?h.width=(o.maxWidth-i.width)/(A.right+A.left):c<o.minWidth&&(h.width=(o.minWidth-i.width)/(A.right+A.left))),A.bottom+A.top&&(l>o.maxHeight?h.height=(o.maxHeight-i.height)/(A.bottom+A.top):l<o.minHeight&&(h.height=(o.minHeight-i.height)/(A.bottom+A.top))),s){var d=Math.min(h.width,h.height);d!==1/0&&Kr.forEach((function(t){A[t]*=d}))}else h.width!==1/0&&Xr.forEach((function(t){A[t]*=h.width})),h.height!==1/0&&Vr.forEach((function(t){A[t]*=h.height}));return A}function Do(t,e,i){return 0==e&&0==i?t/2:0==e?0:0==i?t:t*Math.abs(e/(e+i))}var Io=mr("vue-simple-handler"),ko=mr("vue-simple-handler-wrapper"),Ro=Mr({render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("HandlerWrapper",{class:t.classes.wrapper,attrs:{"vertical-position":t.verticalPosition,"horizontal-position":t.horizontalPosition,disabled:t.disabled},on:{drag:t.onDrag,"drag-end":t.onDragEnd,enter:t.onEnter,leave:t.onLeave}},[i("div",{class:t.classes.default})])},staticRenderFns:[]},void 0,{name:"SimpleHandler",components:{HandlerWrapper:Lr},props:{defaultClass:{type:String},hoverClass:{type:String},wrapperClass:{type:String},horizontalPosition:{type:String},verticalPosition:{type:String},disabled:{type:Boolean,default:!1}},data:function(){return{hover:!1}},computed:{classes:function(){var t,e=(cr(t={},this.horizontalPosition,Boolean(this.horizontalPosition)),cr(t,this.verticalPosition,Boolean(this.verticalPosition)),cr(t,"".concat(this.horizontalPosition,"-").concat(this.verticalPosition),Boolean(this.verticalPosition&&this.horizontalPosition)),cr(t,"hover",this.hover),t);return{default:vr(Io(e),this.defaultClass,this.hover&&this.hoverClass),wrapper:vr(ko(e),this.wrapperClass)}}},methods:{onDrag:function(t){this.$emit("drag",t)},onEnter:function(){this.hover=!0},onLeave:function(){this.hover=!1},onDragEnd:function(){this.$emit("drag-end")}}},void 0,!1,void 0,!1,void 0,void 0,void 0),Mo=mr("vue-simple-line"),Po=mr("vue-simple-line-wrapper"),No=Mr({render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("LineWrapper",{class:t.classes.wrapper,attrs:{position:t.position,disabled:t.disabled},on:{drag:t.onDrag,"drag-end":t.onDragEnd,enter:t.onEnter,leave:t.onLeave}},[i("div",{class:t.classes.root})])},staticRenderFns:[]},void 0,{name:"SimpleLine",components:{LineWrapper:jr},props:{defaultClass:{type:String},hoverClass:{type:String},wrapperClass:{type:String},position:{type:String},disabled:{type:Boolean,default:!1}},data:function(){return{hover:!1}},computed:{classes:function(){return{root:vr(Mo(cr({},this.position,!0)),this.defaultClass,this.hover&&this.hoverClass),wrapper:vr(Po(cr({},this.position,!0)),this.wrapperClass)}}},methods:{onDrag:function(t){this.$emit("drag",t)},onEnter:function(){this.hover=!0},onLeave:function(){this.hover=!1},onDragEnd:function(){this.$emit("drag-end")}}},void 0,!1,void 0,!1,void 0,void 0,void 0),Lo=mr("vue-bounding-box"),zo=["east","west",null],jo=["south","north",null],Ko=Mr({render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{ref:"box",class:t.classes.root,style:t.style},[t._t("default"),t._v(" "),i("div",t._l(t.lineNodes,(function(e){return i(e.component,{key:e.name,tag:"component",attrs:{"default-class":e.class,"hover-class":e.hoverClass,"wrapper-class":e.wrapperClass,position:e.name,disabled:e.disabled},on:{drag:function(i){return t.onHandlerDrag(i,e.horizontalDirection,e.verticalDirection)},"drag-end":function(e){return t.onEnd()}}})})),1),t._v(" "),t._l(t.handlerNodes,(function(e){return i("div",{key:e.name,class:e.wrapperClass,style:e.wrapperStyle},[i(e.component,{tag:"component",attrs:{"default-class":e.class,"hover-class":e.hoverClass,"wrapper-class":e.wrapperClass,"horizontal-position":e.horizontalDirection,"vertical-position":e.verticalDirection,disabled:e.disabled},on:{drag:function(i){return t.onHandlerDrag(i,e.horizontalDirection,e.verticalDirection)},"drag-end":function(e){return t.onEnd()}}})],1)}))],2)},staticRenderFns:[]},void 0,{name:"BoundingBox",props:{width:{type:Number},height:{type:Number},transitions:{type:Object},handlers:{type:Object,default:function(){return{eastNorth:!0,north:!0,westNorth:!0,west:!0,westSouth:!0,south:!0,eastSouth:!0,east:!0}}},handlersComponent:{type:[Object,String],default:function(){return Ro}},handlersClasses:{type:Object,default:function(){return{}}},handlersWrappersClasses:{type:Object,default:function(){return{}}},lines:{type:Object,default:function(){return{west:!0,north:!0,east:!0,south:!0}}},linesComponent:{type:[Object,String],default:function(){return No}},linesClasses:{type:Object,default:function(){return{}}},linesWrappersClasses:{type:Object,default:function(){return{}}},resizable:{type:Boolean,default:!0}},data:function(){var t=[];return zo.forEach((function(e){jo.forEach((function(i){if(e!==i){var n=Br(e,i),r=n.name,o=n.classname;t.push({name:r,classname:o,verticalDirection:i,horizontalDirection:e})}}))})),{points:t}},computed:{style:function(){var t={};return this.width&&this.height&&(t.width="".concat(this.width,"px"),t.height="".concat(this.height,"px"),this.transitions&&this.transitions.enabled&&(t.transition="".concat(this.transitions.time,"ms ").concat(this.transitions.timingFunction))),t},classes:function(){var t=this.handlersClasses,e=this.handlersWrappersClasses,i=this.linesClasses,n=this.linesWrappersClasses;return{root:Lo(),handlers:t,handlersWrappers:e,lines:i,linesWrappers:n}},lineNodes:function(){var t=this,e=[];return this.points.forEach((function(i){i.horizontalDirection&&i.verticalDirection||!t.lines[i.name]||e.push({name:i.name,component:t.linesComponent,class:vr(t.classes.lines.default,t.classes.lines[i.name],!t.resizable&&t.classes.lines.disabled),wrapperClass:vr(t.classes.linesWrappers.default,t.classes.linesWrappers[i.name],!t.resizable&&t.classes.linesWrappers.disabled),hoverClass:t.classes.lines.hover,verticalDirection:i.verticalDirection,horizontalDirection:i.horizontalDirection,disabled:!t.resizable})})),e},handlerNodes:function(){var t=this,e=[],i=this.width,n=this.height;return this.points.forEach((function(r){if(t.handlers[r.name]){var o={name:r.name,component:t.handlersComponent,class:vr(t.classes.handlers.default,t.classes.handlers[r.name]),wrapperClass:vr(t.classes.handlersWrappers.default,t.classes.handlersWrappers[r.name]),hoverClass:t.classes.handlers.hover,verticalDirection:r.verticalDirection,horizontalDirection:r.horizontalDirection,disabled:!t.resizable};if(i&&n){var s=r.horizontalDirection,a=r.verticalDirection,A="east"===s?i:"west"===s?0:i/2,c="south"===a?n:"north"===a?0:n/2;o.wrapperClass=Lo("handler"),o.wrapperStyle={transform:"translate(".concat(A,"px, ").concat(c,"px)")},t.transitions&&t.transitions.enabled&&(o.wrapperStyle.transition="".concat(t.transitions.time,"ms ").concat(t.transitions.timingFunction))}else o.wrapperClass=Lo("handler",cr({},r.classname,!0));e.push(o)}})),e}},beforeMount:function(){window.addEventListener("mouseup",this.onMouseUp,{passive:!1}),window.addEventListener("mousemove",this.onMouseMove,{passive:!1}),window.addEventListener("touchmove",this.onTouchMove,{passive:!1}),window.addEventListener("touchend",this.onTouchEnd,{passive:!1})},beforeDestroy:function(){window.removeEventListener("mouseup",this.onMouseUp),window.removeEventListener("mousemove",this.onMouseMove),window.removeEventListener("touchmove",this.onTouchMove),window.removeEventListener("touchend",this.onTouchEnd)},mounted:function(){this.touches=[]},methods:{onEnd:function(){this.$emit("resize-end")},onHandlerDrag:function(t,e,i){var n,r=t.shift(),o=r.left,s=r.top,a={left:0,right:0,top:0,bottom:0};"west"===e?a.left-=o:"east"===e&&(a.right+=o),"north"===i?a.top-=s:"south"===i&&(a.bottom+=s),!i&&e?n="width":i&&!e&&(n="height"),this.resizable&&this.$emit("resize",new Ir(a,{allowedDirections:{left:"west"===e||!e,right:"east"===e||!e,bottom:"south"===i||!i,top:"north"===i||!i},preserveAspectRatio:t.nativeEvent&&t.nativeEvent.shiftKey,respectDirection:n}))}}},void 0,!1,void 0,!1,void 0,void 0,void 0),Xo=function(t,e){void 0===t&&(t={}),void 0===e&&(e={}),this.type="manipulateImage",this.move=t,this.scale=e},Vo=function(t){this.type="move",this.directions=t},Wo=mr("vue-draggable-area"),Go=Mr({render:function(){var t=this,e=t.$createElement;return(t._self._c||e)("div",{ref:"container",on:{touchstart:t.onTouchStart,mousedown:t.onMouseDown}},[t._t("default")],2)},staticRenderFns:[]},void 0,{name:"DraggableArea",props:{movable:{type:Boolean,default:!0},activationDistance:{type:Number,default:20}},computed:{classnames:function(){return{default:Wo()}}},beforeMount:function(){window.addEventListener("mouseup",this.onMouseUp,{passive:!1}),window.addEventListener("mousemove",this.onMouseMove,{passive:!1}),window.addEventListener("touchmove",this.onTouchMove,{passive:!1}),window.addEventListener("touchend",this.onTouchEnd,{passive:!1})},beforeDestroy:function(){window.removeEventListener("mouseup",this.onMouseUp),window.removeEventListener("mousemove",this.onMouseMove),window.removeEventListener("touchmove",this.onTouchMove),window.removeEventListener("touchend",this.onTouchEnd)},mounted:function(){this.touches=[],this.touchStarted=!1},methods:{onTouchStart:function(t){if(t.cancelable){var e=this.movable&&1===t.touches.length;e&&(this.touches=fr(t.touches)),(this.touchStarted||e)&&(t.preventDefault(),t.stopPropagation())}},onTouchEnd:function(){this.touchStarted=!1,this.processEnd()},onTouchMove:function(t){this.touches.length>=1&&(this.touchStarted?(this.processMove(t,t.touches),t.preventDefault(),t.stopPropagation()):Hr({x:this.touches[0].clientX,y:this.touches[0].clientY},{x:t.touches[0].clientX,y:t.touches[0].clientY})>this.activationDistance&&(this.initAnchor({clientX:t.touches[0].clientX,clientY:t.touches[0].clientY}),this.touchStarted=!0))},onMouseDown:function(t){if(this.movable&&0===t.button){var e={fake:!0,clientX:t.clientX,clientY:t.clientY};this.touches=[e],this.initAnchor(e),t.stopPropagation()}},onMouseMove:function(t){this.touches.length&&(this.processMove(t,[{fake:!0,clientX:t.clientX,clientY:t.clientY}]),t.preventDefault&&t.cancelable&&t.preventDefault(),t.stopPropagation())},onMouseUp:function(){this.processEnd()},initAnchor:function(t){var e=this.$refs.container.getBoundingClientRect(),i=e.left,n=e.top;this.anchor={x:t.clientX-i,y:t.clientY-n}},processMove:function(t,e){var i=fr(e);if(this.touches.length){var n=this.$refs.container.getBoundingClientRect(),r=n.left,o=n.top;1===this.touches.length&&1===i.length&&this.$emit("move",new Vo({left:i[0].clientX-(r+this.anchor.x),top:i[0].clientY-(o+this.anchor.y)}))}},processEnd:function(){this.touches.length&&this.$emit("move-end"),this.touches=[]}}},void 0,!1,void 0,!1,void 0,void 0,void 0);function Yo(t){return new Promise((function(e,i){try{if(t)if(/^data:/i.test(t))e(function(t){t=t.replace(/^data:([^;]+);base64,/gim,"");for(var e=atob(t),i=e.length,n=new ArrayBuffer(i),r=new Uint8Array(n),o=0;o<i;o++)r[o]=e.charCodeAt(o);return n}(t));else if(/^blob:/i.test(t)){var n=new FileReader;n.onload=function(t){e(t.target.result)},o=t,s=function(t){n.readAsArrayBuffer(t)},(a=new XMLHttpRequest).open("GET",o,!0),a.responseType="blob",a.onload=function(){200!=this.status&&0!==this.status||s(this.response)},a.send()}else{var r=new XMLHttpRequest;r.onreadystatechange=function(){4===r.readyState&&(200===r.status||0===r.status?e(r.response):i("Warning: could not load an image to parse its orientation"),r=null)},r.onprogress=function(){"image/jpeg"!==r.getResponseHeader("content-type")&&r.abort()},r.withCredentials=!1,r.open("GET",t,!0),r.responseType="arraybuffer",r.send(null)}else i("Error: the image is empty")}catch(t){i(t)}var o,s,a}))}function Jo(t){var e=t.rotate,i=t.flip,n=t.scaleX,r=t.scaleY,o="";return o+=" rotate("+e+"deg) ",o+=" scaleX("+n*(i.horizontal?-1:1)+") ",o+" scaleY("+r*(i.vertical?-1:1)+") "}function $o(t){try{var e,i=new DataView(t),n=void 0,r=void 0,o=void 0,s=void 0;if(255===i.getUint8(0)&&216===i.getUint8(1))for(var a=i.byteLength,A=2;A+1<a;){if(255===i.getUint8(A)&&225===i.getUint8(A+1)){o=A;break}A++}if(o&&(n=o+10,"Exif"===function(t,e,i){var n,r="";for(n=e,i+=e;n<i;n++)r+=String.fromCharCode(t.getUint8(n));return r}(i,o+4,4))){var c=i.getUint16(n);if(((r=18761===c)||19789===c)&&42===i.getUint16(n+2,r)){var l=i.getUint32(n+4,r);l>=8&&(s=n+l)}}if(s)for(var u=i.getUint16(s,r),h=0;h<u;h++)if(A=s+12*h+2,274===i.getUint16(A,r)){A+=8,e=i.getUint16(A,r),i.setUint16(A,1,r);break}return e}catch(t){return null}}var qo=mr("vue-preview-result");Mr({render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{class:t.classes.root},[i("div",{ref:"wrapper",class:t.classes.wrapper,style:t.wrapperStyle},[i("img",{ref:"image",class:t.classes.image,style:t.imageStyle,attrs:{src:t.image.src}})])])},staticRenderFns:[]},void 0,{name:"PreviewResult",props:{image:{type:Object},transitions:{type:Object},stencilCoordinates:{type:Object,default:function(){return{width:0,height:0,left:0,top:0}}},imageClass:{type:String}},computed:{classes:function(){return{root:qo(),wrapper:qo("wrapper"),imageWrapper:qo("image-wrapper"),image:vr(qo("image"),this.imageClass)}},wrapperStyle:function(){var t={width:"".concat(this.stencilCoordinates.width,"px"),height:"".concat(this.stencilCoordinates.height,"px"),left:"calc(50% - ".concat(this.stencilCoordinates.width/2,"px)"),top:"calc(50% - ".concat(this.stencilCoordinates.height/2,"px)")};return this.transitions&&this.transitions.enabled&&(t.transition="".concat(this.transitions.time,"ms ").concat(this.transitions.timingFunction)),t},imageStyle:function(){var t=this.image.transforms,e=lo({width:this.image.width,height:this.image.height},t.rotate),i={width:"".concat(this.image.width,"px"),height:"".concat(this.image.height,"px"),left:"0px",top:"0px"},n={left:(this.image.width-e.width)*t.scaleX/2,top:(this.image.height-e.height)*t.scaleY/2},r={left:(1-t.scaleX)*this.image.width/2,top:(1-t.scaleY)*this.image.height/2};return i.transform="translate(\n\t\t\t\t".concat(-this.stencilCoordinates.left-t.translateX-n.left-r.left,"px,").concat(-this.stencilCoordinates.top-t.translateY-n.top-r.top,"px) ")+Jo(t),this.transitions&&this.transitions.enabled&&(i.transition="".concat(this.transitions.time,"ms ").concat(this.transitions.timingFunction)),i}}},void 0,!1,void 0,!1,void 0,void 0,void 0);function Zo(t,e){var i=e.getBoundingClientRect(),n=i.left,r=i.top,o={left:0,top:0},s=0;return t.forEach((function(e){o.left+=(e.clientX-n)/t.length,o.top+=(e.clientY-r)/t.length})),t.forEach((function(t){s+=Hr({x:o.left,y:o.top},{x:t.clientX-n,y:t.clientY-r})})),{centerMass:o,spread:s,count:t.length}}var ts=Mr({render:function(){var t=this,e=t.$createElement;return(t._self._c||e)("div",{ref:"container",on:{touchstart:t.onTouchStart,mousedown:t.onMouseDown,wheel:t.onWheel}},[t._t("default")],2)},staticRenderFns:[]},void 0,{name:"CropperWrapper",props:{touchMove:{type:Boolean,required:!0},mouseMove:{type:Boolean,required:!0},touchResize:{type:Boolean,required:!0},wheelResize:{type:[Boolean,Object],required:!0}},beforeMount:function(){window.addEventListener("mouseup",this.onMouseUp,{passive:!1}),window.addEventListener("mousemove",this.onMouseMove,{passive:!1}),window.addEventListener("touchmove",this.onTouchMove,{passive:!1}),window.addEventListener("touchend",this.onTouchEnd,{passive:!1})},beforeDestroy:function(){window.removeEventListener("mouseup",this.onMouseUp),window.removeEventListener("mousemove",this.onMouseMove),window.removeEventListener("touchmove",this.onTouchMove),window.removeEventListener("touchend",this.onTouchEnd)},mounted:function(){this.touches=[]},methods:{onTouchStart:function(t){if(t.cancelable&&(this.touchMove||this.touchResize&&t.touches.length>1)){var e=this.$refs.container,i=e.getBoundingClientRect(),n=i.left,r=i.top,o=i.bottom,s=i.right;this.touches=fr(t.touches).filter((function(t){return t.clientX>n&&t.clientX<s&&t.clientY>r&&t.clientY<o})),this.oldGeometricProperties=Zo(this.touches,e),t.preventDefault&&t.preventDefault(),t.stopPropagation()}},onTouchEnd:function(t){0===t.touches.length&&this.processEnd()},onTouchMove:function(t){var e=this;if(this.touches.length){var i=fr(t.touches).filter((function(t){return!t.identifier||e.touches.find((function(e){return e.identifier===t.identifier}))}));this.processMove(t,i),t.preventDefault&&t.preventDefault(),t.stopPropagation&&t.stopPropagation()}},onMouseDown:function(t){if(this.mouseMove&&"buttons"in t&&1===t.buttons){var e={fake:!0,clientX:t.clientX,clientY:t.clientY};this.touches=[e],t.stopPropagation()}},onMouseMove:function(t){this.touches.length&&(this.processMove(t,[{fake:!0,clientX:t.clientX,clientY:t.clientY}]),t.preventDefault&&t.cancelable&&t.preventDefault())},onMouseUp:function(){this.touches=[]},processMove:function(t,e){if(this.touches.length){if(1===this.touches.length&&1===e.length)this.$emit("move",new Xo({left:this.touches[0].clientX-e[0].clientX,top:this.touches[0].clientY-e[0].clientY}));else if(this.touches.length>1&&this.touchResize){var i=Zo(e,this.$refs.container),n=this.oldGeometricProperties;n.count===i.count&&n.count>1&&this.$emit("resize",new Xo({left:n.centerMass.left-i.centerMass.left,top:n.centerMass.top-i.centerMass.top},{factor:n.spread/i.spread,center:i.centerMass})),this.oldGeometricProperties=i}this.touches=e}},processEnd:function(){this.touches=[]},onWheel:function(t){if(this.wheelResize){var e=this.$refs.container.getBoundingClientRect(),i=e.left,n=e.top,r=1+this.wheelResize.ratio*(s=t.deltaY||t.detail||t.wheelDelta,0===(a=+s)||Or(a)?a:a>0?1:-1),o={left:t.clientX-i,top:t.clientY-n};this.$emit("resize",new Xo({},{factor:r,center:o})),t.preventDefault(),t.stopPropagation()}var s,a}}},void 0,!1,void 0,!1,void 0,void 0,void 0),es=mr("vue-preview"),is=Mr({render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{ref:"root",class:t.classes.root,style:t.style},[i("div",{ref:"wrapper",class:t.classes.wrapper,style:t.wrapperStyle},[i("img",{directives:[{name:"show",rawName:"v-show",value:t.image&&t.image.src,expression:"image && image.src"}],ref:"image",class:t.classes.image,style:t.imageStyle,attrs:{src:t.image&&t.image.src}})])])},staticRenderFns:[]},void 0,{props:{coordinates:{type:Object},transitions:{type:Object},image:{type:Object,default:function(){return{}}},imageClass:{type:String},width:{type:Number},height:{type:Number},fill:{type:Boolean}},data:function(){return{calculatedImageSize:{width:0,height:0},calculatedSize:{width:0,height:0}}},computed:{classes:function(){return{root:es({fill:this.fill}),wrapper:es("wrapper"),imageWrapper:es("image-wrapper"),image:vr(es("image"),this.imageClass)}},style:function(){if(this.fill)return{};var t={};return this.width&&(t.width="".concat(this.size.width,"px")),this.height&&(t.height="".concat(this.size.height,"px")),this.transitions&&this.transitions.enabled&&(t.transition="".concat(this.transitions.time,"ms ").concat(this.transitions.timingFunction)),t},wrapperStyle:function(){var t={width:"".concat(this.size.width,"px"),height:"".concat(this.size.height,"px"),left:"calc(50% - ".concat(this.size.width/2,"px)"),top:"calc(50% - ".concat(this.size.height/2,"px)")};return this.transitions&&this.transitions.enabled&&(t.transition="".concat(this.transitions.time,"ms ").concat(this.transitions.timingFunction)),t},imageStyle:function(){if(this.coordinates&&this.image){var t=this.coordinates.width/this.size.width,e=ur(ur({rotate:0,flip:{horizontal:!1,vertical:!1}},this.image.transforms),{},{scaleX:1/t,scaleY:1/t}),i=this.imageSize.width,n=this.imageSize.height,r=lo({width:i,height:n},e.rotate),o={width:"".concat(i,"px"),height:"".concat(n,"px"),left:"0px",top:"0px"},s={rotate:{left:(i-r.width)*e.scaleX/2,top:(n-r.height)*e.scaleY/2},scale:{left:(1-e.scaleX)*i/2,top:(1-e.scaleY)*n/2}};return o.transform="translate(\n\t\t\t\t".concat(-this.coordinates.left/t-s.rotate.left-s.scale.left,"px,").concat(-this.coordinates.top/t-s.rotate.top-s.scale.top,"px) ")+Jo(e),this.transitions&&this.transitions.enabled&&(o.transition="".concat(this.transitions.time,"ms ").concat(this.transitions.timingFunction)),o}return{}},size:function(){return{width:this.width||this.calculatedSize.width,height:this.height||this.calculatedSize.height}},imageSize:function(){return{width:this.image.width||this.calculatedImageSize.width,height:this.image.height||this.calculatedImageSize.height}}},watch:{image:function(t){(t.width||t.height)&&this.onChangeImage()}},mounted:function(){var t=this;this.onChangeImage(),this.$refs.image.addEventListener("load",(function(){t.refreshImage()})),window.addEventListener("resize",this.refresh),window.addEventListener("orientationchange",this.refresh)},destroyed:function(){window.removeEventListener("resize",this.refresh),window.removeEventListener("orientationchange",this.refresh)},methods:{refreshImage:function(){var t=this.$refs.image;this.calculatedImageSize.height=t.naturalHeight,this.calculatedImageSize.width=t.naturalWidth},refresh:function(){var t=this.$refs.root;this.width||(this.calculatedSize.width=t.clientWidth),this.height||(this.calculatedSize.height=t.clientHeight)},onChangeImage:function(){var t=this.$refs.image;t&&t.complete&&this.refreshImage(),this.refresh()}}},void 0,!1,void 0,!1,void 0,void 0,void 0),ns=Mr({render:function(){var t=this,e=t.$createElement;return(t._self._c||e)("preview",t._b({attrs:{fill:!0}},"preview",t.$attrs,!1))},staticRenderFns:[]},void 0,{components:{Preview:is},inheritAttrs:!1},void 0,!1,void 0,!1,void 0,void 0,void 0),rs=mr("vue-rectangle-stencil"),os=Mr({render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{class:t.classes.stencil,style:t.style},[i("bounding-box",{class:t.classes.boundingBox,attrs:{width:t.stencilCoordinates.width,height:t.stencilCoordinates.height,transitions:t.transitions,handlers:t.handlers,"handlers-component":t.handlersComponent,"handlers-classes":t.handlersClasses,"handlers-wrappers-classes":t.handlersWrappersClasses,lines:t.lines,"lines-component":t.linesComponent,"lines-classes":t.linesClasses,"lines-wrappers-classes":t.linesWrappersClasses,resizable:t.resizable},on:{resize:t.onResize,"resize-end":t.onResizeEnd}},[i("draggable-area",{attrs:{movable:t.movable},on:{move:t.onMove,"move-end":t.onMoveEnd}},[i("stencil-preview",{class:t.classes.preview,attrs:{image:t.image,coordinates:t.coordinates,width:t.stencilCoordinates.width,height:t.stencilCoordinates.height,transitions:t.transitions}})],1)],1)],1)},staticRenderFns:[]},void 0,{name:"RectangleStencil",components:{StencilPreview:ns,BoundingBox:Ko,DraggableArea:Go},props:{image:{type:Object},coordinates:{type:Object},stencilCoordinates:{type:Object},handlers:{type:Object},handlersComponent:{type:[Object,String],default:function(){return Ro}},lines:{type:Object},linesComponent:{type:[Object,String],default:function(){return No}},aspectRatio:{type:[Number,String]},minAspectRatio:{type:[Number,String]},maxAspectRatio:{type:[Number,String]},movable:{type:Boolean,default:!0},resizable:{type:Boolean,default:!0},transitions:{type:Object},movingClass:{type:String},resizingClass:{type:String},previewClass:{type:String},boundingBoxClass:{type:String},linesClasses:{type:Object,default:function(){return{}}},linesWrappersClasses:{type:Object,default:function(){return{}}},handlersClasses:{type:Object,default:function(){return{}}},handlersWrappersClasses:{type:Object,default:function(){return{}}}},data:function(){return{moving:!1,resizing:!1}},computed:{classes:function(){return{stencil:vr(rs({movable:this.movable,moving:this.moving,resizing:this.resizing}),this.moving&&this.movingClass,this.resizing&&this.resizingClass),preview:vr(rs("preview"),this.previewClass),boundingBox:vr(rs("bounding-box"),this.boundingBoxClass)}},style:function(){var t=this.stencilCoordinates,e=t.height,i=t.width,n=t.left,r=t.top,o={width:"".concat(i,"px"),height:"".concat(e,"px"),transform:"translate(".concat(n,"px, ").concat(r,"px)")};return this.transitions&&this.transitions.enabled&&(o.transition="".concat(this.transitions.time,"ms ").concat(this.transitions.timingFunction)),o}},methods:{onMove:function(t){this.$emit("move",t),this.moving=!0},onMoveEnd:function(){this.$emit("move-end"),this.moving=!1},onResize:function(t){this.$emit("resize",t),this.resizing=!0},onResizeEnd:function(){this.$emit("resize-end"),this.resizing=!1},aspectRatios:function(){return{minimum:this.aspectRatio||this.minAspectRatio,maximum:this.aspectRatio||this.maxAspectRatio}}}},void 0,!1,void 0,!1,void 0,void 0,void 0),ss=mr("vue-circle-stencil"),as=Mr({render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{class:t.classes.stencil,style:t.style},[i("bounding-box",{class:t.classes.boundingBox,attrs:{width:t.stencilCoordinates.width,height:t.stencilCoordinates.height,transitions:t.transitions,handlers:t.handlers,"handlers-component":t.handlersComponent,"handlers-classes":t.handlersClasses,"handlers-wrappers-classes":t.handlersWrappersClasses,lines:t.lines,"lines-component":t.linesComponent,"lines-classes":t.linesClasses,"lines-wrappers-classes":t.linesWrappersClasses,resizable:t.resizable},on:{resize:t.onResize,"resize-end":t.onResizeEnd}},[i("draggable-area",{attrs:{movable:t.movable},on:{move:t.onMove,"move-end":t.onMoveEnd}},[i("stencil-preview",{class:t.classes.preview,attrs:{image:t.image,coordinates:t.coordinates,width:t.stencilCoordinates.width,height:t.stencilCoordinates.height,transitions:t.transitions}})],1)],1)],1)},staticRenderFns:[]},void 0,{components:{StencilPreview:ns,BoundingBox:Ko,DraggableArea:Go},props:{image:{type:Object},coordinates:{type:Object},stencilCoordinates:{type:Object},handlers:{type:Object,default:function(){return{eastNorth:!0,westNorth:!0,westSouth:!0,eastSouth:!0}}},handlersComponent:{type:[Object,String],default:function(){return Ro}},handlersClasses:{type:Object,default:function(){return{}}},handlersWrappersClasses:{type:Object,default:function(){return{}}},lines:{type:Object},linesComponent:{type:[Object,String],default:function(){return No}},linesClasses:{type:Object,default:function(){return{}}},linesWrappersClasses:{type:Object,default:function(){return{}}},movable:{type:Boolean,default:!0},resizable:{type:Boolean,default:!0},transitions:{type:Object},movingClass:{type:String},resizingClass:{type:String},previewClass:{type:String},boundingBoxClass:{type:String}},data:function(){return{moving:!1,resizing:!1}},computed:{classes:function(){return{stencil:vr(ss({movable:this.movable,moving:this.moving,resizing:this.resizing}),this.moving&&this.movingClass,this.resizing&&this.resizingClass),preview:vr(ss("preview"),this.previewClass),boundingBox:vr(ss("bounding-box"),this.boundingBoxClass)}},style:function(){var t=this.stencilCoordinates,e=t.height,i=t.width,n=t.left,r=t.top,o={width:"".concat(i,"px"),height:"".concat(e,"px"),transform:"translate(".concat(n,"px, ").concat(r,"px)")};return this.transitions&&this.transitions.enabled&&(o.transition="".concat(this.transitions.time,"ms ").concat(this.transitions.timingFunction)),o}},methods:{onMove:function(t){this.$emit("move",t),this.moving=!0},onMoveEnd:function(){this.$emit("move-end"),this.moving=!1},onResize:function(t){this.$emit("resize",t),this.resizing=!0},onResizeEnd:function(){this.$emit("resize-end"),this.resizing=!1},aspectRatios:function(){return{minimum:1,maximum:1}}}},void 0,!1,void 0,!1,void 0,void 0,void 0),As=mr("vue-advanced-cropper"),cs=Mr({render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{ref:"cropper",class:t.classes.cropper},[i("div",{ref:"stretcher",class:t.classes.stretcher}),t._v(" "),i("div",{class:t.classes.boundaries,style:t.boundariesStyle},[i("cropper-wrapper",{class:t.classes.cropperWrapper,attrs:{"wheel-resize":t.settings.resizeImage.wheel,"touch-resize":t.settings.resizeImage.touch,"touch-move":t.settings.moveImage.touch,"mouse-move":t.settings.moveImage.mouse},on:{move:t.onManipulateImage,resize:t.onManipulateImage}},[i("div",{class:t.classes.background,style:t.boundariesStyle}),t._v(" "),i("div",{class:t.classes.imageWrapper},[i("img",{ref:"image",class:t.classes.image,style:t.imageStyle,attrs:{crossorigin:t.imageAttributes.crossOrigin,src:t.imageAttributes.src},on:{mousedown:function(t){t.preventDefault()}}})]),t._v(" "),i("div",{class:t.classes.foreground,style:t.boundariesStyle}),t._v(" "),i(t.stencilComponent,t._b({directives:[{name:"show",rawName:"v-show",value:t.imageLoaded,expression:"imageLoaded"}],ref:"stencil",tag:"component",attrs:{image:t.image,coordinates:t.coordinates,"stencil-coordinates":t.stencilCoordinates,transitions:t.transitionsOptions},on:{resize:t.onResize,"resize-end":t.onResizeEnd,move:t.onMove,"move-end":t.onMoveEnd}},"component",t.stencilProps,!1)),t._v(" "),t.canvas?i("canvas",{ref:"canvas",style:{display:"none"}}):t._e(),t._v(" "),t.canvas?i("canvas",{ref:"sourceCanvas",style:{display:"none"}}):t._e()],1)],1)])},staticRenderFns:[]},void 0,{name:"Cropper",components:{CropperWrapper:ts},props:{src:{type:String,default:null},stencilComponent:{type:[Object,String],default:function(){return os}},stencilProps:{type:Object,default:function(){return{}}},autoZoom:{type:Boolean,default:!1},imageClass:{type:String},boundariesClass:{type:String},backgroundClass:{type:String},foregroundClass:{type:String},minWidth:{type:[Number,String]},minHeight:{type:[Number,String]},maxWidth:{type:[Number,String]},maxHeight:{type:[Number,String]},debounce:{type:[Boolean,Number],default:500},transitions:{type:Boolean,default:!0},checkOrientation:{type:Boolean,default:!0},canvas:{type:[Object,Boolean],default:!0},crossOrigin:{type:[Boolean,String],default:void 0},transitionTime:{type:Number,default:300},imageRestriction:{type:String,default:"fit-area",validator:function(t){return-1!==Gr.indexOf(t)}},roundResult:{type:Boolean,default:!0},defaultSize:{type:[Function,Object]},defaultPosition:{type:[Function,Object],default:function(t){var e=t.imageSize,i=t.visibleArea,n=t.coordinates,r=i||e;return{left:(i?i.left:0)+r.width/2-n.width/2,top:(i?i.top:0)+r.height/2-n.height/2}}},defaultVisibleArea:{type:[Function,Object],default:function(t){var e=t.getAreaRestrictions,i=t.coordinates,n=t.imageSize,r=oo(t.boundaries);if(i){var o={height:Math.max(i.height,n.height),width:Math.max(i.width,n.width)},s=co({width:oo(o)>r?o.width:o.height*r,height:oo(o)>r?o.width/r:o.height},po(e())),a={left:i.left+i.width/2-s.width/2,top:i.top+i.height/2-s.height/2,width:s.width,height:s.height},A=to(i,$r(br({left:0,top:0},n))),c={};return!A.left&&!A.right&&a.width<=n.width&&(c.left=0,c.right=n.width),!A.top&&!A.bottom&&a.height<=n.height&&(c.top=0,c.bottom=n.height),fo(a,c)}var l=oo(n);return s={height:l>r?n.height:n.width/r,width:l>r?n.height*r:n.width},{left:n.width/2-s.width/2,top:n.height/2-s.height/2,width:s.width,height:s.height}}},defaultBoundaries:{type:[Function,String],validator:function(t){return!("string"==typeof t&&"fill"!==t&&"fit"!==t)}},priority:{type:String,default:"coordinates"},stencilSize:{type:[Object,Function]},resizeImage:{type:[Boolean,Object],default:!0},moveImage:{type:[Boolean,Object],default:!0},autoZoomAlgorithm:{type:Function},resizeAlgorithm:{type:Function,default:function(t){var e=t.event,i=t.coordinates,n=t.aspectRatio,r=t.positionRestrictions,o=t.sizeRestrictions,s=br(br({},i),{right:i.left+i.width,bottom:i.top+i.height}),a=e.params||{},A=br({},e.directions),c=a.allowedDirections||{left:!0,right:!0,bottom:!0,top:!0};o.widthFrozen&&(A.left=0,A.right=0),o.heightFrozen&&(A.top=0,A.bottom=0),Kr.forEach((function(t){c[t]||(A[t]=0)}));var l=eo(s,A=Ho({coordinates:s,directions:A,sizeRestrictions:o,positionRestrictions:r})).width,u=eo(s,A).height,h=a.preserveRatio?oo(s):Ao(l/u,n);if(h){var f=a.respectDirection;if(f||(f=s.width>=s.height||1===h?"width":"height"),"width"===f){var d=l/h-s.height;if(c.top&&c.bottom){var p=A.top,g=A.bottom;A.bottom=Do(d,g,p),A.top=Do(d,p,g)}else c.bottom?A.bottom=d:c.top?A.top=d:c.right?A.right=0:c.left&&(A.left=0)}else if("height"===f){var v=s.width-u*h;if(c.left&&c.right){var m=A.left,w=A.right;A.left=-Do(v,m,w),A.right=-Do(v,w,m)}else c.left?A.left=-v:c.right?A.right=-v:c.top?A.top=0:c.bottom&&(A.bottom=0)}A=Ho({directions:A,coordinates:s,sizeRestrictions:o,positionRestrictions:r,preserveRatio:!0,compensate:a.compensate})}return l=eo(s,A).width,u=eo(s,A).height,(h=a.preserveRatio?oo(s):Ao(l/u,n))&&Math.abs(h-l/u)>.001&&Kr.forEach((function(t){c[t]||(A[t]=0)})),Bo({event:new kr({left:-A.left,top:-A.top}),coordinates:{width:i.width+A.right+A.left,height:i.height+A.top+A.bottom,left:i.left,top:i.top},positionRestrictions:r})}},moveAlgorithm:{type:Function,default:Bo},initStretcher:{type:Function,default:function(t){var e=t.stretcher,i=t.imageSize,n=oo(i);e.style.width=i.width+"px",e.style.height=e.clientWidth/n+"px",e.style.width=e.clientWidth+"px"}},fitCoordinates:{type:Function,default:function(t){var e=t.visibleArea,i=t.coordinates,n=t.aspectRatio,r=t.sizeRestrictions,o=t.positionRestrictions,s=br(br({},i),bo({width:i.width,height:i.height,aspectRatio:n,sizeRestrictions:{maxWidth:e.width,maxHeight:e.height,minHeight:Math.min(e.height,r.minHeight),minWidth:Math.min(e.width,r.minWidth)}}));return fo(s=no(s,qr(Zr(i),Zr(s))),mo($r(e),o))}},fitVisibleArea:{type:Function,default:function(t){var e=t.visibleArea,i=t.boundaries,n=t.getAreaRestrictions,r=t.coordinates,o=br({},e);o.height=o.width/oo(i),o.top+=(e.height-o.height)/2,(r.height-o.height>0||r.width-o.width>0)&&(o=ro(o,Math.max(r.height/o.height,r.width/o.width)));var s=io(ao(r,$r(o=ro(o,ho(o,n({visibleArea:o,type:"resize"}))))));return o.width<r.width&&(s.left=0),o.height<r.height&&(s.top=0),fo(o=no(o,s),n({visibleArea:o,type:"move"}))}},areaRestrictionsAlgorithm:{type:Function,default:function(t){var e=t.visibleArea,i=t.boundaries,n=t.imageSize,r=t.imageRestriction,o=t.type,s={};return"fill-area"===r?s={left:0,top:0,right:n.width,bottom:n.height}:"fit-area"===r&&(oo(i)>oo(n)?(s={top:0,bottom:n.height},e&&"move"===o&&(e.width>n.width?(s.left=-(e.width-n.width)/2,s.right=n.width-s.left):(s.left=0,s.right=n.width))):(s={left:0,right:n.width},e&&"move"===o&&(e.height>n.height?(s.top=-(e.height-n.height)/2,s.bottom=n.height-s.top):(s.top=0,s.bottom=n.height)))),s}},sizeRestrictionsAlgorithm:{type:Function,default:function(t){return{minWidth:t.minWidth,minHeight:t.minHeight,maxWidth:t.maxWidth,maxHeight:t.maxHeight}}},positionRestrictionsAlgorithm:{type:Function,default:function(t){var e=t.imageSize,i={};return"none"!==t.imageRestriction&&(i={left:0,top:0,right:e.width,bottom:e.height}),i}},maxCanvasSize:{type:Number,validator:function(t){return _r(t),!0}}},data:function(){return{transitionsActive:!1,imageLoaded:!1,imageAttributes:{width:null,height:null,crossOrigin:!1,src:null},customImageTransforms:{rotate:0,flip:{horizontal:!1,vertical:!1}},basicImageTransforms:{rotate:0,flip:{horizontal:!1,vertical:!1}},boundaries:{width:0,height:0},visibleArea:null,coordinates:ur({},Yr)}},computed:{image:function(){return{src:this.imageAttributes.src,width:this.imageAttributes.width,height:this.imageAttributes.height,transforms:this.imageTransforms}},imageTransforms:function(){return{rotate:this.basicImageTransforms.rotate+this.customImageTransforms.rotate,flip:{horizontal:Boolean(this.basicImageTransforms.flip.horizontal^this.customImageTransforms.flip.horizontal),vertical:Boolean(this.basicImageTransforms.flip.vertical^this.customImageTransforms.flip.vertical)},translateX:this.visibleArea?this.visibleArea.left/this.coefficient:0,translateY:this.visibleArea?this.visibleArea.top/this.coefficient:0,scaleX:1/this.coefficient,scaleY:1/this.coefficient}},imageSize:function(){var t=function(t){return t*Math.PI/180}(this.imageTransforms.rotate);return{width:Math.abs(this.imageAttributes.width*Math.cos(t))+Math.abs(this.imageAttributes.height*Math.sin(t)),height:Math.abs(this.imageAttributes.width*Math.sin(t))+Math.abs(this.imageAttributes.height*Math.cos(t))}},initialized:function(){return Boolean(this.visibleArea&&this.imageLoaded)},settings:function(){var t=Tr(this.resizeImage,{touch:!0,wheel:{ratio:.1},adjustStencil:!0},{touch:!1,wheel:!1,adjustStencil:!1});return{moveImage:Tr(this.moveImage,{touch:!0,mouse:!0},{touch:!1,mouse:!1}),resizeImage:t}},coefficient:function(){return this.visibleArea?this.visibleArea.width/this.boundaries.width:0},areaRestrictions:function(){return this.imageLoaded?this.areaRestrictionsAlgorithm({imageSize:this.imageSize,imageRestriction:this.imageRestriction,boundaries:this.boundaries}):{}},transitionsOptions:function(){return{enabled:this.transitionsActive,timingFunction:"ease-in-out",time:350}},sizeRestrictions:function(){if(this.boundaries.width&&this.boundaries.height&&this.imageSize.width&&this.imageSize.height){var t=this.sizeRestrictionsAlgorithm({imageSize:this.imageSize,minWidth:_r(this.minWidth)?0:Fr(this.minWidth),minHeight:_r(this.minHeight)?0:Fr(this.minHeight),maxWidth:_r(this.maxWidth)?1/0:Fr(this.maxWidth),maxHeight:_r(this.maxHeight)?1/0:Fr(this.maxHeight)});if(t=function(t){var e=t.areaRestrictions,i=t.sizeRestrictions,n=(t.imageSize,t.boundaries),r=t.positionRestrictions,o=(t.imageRestriction,br(br({},i),{minWidth:void 0!==i.minWidth?i.minWidth:0,minHeight:void 0!==i.minHeight?i.minHeight:0,maxWidth:void 0!==i.maxWidth?i.maxWidth:1/0,maxHeight:void 0!==i.maxHeight?i.maxHeight:1/0}));void 0!==r.left&&void 0!==r.right&&(o.maxWidth=Math.min(o.maxWidth,r.right-r.left)),void 0!==r.bottom&&void 0!==r.top&&(o.maxHeight=Math.min(o.maxHeight,r.bottom-r.top));var s=po(e),a=co(n,s);return s.width<1/0&&(!o.maxWidth||o.maxWidth>a.width)&&(o.maxWidth=Math.min(o.maxWidth,a.width)),s.height<1/0&&(!o.maxHeight||o.maxHeight>a.height)&&(o.maxHeight=Math.min(o.maxHeight,a.height)),o.minWidth>o.maxWidth&&(o.minWidth=o.maxWidth,o.widthFrozen=!0),o.minHeight>o.maxHeight&&(o.minHeight=o.maxHeight,o.heightFrozen=!0),o}({sizeRestrictions:t,areaRestrictions:this.getAreaRestrictions({visibleArea:this.visibleArea,type:"resize"}),imageSize:this.imageSize,boundaries:this.boundaries,positionRestrictions:this.positionRestrictions,imageRestriction:this.imageRestriction,visibleArea:this.visibleArea,stencilSize:this.getStencilSize()}),this.visibleArea&&this.stencilSize){var e=this.getStencilSize(),i=po(this.getAreaRestrictions({visibleArea:this.visibleArea,type:"resize"}));t.maxWidth=Math.min(t.maxWidth,i.width*e.width/this.boundaries.width),t.maxHeight=Math.min(t.maxHeight,i.height*e.height/this.boundaries.height),t.maxWidth<t.minWidth&&(t.minWidth=t.maxWidth),t.maxHeight<t.minHeight&&(t.minHeight=t.maxHeight)}return t}return{minWidth:0,minHeight:0,maxWidth:0,maxHeight:0}},positionRestrictions:function(){return this.positionRestrictionsAlgorithm({imageSize:this.imageSize,imageRestriction:this.imageRestriction})},classes:function(){return{cropper:As(),image:vr(As("image"),this.imageClass),stencil:As("stencil"),boundaries:vr(As("boundaries"),this.boundariesClass),stretcher:vr(As("stretcher")),background:vr(As("background"),this.backgroundClass),foreground:vr(As("foreground"),this.foregroundClass),imageWrapper:vr(As("image-wrapper")),cropperWrapper:vr(As("cropper-wrapper"))}},stencilCoordinates:function(){if(this.initialized){var t=this.coordinates,e=t.width,i=t.height,n=t.left,r=t.top;return{width:e/this.coefficient,height:i/this.coefficient,left:(n-this.visibleArea.left)/this.coefficient,top:(r-this.visibleArea.top)/this.coefficient}}return this.defaultCoordinates()},boundariesStyle:function(){var t={width:this.boundaries.width?"".concat(Math.round(this.boundaries.width),"px"):"auto",height:this.boundaries.height?"".concat(Math.round(this.boundaries.height),"px"):"auto",transition:"opacity ".concat(this.transitionTime,"ms"),pointerEvents:this.imageLoaded?"all":"none"};return this.imageLoaded||(t.opacity="0"),t},imageStyle:function(){var t=this.imageAttributes.width>this.imageAttributes.height?{width:Math.min(1024,this.imageAttributes.width),height:Math.min(1024,this.imageAttributes.width)/(this.imageAttributes.width/this.imageAttributes.height)}:{height:Math.min(1024,this.imageAttributes.height),width:Math.min(1024,this.imageAttributes.height)*(this.imageAttributes.width/this.imageAttributes.height)},e={left:(t.width-this.imageSize.width)/(2*this.coefficient),top:(t.height-this.imageSize.height)/(2*this.coefficient)},i={left:(1-1/this.coefficient)*t.width/2,top:(1-1/this.coefficient)*t.height/2},n=ur(ur({},this.imageTransforms),{},{scaleX:this.imageTransforms.scaleX*(this.imageAttributes.width/t.width),scaleY:this.imageTransforms.scaleY*(this.imageAttributes.height/t.height)}),r={width:"".concat(t.width,"px"),height:"".concat(t.height,"px"),left:"0px",top:"0px",transform:"translate(".concat(-e.left-i.left-this.imageTransforms.translateX,"px, ").concat(-e.top-i.top-this.imageTransforms.translateY,"px)")+Jo(n)};return this.transitionsOptions.enabled&&(r.transition="".concat(this.transitionsOptions.time,"ms ").concat(this.transitionsOptions.timingFunction)),r}},watch:{src:function(){this.onChangeImage()},stencilComponent:function(){var t=this;this.$nextTick((function(){t.resetCoordinates(),t.runAutoZoom("setCoordinates"),t.onChange()}))},minWidth:function(){this.onPropsChange()},maxWidth:function(){this.onPropsChange()},minHeight:function(){this.onPropsChange()},maxHeight:function(){this.onPropsChange()},imageRestriction:function(){this.reset()},stencilProps:function(t,e){["aspectRatio","minAspectRatio","maxAspectRatio"].find((function(i){return t[i]!==e[i]}))&&this.$nextTick(this.onPropsChange)}},created:function(){this.debouncedUpdate=yr(this.update,this.debounce),this.debouncedDisableTransitions=yr(this.disableTransitions,this.transitionsOptions.time),this.awaiting=!1},mounted:function(){this.$refs.image.addEventListener("load",this.onSuccessLoadImage),this.$refs.image.addEventListener("error",this.onFailLoadImage),this.onChangeImage(),window.addEventListener("resize",this.refresh),window.addEventListener("orientationchange",this.refresh)},destroyed:function(){window.removeEventListener("resize",this.refresh),window.removeEventListener("orientationchange",this.refresh),this.imageAttributes.revoke&&this.imageAttributes.src&&URL.revokeObjectURL(this.imageAttributes.src)},methods:{getResult:function(){var t=this.initialized?this.prepareResult(ur({},this.coordinates)):this.defaultCoordinates(),e={rotate:this.imageTransforms.rotate%360,flip:ur({},this.imageTransforms.flip)};if(this.src&&this.imageLoaded){var i=this;return{image:this.image,coordinates:t,visibleArea:this.visibleArea?ur({},this.visibleArea):null,imageTransforms:e,get canvas(){return i.canvas?(i.updateCanvas(),i.$refs.canvas):void 0}}}return{image:this.image,coordinates:t,visibleArea:this.visibleArea?ur({},this.visibleArea):null,canvas:void 0,imageTransforms:e}},zoom:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=i.transitions,r=void 0===n||n;this.onManipulateImage(new Dr({},{factor:1/t,center:e}),{normalize:!1,transitions:r})},move:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=i.transitions,r=void 0===n||n;this.onManipulateImage(new Dr({left:t||0,top:e||0}),{normalize:!1,transitions:r})},setCoordinates:function(t){var e=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=i.autoZoom,r=void 0===n||n,o=i.transitions,s=void 0===o||o;this.$nextTick((function(){e.imageLoaded?e.transitionsActive||(s&&e.enableTransitions(),e.coordinates=e.applyTransform(t),r&&e.runAutoZoom("setCoordinates"),s&&e.debouncedDisableTransitions()):e.delayedTransforms=t}))},refresh:function(){var t=this.$refs.image;if(this.src&&t)return this.initialized?this.updateVisibleArea():this.reset()},reset:function(){return this.resetVisibleArea()},awaitRender:function(t){var e=this;this.awaiting||(this.awaiting=!0,this.$nextTick((function(){t(),e.awaiting=!1})))},prepareResult:function(t){return this.roundResult?function(t){var e=t.coordinates,i=t.sizeRestrictions,n=t.positionRestrictions,r={width:Math.round(e.width),height:Math.round(e.height),left:Math.round(e.left),top:Math.round(e.top)};return r.width>i.maxWidth?r.width=Math.floor(e.width):r.width<i.minWidth&&(r.width=Math.ceil(e.width)),r.height>i.maxHeight?r.height=Math.floor(e.height):r.height<i.minHeight&&(r.height=Math.ceil(e.height)),fo(r,n)}(ur(ur({},this.getPublicProperties()),{},{positionRestrictions:Fo(this.positionRestrictions,this.visibleArea),coordinates:t})):t},processAutoZoom:function(t,e,i,n){var r=this.autoZoomAlgorithm;r||(r=this.stencilSize?Eo:this.autoZoom?xo:_o);var o=r({event:{type:t,params:n},visibleArea:e,coordinates:i,boundaries:this.boundaries,aspectRatio:this.getAspectRatio(),positionRestrictions:this.positionRestrictions,getAreaRestrictions:this.getAreaRestrictions,sizeRestrictions:this.sizeRestrictions,stencilSize:this.getStencilSize()});return ur(ur({},o),{},{changed:!Jr(o.visibleArea,e)||!Jr(o.coordinates,i)})},runAutoZoom:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=e.transitions,n=void 0!==i&&i,r=hr(e,["transitions"]),o=this.processAutoZoom(t,this.visibleArea,this.coordinates,r),s=o.visibleArea,a=o.coordinates,A=o.changed;n&&A&&this.enableTransitions(),this.visibleArea=s,this.coordinates=a,n&&A&&this.debouncedDisableTransitions()},normalizeEvent:function(t){return function(t){var e=t.event,i=t.visibleArea,n=t.coefficient;if("manipulateImage"===e.type)return br(br({},e),{move:{left:e.move&&e.move.left?n*e.move.left:0,top:e.move&&e.move.top?n*e.move.top:0},scale:{factor:e.scale&&e.scale.factor?e.scale.factor:1,center:e.scale&&e.scale.center?{left:e.scale.center.left*n+i.left,top:e.scale.center.top*n+i.top}:null}});if("resize"===e.type){var r=br(br({},e),{directions:br({},e.directions)});return Kr.forEach((function(t){r.directions[t]*=n})),r}if("move"===e.type){var o=br(br({},e),{directions:br({},e.directions)});return Wr.forEach((function(t){o.directions[t]*=n})),o}return e}(ur(ur({},this.getPublicProperties()),{},{event:t}))},updateCanvas:function(){if(this.$refs.canvas){var t=this.$refs.canvas,e=this.$refs.image,i=0!==this.imageTransforms.rotate||this.imageTransforms.flip.horizontal||this.imageTransforms.flip.vertical?function(t,e,i){var n=i.rotate,r=i.flip,o={width:e.naturalWidth,height:e.naturalHeight},s=lo(o,n),a=t.getContext("2d");t.height=s.height,t.width=s.width,a.save();var A=uo(Zr(br({left:0,top:0},o)),n);return a.translate(-(A.left-s.width/2),-(A.top-s.height/2)),a.rotate(n*Math.PI/180),a.translate(r.horizontal?o.width:0,r.vertical?o.height:0),a.scale(r.horizontal?-1:1,r.vertical?-1:1),a.drawImage(e,0,0,o.width,o.height),a.restore(),t}(this.$refs.sourceCanvas,e,this.imageTransforms):e,n=ur({minWidth:0,minHeight:0,maxWidth:1/0,maxHeight:1/0,maxArea:this.maxCanvasSize,imageSmoothingEnabled:!0,imageSmoothingQuality:"medium"},this.canvas),r=bo({sizeRestrictions:{minWidth:Ur(n.minWidth)?n.minWidth:0,minHeight:Ur(n.minHeight)?n.minHeight:0,maxWidth:Ur(n.maxWidth)?n.maxWidth:1/0,maxHeight:Ur(n.maxHeight)?n.maxHeight:1/0},width:this.coordinates.width,height:this.coordinates.height,aspectRatio:{minimum:this.coordinates.width/this.coordinates.height,maximum:this.coordinates.width/this.coordinates.height}});if(n.maxArea&&r.width*r.height>n.maxArea){var o=Math.sqrt(n.maxArea/(r.width*r.height));r={width:Math.round(o*r.width),height:Math.round(o*r.height)}}!function(t,e,i,n,r){t.width=n?n.width:i.width,t.height=n?n.height:i.height;var o=t.getContext("2d");r&&(r.imageSmoothingEnabled&&(o.imageSmoothingEnabled=r.imageSmoothingEnabled),r.imageSmoothingQuality&&(o.imageSmoothingQuality=r.imageSmoothingQuality)),o.clearRect(0,0,t.width,t.height),o.drawImage(e,i.left,i.top,i.width,i.height,0,0,t.width,t.height)}(t,i,this.coordinates,r)}},update:function(){this.$emit("change",this.getResult())},applyTransform:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=this.visibleArea&&e?go(this.sizeRestrictions,this.visibleArea):this.sizeRestrictions,n=this.visibleArea&&e?Fo(this.positionRestrictions,this.visibleArea):this.positionRestrictions;return Co({transform:t,coordinates:this.coordinates,imageSize:this.imageSize,sizeRestrictions:i,positionRestrictions:n,aspectRatio:this.getAspectRatio(),visibleArea:this.visibleArea})},resetCoordinates:function(){var t=this;if(this.$refs.image){this.$refs.cropper,this.$refs.image;var e=this.defaultSize;e||(e=this.stencilSize?To:So);var i=this.sizeRestrictions,n=(i.minWidth,i.minHeight,i.maxWidth,i.maxHeight,[xr(e)?e({boundaries:this.boundaries,imageSize:this.imageSize,aspectRatio:this.getAspectRatio(),sizeRestrictions:this.sizeRestrictions,stencilSize:this.getStencilSize(),visibleArea:this.visibleArea}):e,function(e){var i=e.coordinates;return ur({},xr(t.defaultPosition)?t.defaultPosition({coordinates:i,imageSize:t.imageSize,visibleArea:t.visibleArea}):t.defaultPosition)}]);this.delayedTransforms&&n.push.apply(n,fr(Array.isArray(this.delayedTransforms)?this.delayedTransforms:[this.delayedTransforms])),this.coordinates=this.applyTransform(n,!0),this.delayedTransforms=null}},clearImage:function(){var t=this;this.imageLoaded=!1,setTimeout((function(){var e=t.$refs.stretcher;e&&(e.style.height="auto",e.style.width="auto"),t.coordinates=t.defaultCoordinates(),t.boundaries={width:0,height:0}}),this.transitionTime)},enableTransitions:function(){this.transitions&&(this.transitionsActive=!0)},disableTransitions:function(){this.transitionsActive=!1},updateBoundaries:function(){var t=this,e=this.$refs.stretcher,i=this.$refs.cropper;return this.initStretcher({cropper:i,stretcher:e,imageSize:this.imageSize}),this.$nextTick().then((function(){var e={cropper:i,imageSize:t.imageSize};if(xr(t.defaultBoundaries)?t.boundaries=t.defaultBoundaries(e):"fit"===t.defaultBoundaries?t.boundaries=function(t){var e=t.cropper,i=t.imageSize,n=e.clientHeight,r=e.clientWidth,o=n,s=i.width*n/i.height;return s>r&&(s=r,o=i.height*r/i.width),{width:s,height:o}}(e):t.boundaries=function(t){var e=t.cropper;return{width:e.clientWidth,height:e.clientHeight}}(e),!t.boundaries.width||!t.boundaries.height)throw new Error("It's impossible to fit the cropper in the current container")}))},resetVisibleArea:function(){var t=this;return this.updateBoundaries().then((function(){var e,i,n,r,o,s;"visible-area"!==t.priority&&(t.visibleArea=null,t.resetCoordinates()),t.visibleArea=xr(t.defaultVisibleArea)?t.defaultVisibleArea({imageSize:t.imageSize,boundaries:t.boundaries,coordinates:"visible-area"!==t.priority?t.coordinates:null,getAreaRestrictions:t.getAreaRestrictions,stencilSize:t.getStencilSize()}):t.defaultVisibleArea,t.visibleArea=(e={visibleArea:t.visibleArea,boundaries:t.boundaries,getAreaRestrictions:t.getAreaRestrictions},i=e.visibleArea,n=e.boundaries,r=e.getAreaRestrictions,o=br({},i),s=oo(n),o.width/o.height!==s&&(o.height=o.width/s),fo(o,r({visibleArea:o,type:"move"}))),"visible-area"===t.priority?t.resetCoordinates():t.coordinates=t.fitCoordinates({visibleArea:t.visibleArea,coordinates:t.coordinates,aspectRatio:t.getAspectRatio(),positionRestrictions:t.positionRestrictions,sizeRestrictions:t.sizeRestrictions}),t.runAutoZoom("resetVisibleArea")})).catch((function(){t.visibleArea=null}))},updateVisibleArea:function(){var t=this;return this.updateBoundaries().then((function(){t.visibleArea=t.fitVisibleArea({imageSize:t.imageSize,boundaries:t.boundaries,visibleArea:t.visibleArea,coordinates:t.coordinates,getAreaRestrictions:t.getAreaRestrictions}),t.coordinates=t.fitCoordinates({visibleArea:t.visibleArea,coordinates:t.coordinates,aspectRatio:t.getAspectRatio(),positionRestrictions:t.positionRestrictions,sizeRestrictions:t.sizeRestrictions}),t.runAutoZoom("updateVisibleArea")})).catch((function(){t.visibleArea=null}))},onChange:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.$listeners&&this.$listeners.change&&(t&&this.debounce?this.debouncedUpdate():this.update())},onChangeImage:function(){var t,e=this;if(this.imageLoaded=!1,this.delayedTransforms=null,this.src){if(function(t){if(Er(t))return!1;var e=window.location,i=/(\w+:)?(?:\/\/)([\w.-]+)?(?::(\d+))?\/?/.exec(t)||[],n={protocol:i[1]||"",host:i[2]||"",port:i[3]||""},r=function(t){return t.port||("http"===(t.protocol||e.protocol)?80:433)};return!(!n.protocol&&!n.host&&!n.port||Boolean(n.protocol&&n.protocol==e.protocol&&n.host&&n.host==e.host&&n.host&&r(n)==r(e)))}(this.src)){var i=_r(this.crossOrigin)?this.canvas:this.crossOrigin;!0===i&&(i="anonymous"),this.imageAttributes.crossOrigin=i}if(this.checkOrientation){var n=(t=this.src,new Promise((function(e){Yo(t).then((function(i){var n=$o(i);e(i?{source:t,arrayBuffer:i,orientation:n}:{source:t,arrayBuffer:null,orientation:null})})).catch((function(i){console.warn(i),e({source:t,arrayBuffer:null,orientation:null})}))})));setTimeout((function(){n.then(e.onParseImage)}),this.transitionTime)}else setTimeout((function(){e.onParseImage({source:e.src})}),this.transitionTime)}else this.clearImage()},onFailLoadImage:function(){this.clearImage(),this.$emit("error")},onSuccessLoadImage:function(){var t=this,e=this.$refs.image;e&&!this.imageLoaded&&(this.imageAttributes.height=e.naturalHeight,this.imageAttributes.width=e.naturalWidth,this.imageLoaded=!0,this.reset().then((function(){t.$emit("ready"),t.onChange(!1)})))},onParseImage:function(t){var e=this,i=t.source,n=t.arrayBuffer,r=t.orientation;this.imageAttributes.revoke&&this.imageAttributes.src&&URL.revokeObjectURL(this.imageAttributes.src),this.imageAttributes.revoke=!1,n&&r&&r>1&&Er(i)?Cr(i)?(this.imageAttributes.src=URL.createObjectURL(new Blob([n])),this.imageAttributes.revoke=!0):this.imageAttributes.src=function(t){for(var e=[],i=new Uint8Array(t);i.length>0;){var n=i.subarray(0,8192);e.push(String.fromCharCode.apply(null,Array.from?Array.from(n):n.slice())),i=i.subarray(8192)}return"data:image/jpeg;base64,"+btoa(e.join(""))}(n):this.imageAttributes.src=i,this.customImageTransforms={rotate:0,flip:{horizontal:!1,vertical:!1}},this.basicImageTransforms=ur(ur({},this.customImageTransforms),function(t){var e={flip:{horizontal:!1,vertical:!1},rotate:0};if(t)switch(t){case 2:e.flip.horizontal=!0;break;case 3:e.rotate=-180;break;case 4:e.flip.vertical=!0;break;case 5:e.rotate=90,e.flip.vertical=!0;break;case 6:e.rotate=90;break;case 7:e.rotate=90,e.flip.horizontal=!0;break;case 8:e.rotate=-90}return e}(r)),this.$nextTick((function(){var t=e.$refs.image;t&&t.complete&&(function(t){return Boolean(t.naturalWidth)}(t)?e.onSuccessLoadImage():e.onFailLoadImage())}))},onResizeEnd:function(){this.runAutoZoom("resize",{transitions:!0})},onMoveEnd:function(){this.runAutoZoom("move",{transitions:!0})},onMove:function(t){var e=this;this.transitionsOptions.enabled||this.awaitRender((function(){e.coordinates=e.moveAlgorithm(ur(ur({},e.getPublicProperties()),{},{positionRestrictions:Fo(e.positionRestrictions,e.visibleArea),coordinates:e.coordinates,event:e.normalizeEvent(t)})),e.onChange()}))},onResize:function(t){var e=this;this.transitionsOptions.enabled||this.stencilSize&&!this.autoZoom||this.awaitRender((function(){var i=e.sizeRestrictions,n=Math.min(e.coordinates.width,e.coordinates.height,20*e.coefficient);e.coordinates=e.resizeAlgorithm(ur(ur({},e.getPublicProperties()),{},{positionRestrictions:Fo(e.positionRestrictions,e.visibleArea),sizeRestrictions:{maxWidth:Math.min(i.maxWidth,e.visibleArea.width),maxHeight:Math.min(i.maxHeight,e.visibleArea.height),minWidth:Math.max(i.minWidth,n),minHeight:Math.max(i.minHeight,n)},event:e.normalizeEvent(t)})),e.onChange(),e.ticking=!1}))},onManipulateImage:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!this.transitionsOptions.enabled){var i=e.transitions,n=void 0!==i&&i,r=e.normalize,o=void 0===r||r;n&&this.enableTransitions();var s=Qo(ur(ur({},this.getPublicProperties()),{},{event:o?this.normalizeEvent(t):t,getAreaRestrictions:this.getAreaRestrictions,imageRestriction:this.imageRestriction,adjustStencil:!this.stencilSize&&this.settings.resizeImage.adjustStencil})),a=s.visibleArea,A=s.coordinates;this.visibleArea=a,this.coordinates=A,this.runAutoZoom("manipulateImage"),this.onChange(),n&&this.debouncedDisableTransitions()}},onPropsChange:function(){this.coordinates=this.applyTransform(this.coordinates,!0),this.onChange(!1)},getAreaRestrictions:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.visibleArea,i=t.type,n=void 0===i?"move":i;return this.areaRestrictionsAlgorithm({boundaries:this.boundaries,imageSize:this.imageSize,imageRestriction:this.imageRestriction,visibleArea:e,type:n})},getAspectRatio:function(t){var e,i,n=this.stencilProps,r=n.aspectRatio,o=n.minAspectRatio,s=n.maxAspectRatio;if(this.$refs.stencil.aspectRatios){var a=this.$refs.stencil.aspectRatios();e=a.minimum,i=a.maximum}if(_r(e)&&(e=_r(r)?o:r),_r(i)&&(i=_r(r)?s:r),!t&&(_r(e)||_r(i))){var A=this.getStencilSize(),c=A?oo(A):null;_r(e)&&(e=Qr(c)?c:void 0),_r(i)&&(i=Qr(c)?c:void 0)}return{minimum:e,maximum:i}},getStencilSize:function(){if(this.stencilSize)return t={currentStencilSize:{width:this.stencilCoordinates.width,height:this.stencilCoordinates.height},stencilSize:this.stencilSize,boundaries:this.boundaries,coefficient:this.coefficient,coordinates:this.coordinates,aspectRatio:this.getAspectRatio(!0)},e=t.boundaries,i=t.stencilSize,n=t.aspectRatio,Ao(oo(r=xr(i)?i({boundaries:e,aspectRatio:n}):i),n)&&(r=bo({sizeRestrictions:{maxWidth:e.width,maxHeight:e.height,minWidth:0,minHeight:0},width:r.width,height:r.height,aspectRatio:{minimum:n.minimum,maximum:n.maximum}})),(r.width>e.width||r.height>e.height)&&(r=bo({sizeRestrictions:{maxWidth:e.width,maxHeight:e.height,minWidth:0,minHeight:0},width:r.width,height:r.height,aspectRatio:{minimum:oo(r),maximum:oo(r)}})),r;var t,e,i,n,r},getPublicProperties:function(){return{coefficient:this.coefficient,visibleArea:this.visibleArea,coordinates:this.coordinates,boundaries:this.boundaries,sizeRestrictions:this.sizeRestrictions,positionRestrictions:this.positionRestrictions,aspectRatio:this.getAspectRatio(),imageRestriction:this.imageRestriction}},defaultCoordinates:function(){return ur({},Yr)},flip:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=i.transitions,r=void 0===n||n;if(!this.transitionsActive){r&&this.enableTransitions();var o=ur({},this.imageTransforms.flip),s=Oo({flip:{horizontal:t?!o.horizontal:o.horizontal,vertical:e?!o.vertical:o.vertical},previousFlip:o,rotate:this.imageTransforms.rotate,visibleArea:this.visibleArea,coordinates:this.coordinates,imageSize:this.imageSize,positionRestrictions:this.positionRestrictions,sizeRestrictions:this.sizeRestrictions,getAreaRestrictions:this.getAreaRestrictions,aspectRatio:this.getAspectRatio()}),a=s.visibleArea,A=s.coordinates;t&&(this.customImageTransforms.flip.horizontal=!this.customImageTransforms.flip.horizontal),e&&(this.customImageTransforms.flip.vertical=!this.customImageTransforms.flip.vertical),this.visibleArea=a,this.coordinates=A,this.onChange(),r&&this.debouncedDisableTransitions()}},rotate:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=e.transitions,n=void 0===i||i;if(!this.transitionsActive){n&&this.enableTransitions();var r=ur({},this.imageSize);this.customImageTransforms.rotate+=t;var o=Uo({visibleArea:this.visibleArea,coordinates:this.coordinates,previousImageSize:r,imageSize:this.imageSize,angle:t,positionRestrictions:this.positionRestrictions,sizeRestrictions:this.sizeRestrictions,getAreaRestrictions:this.getAreaRestrictions,aspectRatio:this.getAspectRatio()}),s=o.visibleArea,a=o.coordinates,A=this.processAutoZoom("rotateImage",s,a);s=A.visibleArea,a=A.coordinates,this.visibleArea=s,this.coordinates=a,this.onChange(),n&&this.debouncedDisableTransitions()}}}},void 0,!1,void 0,!1,void 0,void 0,void 0);B.a.component("cropper",cs),B.a.component("rectangle-stencil",os),B.a.component("circle-stencil",as),B.a.component("simple-handler",Ro),B.a.component("simple-line",No);i("f7aa");var ls=function(t){var e={icon:"rotate_left",label:"Rotate left",rounded:!0,name:"vuoz:cropper:rotate:left",target:t,onDown:function(t){t.rotate(-90)}},i={icon:"rotate_right",label:"Rotate right",rounded:!0,name:"vuoz:cropper:rotate:right",target:t,onDown:function(t){t.rotate(90)}},n={icon:"flip",label:"Flip horizontal",rounded:!0,name:"vuoz:toolbar:flip:horizontal",target:t,onDown:function(t){t.flip(!0,!1)}},r={icon:"<div style='transform: rotate(-90deg);'>flip</span>",label:"Flip vertical",rounded:!0,name:"vuoz:toolbar:flip:vertical",target:t,onDown:function(t){t.flip(!1,!0)}},o={icon:"refresh",label:"Reset",rounded:!0,name:"vuoz:toolbar:reset",target:t,onDown:function(t){t.reset()}};return[e,i,{role:"separator"},n,r,{role:"spacer"},o]},us=function(t){h(i,t);var e=w(i);function i(){var t;return A(this,i),t=e.apply(this,arguments),t.toolbarItems=ls(v(t)),t.stencilComponent=os,t.handlers={eastNorth:!0,north:!0,westNorth:!0,west:!0,westSouth:!0,south:!0,eastSouth:!0,east:!0},t.handlersClasses={default:"vuoz-cropper-handler",eastNorth:"vuoz-cropper-handler--east-north",westNorth:"vuoz-cropper-handler--west-north",eastSouth:"vuoz-cropper-handler--east-south",westSouth:"vuoz-cropper-handler--west-south"},t.lines={north:!0,west:!0,south:!0,east:!0},t.img="",t}return l(i,[{key:"onSrcChange",value:function(){var t=this;this.$nextTick((function(){t.img=t.src}))}},{key:"onStencilChange",value:function(){switch(this.stencil){case"rectangle":this.stencilComponent=os,this.showHandlers&&(this.lines={north:!0,west:!0,south:!0,east:!0});break;case"circle":this.stencilComponent=as,this.lines={north:!1,west:!1,south:!1,east:!1};break}}},{key:"onHandlersChange",value:function(){!0===this.showHandlers?"rectangle"===this.stencil?(this.handlers={eastNorth:!0,north:!0,westNorth:!0,west:!0,westSouth:!0,south:!0,eastSouth:!0,east:!0},this.lines={north:!0,west:!0,south:!0,east:!0}):this.handlers={eastNorth:!1,north:!0,westNorth:!1,west:!0,westSouth:!1,south:!0,eastSouth:!1,east:!0}:(this.handlers={eastNorth:!1,north:!1,westNorth:!1,west:!1,westSouth:!1,south:!1,eastSouth:!1,east:!1},this.lines={north:!1,west:!1,south:!1,east:!1})}},{key:"onChange",value:function(t){this.$emit("change",{coordinates:t.coordinates,canvas:t.canvas})}},{key:"refresh",value:function(){this.$refs.cropper.refresh()}},{key:"reset",value:function(){this.$refs.cropper.reset()}},{key:"rotate",value:function(t){this.$refs.cropper.rotate(t)}},{key:"flip",value:function(t,e){this.$refs.cropper.flip(t,e)}},{key:"getResult",value:function(){return this.$refs.cropper.getResult()}}]),i}(B.a);y([V({type:String})],us.prototype,"cropperClass",void 0),y([V({type:String,required:!0})],us.prototype,"src",void 0),y([V({type:String,default:"rectangle"})],us.prototype,"stencil",void 0),y([V({type:Boolean,default:!0})],us.prototype,"showHandlers",void 0),y([V({type:Boolean,default:!0})],us.prototype,"showToolbar",void 0),y([V({type:Object,default:function(){return{}}})],us.prototype,"options",void 0),y([W("src",{immediate:!0})],us.prototype,"onSrcChange",null),y([W("stencil",{immediate:!0})],us.prototype,"onStencilChange",null),y([W("showHandlers",{immediate:!0})],us.prototype,"onHandlersChange",null),us=y([j({name:"VuozCropper",components:{Cropper:cs,CircleStencil:as,RectangleStencil:os,VuozToolbar:Ar}})],us);var hs=us,fs=hs,ds=(i("b0f7"),on(fs,$n,qn,!1,null,null,null)),ps=ds.exports,gs=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"vuoz-loading__bar is-fullwidth has-background-medium-grey",class:"is-"+t.size},[i("div",{ref:"progress",staticClass:"vuoz-loading__bar-progress",class:"is-"+t.size})])},vs=[],ms=(i("a9e3"),function(t){h(i,t);var e=w(i);function i(){return A(this,i),e.apply(this,arguments)}return l(i,[{key:"onProgressChange",value:function(){this.$refs.progress.style.setProperty("--vuoz-progress__bar","".concat(Math.ceil(100*this.progress),"%"))}}]),i}(B.a));y([V({type:String,default:"normal"})],ms.prototype,"size",void 0),y([V({type:Number,required:!0})],ms.prototype,"progress",void 0),y([W("progress")],ms.prototype,"onProgressChange",null),ms=y([j({name:"VuozLoadingBar"})],ms);var ws=ms,ys=ws,bs=(i("e679"),on(ys,gs,vs,!1,null,"2d914f95",null)),Bs=bs.exports,Cs=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"vuoz-tabs has-background-darker-grey"},[i("vuoz-tab-bar",{attrs:{size:t.size,showAdd:t.showAdd,draggable:t.draggable,tabs:t.tabs,selected:t.selected},on:{select:t.onSelect,close:t.onClose,addtab:t.onAddTab,dragged:t.onTabDragged}}),i("keep-alive",[i("vuoz-tab-content",{key:t.getKey(),attrs:{selected:t.selected,component:t.getComponent(),content:t.getContent()}})],1)],1)},Es=[],xs=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"vuoz-tab-bar",class:t.getClasses()},[i("div",{staticClass:"vuoz-tabs-container"},[i("draggable",{staticClass:"draggable",attrs:{value:t.tabs,delayOnTouchOnly:"true",draggable:".vuoz-tab",filter:".not-draggable",disabled:!this.draggable},on:{start:t.onStartDrag,end:t.onEndDrag}},[t._l(t.tabs,(function(e,n){return[i("vuoz-tab",{key:e.id,attrs:{title:e.title,id:e.id,selected:t.selected===e.id,closable:e.closable,divider:t.selected!==e.id&&void 0!==t.tabs[n+1]&&t.tabs[n+1].id!==t.selected||t.selected!==e.id&&n===t.tabs.length-1},on:{select:t.onSelect,close:t.onClose}})]}))],2),!0===t.showAdd?i("div",{staticClass:"plus-button not-draggable"},[i("vuoz-button",{attrs:{type:"push",size:t.getButtonSize(),border:!1,shape:"circle",color:"transparent"},on:{click:t.onAddTab},scopedSlots:t._u([{key:"shaped",fn:function(){return[i("span",{staticClass:"material-icons"},[t._v("add")])]},proxy:!0}],null,!1,2481801972)})],1):t._e()],1)])},_s=[],Ss=i("b76a"),Ts=i.n(Ss),Fs=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"vuoz-tab",class:t.getClasses(),on:{mousedown:t.onSelect}},[i("div",{staticClass:"title"},[t._v(t._s(t.title))]),!0===t.selected&&!0===t.closable?i("div",{staticClass:"close",on:{click:function(e){return e.stopPropagation(),t.onClose(e)}}},[i("vuoz-button",{attrs:{type:"push",size:"tiny",shape:"square",color:"transparent"},scopedSlots:t._u([{key:"shaped",fn:function(){return[i("span",{staticClass:"material-icons"},[t._v("close")])]},proxy:!0}],null,!1,1373312195)})],1):t._e(),!t.selected&&t.divider?i("div",{staticClass:"divider"}):t._e()])},Qs=[],Us=function(t){h(i,t);var e=w(i);function i(){return A(this,i),e.apply(this,arguments)}return l(i,[{key:"getClasses",value:function(){var t="";return this.selected&&(t+="is-selected"),t}},{key:"onSelect",value:function(){this.$emit("select",this.id)}},{key:"onClose",value:function(){this.$emit("close",this.id)}}]),i}(B.a);y([V({type:String,required:!0})],Us.prototype,"title",void 0),y([V({type:String,default:"small"})],Us.prototype,"size",void 0),y([V({type:[String,Number],required:!0})],Us.prototype,"id",void 0),y([V({type:Boolean,default:!1})],Us.prototype,"selected",void 0),y([V({type:Boolean,default:!0})],Us.prototype,"closable",void 0),y([V({type:Boolean,default:!0})],Us.prototype,"divider",void 0),Us=y([j({name:"VuozTab",components:{VuozButton:fn}})],Us);var Os=Us,Hs=Os,Ds=on(Hs,Fs,Qs,!1,null,null,null),Is=Ds.exports,ks=function(t){h(i,t);var e=w(i);function i(){return A(this,i),e.apply(this,arguments)}return l(i,[{key:"getClasses",value:function(){var t="is-".concat(this.size);return t+="",t}},{key:"getButtonSize",value:function(){var t="tiny";switch(this.size){case"small":t="tiny";break;case"normal":t="small";break;case"large":t="normal";break}return t}},{key:"onSelect",value:function(t){this.$emit("select",t)}},{key:"onClose",value:function(t){this.$emit("close",t)}},{key:"onAddTab",value:function(){this.$emit("addtab")}},{key:"onStartDrag",value:function(t){}},{key:"onEndDrag",value:function(t){var e=t.oldIndex,i=t.newIndex;this.$emit("dragged",{oldIndex:e,newIndex:i})}}]),i}(B.a);y([V({type:String,default:"normal"})],ks.prototype,"size",void 0),y([V({type:Boolean,default:!0})],ks.prototype,"showAdd",void 0),y([V({type:Boolean,default:!0})],ks.prototype,"draggable",void 0),y([V({type:Array,default:[]})],ks.prototype,"tabs",void 0),y([V({type:Number,default:0})],ks.prototype,"selected",void 0),ks=y([j({name:"VuozTabBar",components:{Draggable:Ts.a,VuozTab:Is,VuozButton:fn}})],ks);var Rs=ks,Ms=Rs,Ps=on(Ms,xs,_s,!1,null,null,null),Ns=Ps.exports,Ls=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"vuoz-tab-content has-border-left-medium-grey"},[t.component?i(t.component.object,t._b({key:t.component.key,tag:"component"},"component",t.component.props,!1)):t._e(),t.component?t._e():i("div",[t._v(t._s(t.content))])],1)},zs=[],js=function(t){h(i,t);var e=w(i);function i(){return A(this,i),e.apply(this,arguments)}return i}(B.a);y([V({type:[Object,String]})],js.prototype,"component",void 0),y([V({type:String,default:"No content"})],js.prototype,"content",void 0),js=y([j({name:"VuozTabContent"})],js);var Ks=js,Xs=Ks,Vs=on(Xs,Ls,zs,!1,null,null,null),Ws=Vs.exports,Gs=function(t){h(i,t);var e=w(i);function i(){var t;return A(this,i),t=e.apply(this,arguments),t.selected=-1,t}return l(i,[{key:"onTabsChanged",value:function(){this.tabs.length>0&&(this.selected<0||this.tabs.length<=this.selected)&&(this.selected=this.tabs[0].id)}},{key:"onSelectChanged",value:function(){this.tabs.length>0&&this.select<this.tabs.length&&(this.selected=this.select)}},{key:"created",value:function(){this.tabs.length>0&&(this.selected=this.tabs[0].id)}},{key:"getComponent",value:function(){var t=this;if(this.tabs.length>0){var e=this.tabs.find((function(e){return e.id===t.selected}));if(e&&e.component)return e.component.key=e.id,e.component}return null}},{key:"getContent",value:function(){var t=this;if(this.tabs.length>0){var e=this.tabs.find((function(e){return e.id===t.selected}));return void 0!==e?e.content:null}return this.placeholder}},{key:"getKey",value:function(){var t=this;if(this.tabs.length>0){var e=this.tabs.find((function(e){return e.id===t.selected}));return e?e.id:-1}return-1}},{key:"onSelect",value:function(t){this.selected=t,this.$emit("select",t)}},{key:"onClose",value:function(t){if(this.selected===t){var e=this.tabs.find((function(e){return e.id===t}));if(void 0===e)throw new TypeError("No corresponding tab to close.");var i=this.tabs.indexOf(e);i>0?this.selected=this.tabs[i-1].id:this.tabs.length>1&&(this.selected=this.tabs[i+1].id)}this.$emit("close",t)}},{key:"onAddTab",value:function(){var t=this;this.$emit("addtab"),this.$nextTick((function(){t.selected=t.tabs[t.tabs.length-1].id}))}},{key:"onTabDragged",value:function(t){this.$emit("dragged",t)}}]),i}(B.a);y([V({type:String,default:"normal"})],Gs.prototype,"size",void 0),y([V({type:Boolean,default:!0})],Gs.prototype,"showAdd",void 0),y([V({type:Boolean,default:!0})],Gs.prototype,"draggable",void 0),y([V({type:Array,default:function(){return[]}})],Gs.prototype,"tabs",void 0),y([V({type:Number})],Gs.prototype,"select",void 0),y([V({type:String,default:"No tab"})],Gs.prototype,"placeholder",void 0),y([W("tabs",{immediate:!0})],Gs.prototype,"onTabsChanged",null),y([W("select",{immediate:!0})],Gs.prototype,"onSelectChanged",null),Gs=y([j({name:"VuozTabs",components:{VuozTabBar:Ns,VuozTabContent:Ws}})],Gs);var Ys=Gs,Js=Ys,$s=on(Js,Cs,Es,!1,null,null,null),qs=$s.exports,Zs=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"vuoz-console__container",class:"has-toolbar-"+t.toolbarPosition},[!0!==t.toolbar||"left"!==t.toolbarPosition&&"top"!==t.toolbarPosition?t._e():i("div",[i("vuoz-toolbar",{attrs:{type:"fixed",position:t.toolbarPosition,border:t.toolbarBorder,size:"small"===t.size?"tiny":"small",items:t.toolbarItems},on:{click:t.onToolbar}})],1),i("div",{ref:"console",staticClass:"vuoz-console__content flex-grow"},["table"===t.type?[i("table",{staticClass:"vuoz-table"},[i("colgroup",[!0===t.date?i("col",{attrs:{span:"1"}}):t._e(),i("col",{attrs:{span:"1"}}),!0===t.showCaller?i("col",{attrs:{span:"1"}}):t._e()]),i("tbody",[t._l(t.lines,(function(e,n){return[i("vuoz-console-item",{attrs:{line:e,size:t.size,caller:t.showCaller,date:t.date,format:t.format,bordered:t.bordered}})]}))],2)])]:t._e(),"stack"===t.type?t._l(t.lines,(function(e,n){return i("div",{staticClass:"flex-grow",class:t.getStackLineClasses()},[t._v(t._s(e.content))])})):t._e()],2),!0!==t.toolbar||"right"!==t.toolbarPosition&&"bottom"!==t.toolbarPosition?t._e():i("div",[i("vuoz-toolbar",{attrs:{type:"fixed",position:t.toolbarPosition,border:t.toolbarBorder,size:"small"===t.size?"tiny":"small",items:t.toolbarItems},on:{click:t.onToolbar}})],1)])},ta=[],ea=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("tr",{class:t.getClasses("main")},[!0===t.date?i("td",[i("div",{staticClass:"accessory-cell",class:t.getClasses("time:content")},[t._v(t._s(t.getFormattedDate()))])]):t._e(),i("td",{staticClass:"flex-grow"},[i("div",{staticClass:"has-text-regular",class:t.getClasses("line:content")},[t._v(t._s(t.getContent()))])]),!0===t.caller?i("td",[t.line.caller?i("div",{staticClass:"accessory-cell",class:t.getClasses("caller")},[t._v(t._s(t.line.caller))]):t._e()]):t._e()])},ia=[],na=(i("25f0"),function(t){h(i,t);var e=w(i);function i(){return A(this,i),e.apply(this,arguments)}return l(i,[{key:"parseDays",value:function(t){var e=t.getFullYear().toString();return e+="/".concat(this.formatToTen(t.getMonth()+1)),e+="/".concat(this.formatToTen(t.getDate())),e}},{key:"parseTime",value:function(t){var e=""+"".concat(this.formatToTen(t.getHours()),":")+"".concat(this.formatToTen(t.getMinutes()),":")+"".concat(this.formatToTen(t.getSeconds()),":")+"".concat(this.formatToHundred(t.getMilliseconds()));return e}},{key:"parseFullReadable",value:function(t){return"".concat(this.parseDays(t),"-").concat(this.parseTime(t))}},{key:"parseMilliseconds",value:function(t){var e=t/36e5,i=Math.floor(e),n=this.formatToTen(i),r=60*(e-i),o=Math.floor(r),s=this.formatToTen(o),a=60*(r-o),A=Math.floor(a),c=this.formatToTen(A),l=1e3*(a-A),u=Math.floor(l),h=this.formatToHundred(u);return n+":"+s+":"+c+":"+h}},{key:"formatToTen",value:function(t){return t>9?t:"0"+t}},{key:"formatToHundred",value:function(t){return(t>99?t:t>9?"0"+t:"00"+t).toString()}}]),i}(B.a));na=y([j],na);var ra=function(t){h(i,t);var e=w(i);function i(){return A(this,i),e.apply(this,arguments)}return l(i,[{key:"created",value:function(){}},{key:"getClasses",value:function(t){switch(t){case"main":return"item-height-".concat(this.size," ").concat(this.bordered?"has-border-bottom-medium-grey":"");case"line:content":switch(this.size){case"small":return"has-text-small has-padding-left-sm has-padding-right-sm";case"normal":return"has-text-normal has-padding-left-ms has-padding-right-ms";case"large":return"has-text-large has-padding-left-md has-padding-right-md"}break;case"time:content":var e="";switch(this.size){case"small":e+="has-text-mono-ultra-small has-padding-left-s has-padding-right-s has-padding-top-xxs has-padding-bottom-xxs has-margin-left-s"+" time-line-height-".concat(this.size);break;case"normal":e+="has-text-mono-small has-padding-left-sm has-padding-right-sm has-padding-top-xxs has-padding-bottom-xxs has-margin-left-sm"+" time-line-height-".concat(this.size);break;case"large":e+="has-text-mono-normal has-padding-left-ms has-padding-right-ms has-padding-top-xs has-padding-bottom-xs has-margin-left-ms"+" time-line-height-".concat(this.size);break}return e;case"caller":var i="";switch(this.size){case"small":i+="has-text-mono-ultra-small has-padding-left-s has-padding-right-s has-padding-top-xxs has-padding-bottom-xxs has-margin-right-s";break;case"normal":i+="has-text-mono-small has-padding-left-sm has-padding-right-sm has-padding-top-xxs has-padding-bottom-xxs has-margin-right-sm";break;case"large":i+="has-text-mono-normal has-padding-left-ms has-padding-right-ms has-padding-top-xs has-padding-bottom-xs has-margin-right-ms";break}return i}}},{key:"getContent",value:function(){return this.line.content}},{key:"getFormattedDate",value:function(){switch(this.format){case"readable":return this.parseFullReadable(this.line.date);case"time":return this.parseTime(this.line.date);case"interval":var t=this.$parent,e=t.lines,i=e.indexOf(this.line),n=t.sort;switch(n){case"asc":var r=0;if(i-1>=0){var o=e[i-1].date;r=this.line.date.getTime()-o.getTime()}return this.parseMilliseconds(r);case"desc":var s=0;if(i+1<e.length){var a=e[i+1].date;s=this.line.date.getTime()-a.getTime()}return this.parseMilliseconds(s)}break;case"iso":return this.line.date.toISOString();default:case"raw":return this.line.date.toString()}}}]),i}(I(B.a,na));y([V({type:String,default:"normal"})],ra.prototype,"size",void 0),y([V({type:String,default:"darker-grey"})],ra.prototype,"color",void 0),y([V({type:Object,required:!0})],ra.prototype,"line",void 0),y([V({type:Boolean,default:!0})],ra.prototype,"caller",void 0),y([V({type:Boolean,default:!0})],ra.prototype,"date",void 0),y([V({type:Boolean,default:!0})],ra.prototype,"bordered",void 0),y([V({type:String,default:"iso"})],ra.prototype,"format",void 0),ra=y([j({name:"VuozConsoleItem"})],ra);var oa=ra,sa=oa,aa=on(sa,ea,ia,!1,null,null,null),Aa=aa.exports,ca={border:!0,rounded:!0,buttons:[{icon:"swap_vert",label:"Sort",name:"vuoz:console:sort"},{icon:"functions",label:"Show / Hide caller",type:"toggle",toggle:"secondary",toggled:!0,name:"vuoz:console:caller"},{role:"spacer"},{icon:"save",label:"Save",name:"vuoz:toolbar:save"}]},la=function(t){h(i,t);var e=w(i);function i(){var t;return A(this,i),t=e.apply(this,arguments),t.lines=[],t.order="asc",t.showCaller=!0,t.toolbarItems=ca,t}return l(i,[{key:"onSortChanged",value:function(){this.order=this.sort,this.sortLines()}},{key:"onCallerChanged",value:function(){this.showCaller=this.caller}},{key:"getStackLineClasses",value:function(){var t="";switch(this.size){case"small":t+="has-text-small has-padding-left-s has-padding-right-s has-padding-top-xxs has-padding-bottom-xxs has-margin-left-s has-margin-right-s"+" time-line-height-".concat(this.size);break;case"normal":t+="has-text-normal has-padding-left-sm has-padding-right-sm has-padding-top-xxs has-padding-bottom-xxs has-margin-left-sm has-margin-right-sm"+" time-line-height-".concat(this.size);break;case"large":t+="has-text-large has-padding-left-ms has-padding-right-ms has-padding-top-xs has-padding-bottom-xs has-margin-left-ms has-margin-right-ms"+" time-line-height-".concat(this.size);break}return t}},{key:"sortLines",value:function(){"desc"===this.order?this.lines.sort((function(t,e){return new Date(e.date)-new Date(t.date)})):this.lines.sort((function(t,e){return new Date(t.date)-new Date(e.date)}))}},{key:"push",value:function(t){var e=this.$refs.console;"desc"===this.order?(this.lines.push(t),this.$nextTick((function(){e.scrollTop=0}))):(this.lines.splice(0,0,t),this.$nextTick((function(){e.scrollTop=e.scrollHeight}))),this.sortLines()}},{key:"replaceLast",value:function(t){var e=this.$refs.console;"desc"===this.order?(this.lines.splice(0,1,t),this.$nextTick((function(){e.scrollTop=0}))):(this.lines.splice(this.lines.length-1,1,t),this.$nextTick((function(){e.scrollTop=e.scrollHeight}))),this.sortLines()}},{key:"onToolbar",value:function(t,e){switch(t){case"vuoz:console:sort":if(e){this.order="asc"===this.order?"desc":"asc";var i=this.$refs.console;"desc"===this.order?this.$nextTick((function(){i.scrollTop=0})):this.$nextTick((function(){i.scrollTop=i.scrollHeight})),this.sortLines()}break;case"vuoz:console:caller":this.showCaller=e;break}}}]),i}(B.a);y([V({type:String,default:"table"})],la.prototype,"type",void 0),y([V({type:Boolean,default:!0})],la.prototype,"toolbar",void 0),y([V({type:String,default:"top"})],la.prototype,"toolbarPosition",void 0),y([V({type:String,default:"medium-grey"})],la.prototype,"toolbarBorder",void 0),y([V({type:String,default:"small"})],la.prototype,"size",void 0),y([V({type:String,default:"asc"})],la.prototype,"sort",void 0),y([V({type:Boolean,default:!0})],la.prototype,"caller",void 0),y([V({type:Boolean,default:!0})],la.prototype,"bordered",void 0),y([V({type:Boolean,default:!0})],la.prototype,"date",void 0),y([V({type:String,default:"iso"})],la.prototype,"format",void 0),y([W("sort",{immediate:!0})],la.prototype,"onSortChanged",null),y([W("caller",{immediate:!0})],la.prototype,"onCallerChanged",null),la=y([j({name:"VuozConsole",components:{VuozConsoleItem:Aa,VuozToolbar:Ar}})],la);var ua=la,ha=ua,fa=on(ha,Zs,ta,!1,null,null,null),da=fa.exports,pa=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{ref:"container",staticClass:"vuoz-split-view__container",class:{"is-vertical":"vertical"===t.direction,"is-horizontal":"horizontal"===t.direction,dragging:!0===t.dragging},on:{mousemove:t.onMouseMove,mouseup:t.onMouseUp}},[i("div",{ref:"first",staticClass:"vuoz-split-view__view is-flex flex-grow",staticStyle:{position:"relative"}},[i("div",{staticStyle:{width:"100%",height:"100%"}},[t._t("first",[t._v("First")])],2)]),i("div",{ref:"second",staticClass:"vuoz-split-view__view is-flex flex-grow",staticStyle:{position:"relative"}},[i("div",{staticStyle:{width:"100%",height:"100%"}},[t._t("second",[t._v("Second")])],2)]),i("div",{ref:"separator",staticClass:"vuoz-split-view__separator",class:{"is-vertical":"vertical"===t.direction,"is-horizontal":"horizontal"===t.direction,hovered:!0===t.hovered||!0===t.dragging},on:{mousedown:t.onSeparatorMouseDown,mouseover:function(e){return t.onToggleOver(!0)},mouseout:function(e){return t.onToggleOver(!1)},mouseup:t.onMouseUp}},[i("div",{ref:"displayed",staticClass:"vuoz-split-view__separator-displayed",on:{mousedown:t.onSeparatorMouseDown,mouseup:t.onMouseUp}})])])},ga=[],va=function(t){h(i,t);var e=w(i);function i(){var t;return A(this,i),t=e.apply(this,arguments),t.hovered=!1,t.dragging=!1,t.limits={min:0,max:100},t}return l(i,[{key:"onDirectionChanged",value:function(){var t=this;this.$nextTick((function(){t.setup()}))}},{key:"onActiveSizeChanged",value:function(){var t=this;this.$nextTick((function(){t.setup()}))}},{key:"onSettingsChanged",value:function(){var t=this;this.$nextTick((function(){t.setup()}))}},{key:"created",value:function(){window.addEventListener("resize",this.setup)}},{key:"beforeDestroy",value:function(){window.removeEventListener("resize",this.setup)}},{key:"onToggleOver",value:function(t){this.hovered=t}},{key:"onSeparatorMouseDown",value:function(t){if(0===t.button){this.dragging=!0;var e=this.$refs.first,i=this.$refs.second;e.classList.add("vuoz-split-view__unselectable"),i.classList.add("vuoz-split-view__unselectable")}}},{key:"onMouseUp",value:function(){if(this.dragging){this.dragging=!1;var t,e,i=this.$refs.container,n=this.$refs.first,r=this.$refs.second;switch(n.classList.remove("vuoz-split-view__unselectable"),r.classList.remove("vuoz-split-view__unselectable"),this.direction){case"vertical":t=n.clientWidth,e=t/i.clientWidth*100;break;case"horizontal":t=n.clientHeight,e=t/i.clientHeight*100;break}this.$emit("change",{pixels:t,percents:e})}}},{key:"onMouseMove",value:function(t){if(this.dragging){var e=this.$refs.container;switch(this.direction){case"vertical":var i=t.clientX/e.clientWidth*100;if(i>this.limits.min&&i<this.limits.max){var n=100-i;this.setSeparatorPosition(t.clientX-this.activeSize/2),this.setItemsPosition("width",i,n)}break;case"horizontal":var r=t.clientY/e.clientHeight*100;if(r>this.limits.min&&r<this.limits.max){var o=100-r;this.setSeparatorPosition(t.clientY-this.activeSize/2),this.setItemsPosition("height",r,o)}break}}}},{key:"setup",value:function(){var t=this;this.parseSettings();var e=this.$refs.separator,i=this.$refs.first,n=this.$refs.second;i.style.removeProperty("min-width"),i.style.removeProperty("max-width"),i.style.removeProperty("width"),i.style.removeProperty("min-height"),i.style.removeProperty("max-height"),i.style.removeProperty("height"),n.style.removeProperty("min-width"),n.style.removeProperty("max-width"),n.style.removeProperty("width"),n.style.removeProperty("min-height"),n.style.removeProperty("max-height"),n.style.removeProperty("height");var r,o=this.limits.min+(this.limits.max-this.limits.min)/2;switch(this.direction){case"vertical":this.setItemsPosition("width",o,100-o),this.$nextTick((function(){var o=t.$refs.first;r=o.clientWidth-t.activeSize/2,e.style.setProperty("width","".concat(t.activeSize,"px")),e.style.setProperty("height","100%"),e.style.setProperty("cursor","col-resize"),i.style.setProperty("min-width","".concat(t.limits.min,"%")),i.style.setProperty("max-width","".concat(t.limits.max,"%")),i.style.setProperty("height","100%"),n.style.setProperty("height","100%"),t.setSeparatorPosition(r)}));break;case"horizontal":this.setItemsPosition("height",o,100-o),this.$nextTick((function(){var o=t.$refs.first;r=o.clientHeight-t.activeSize/2,e.style.setProperty("height","".concat(t.activeSize,"px")),e.style.setProperty("width","100%"),e.style.setProperty("cursor","row-resize"),i.style.setProperty("min-height","".concat(t.limits.min,"%")),i.style.setProperty("max-height","".concat(t.limits.max,"%")),i.style.setProperty("width","100%"),n.style.setProperty("width","100%"),t.setSeparatorPosition(r)}));break}}},{key:"setItemsPosition",value:function(t,e,i){var n=this.$refs.first,r=this.$refs.second;n.style.setProperty(t,"".concat(e,"%")),r.style.setProperty(t,"".concat(i,"%"))}},{key:"setSeparatorPosition",value:function(t){var e=this.$refs.separator,i=this.$refs.displayed;switch(this.direction){case"vertical":e.style.setProperty("left","".concat(t,"px")),e.style.setProperty("top","0"),e.style.setProperty("height","100%"),i.style.setProperty("left","".concat(this.activeSize/2-1,"px")),i.style.setProperty("top","0");break;case"horizontal":e.style.setProperty("top","".concat(t,"px")),e.style.setProperty("left","0"),e.style.setProperty("width","100%"),i.style.setProperty("top","".concat(this.activeSize/2-1,"px")),i.style.setProperty("left","0");break}}},{key:"parseSettings",value:function(){this.limits.min=this.settings.min||0,this.limits.max=this.settings.max||100}}]),i}(B.a);y([V({type:String,default:"vertical"})],va.prototype,"direction",void 0),y([V({type:Number,default:21})],va.prototype,"activeSize",void 0),y([V({type:Object,default:function(){return{min:0,max:100}}})],va.prototype,"settings",void 0),y([W("direction",{immediate:!0})],va.prototype,"onDirectionChanged",null),y([W("activeSize",{immediate:!0})],va.prototype,"onActiveSizeChanged",null),y([W("settings",{immediate:!0})],va.prototype,"onSettingsChanged",null),va=y([j({name:"VuozSplitView"})],va);var ma=va,wa=ma,ya=on(wa,pa,ga,!1,null,null,null),ba=ya.exports,Ba=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"vuoz-title-bar has-text-semi-bold",class:t.getClasses()},[t._v(t._s(t.title))])},Ca=[],Ea=function(t){h(i,t);var e=w(i);function i(){return A(this,i),e.apply(this,arguments)}return l(i,[{key:"getClasses",value:function(){var t="is-".concat(this.size," has-background-").concat(this.color," has-border-bottom-").concat(this.border," ");return t}}]),i}(B.a);y([V({type:String,default:"normal"})],Ea.prototype,"size",void 0),y([V({type:String,default:"dark-grey"})],Ea.prototype,"color",void 0),y([V({type:String,default:"none"})],Ea.prototype,"border",void 0),y([V({type:String,default:"Untitled"})],Ea.prototype,"title",void 0),Ea=y([j({name:"VuozTitleBar"})],Ea);var xa=Ea,_a=xa,Sa=on(_a,Ba,Ca,!1,null,null,null),Ta=Sa.exports,Fa=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("table",{staticClass:"vuoz-table",class:"has-background-"+t.color,attrs:{tabindex:"0",cellspacing:"0"},on:{keydown:t.onKeyDown,blur:t.unselect}},[i("tbody",[t._t("headers",null,{border:t.border,selectable:t.selectable}),t._l(t.items,(function(e,i){return t._t("rows",null,{row:e,id:i,size:t.size,border:t.border,delimiter:t.delimiter,selected:t.selection[i],highlight:t.highlight,selectable:t.selectable})}))],2)])},Qa=[],Ua=(i("cb29"),function(t){h(i,t);var e=w(i);function i(){var t;return A(this,i),t=e.apply(this,arguments),t.selection=[],t.firstSelected=-1,t.selectionRange=1,t.modifier="none",t}return l(i,[{key:"mounted",value:function(){var t=this;this.$on("cell",this.onCellSelected),!1===this.unselectable&&this.items.length>this.initial&&(this.firstSelected=this.initial,this.selectionRange=1,this.$nextTick((function(){t.handleSelection()})))}},{key:"beforeDestroy",value:function(){this.$off("cell",this.onCellSelected)}},{key:"onItemsChanged",value:function(){var t=this;this.selection=new Array(this.items.length).fill(!1),!1===this.unselectable&&this.items.length>this.initial&&(this.firstSelected=this.initial,this.selectionRange=1,this.$nextTick((function(){t.handleSelection()})))}},{key:"onKeyDown",value:function(t){if("none"!==this.selectable&&t.key.toLowerCase().includes("arrow")&&this.firstSelected>=0){var e=t.shiftKey;switch(t.key){case"ArrowUp":"multiple"===this.selectable&&e?this.firstSelected>=1&&(this.firstSelected-=1,this.selectionRange+=1,this.handleSelection(),this.emitMulti()):this.firstSelected>=1?(this.firstSelected-=1,this.selectionRange=1,this.handleSelection(),this.emitRow()):(this.selectionRange=1,this.handleSelection(),this.emitRow());break;case"ArrowDown":"multiple"===this.selectable&&e?this.firstSelected+this.selectionRange<this.selection.length&&(this.selectionRange+=1,this.handleSelection(),this.emitMulti()):this.firstSelected<this.selection.length-1&&(this.firstSelected+this.selectionRange===this.selection.length?(this.firstSelected=this.selection.length-1,this.selectionRange=1,this.handleSelection(),this.emitRow()):(this.firstSelected+=1,this.selectionRange=1,this.handleSelection(),this.emitRow()))}}}},{key:"onCellSelected",value:function(t){if("none"!==this.selectable)if("multiple"===this.selectable&&"shift"===t.modifier&&this.firstSelected>=0){var e=this.firstSelected,i=t.row;e===i?this.selectionRange=1:i>e?(this.selectionRange=t.row-this.firstSelected+1,this.emitMulti()):(this.firstSelected=t.row,this.selectionRange=e-this.firstSelected+1,this.emitMulti()),this.handleSelection()}else"multiple"===this.selectable&&"ctrl"===t.modifier&&this.firstSelected>=0?this.selection.splice(t.row,1,!this.selection[t.row]):!0===this.selection[t.row]?this.unselect():(this.firstSelected=t.row,this.selectionRange=1,this.handleSelection(),this.emitRow())}},{key:"unselect",value:function(){this.unselectable&&(this.firstSelected=-1,this.selectionRange=1,this.selection=new Array(this.items.length).fill(!1),this.$emit("unselect"))}},{key:"handleSelection",value:function(){this.selection.fill(!1);for(var t=this.firstSelected;t<this.firstSelected+this.selectionRange;t++)this.selection.splice(t,1,!0)}},{key:"emitRow",value:function(){var t={row:this.firstSelected,item:this.items[this.firstSelected]};this.$emit("row",t)}},{key:"emitMulti",value:function(){for(var t=[],e=[],i=0;i<this.selection.length;i++)!0===this.selection[i]&&(t.push(i),e.push(this.items[i]));var n={rows:t,items:e};this.$emit("multi",n)}}]),i}(B.a));y([V({type:[Array,Object],required:!0})],Ua.prototype,"items",void 0),y([V({type:Number,default:0})],Ua.prototype,"initial",void 0),y([V({type:String,default:"small"})],Ua.prototype,"size",void 0),y([V({type:String,default:"transparent"})],Ua.prototype,"color",void 0),y([V({type:String,default:"none"})],Ua.prototype,"border",void 0),y([V({type:String,default:"none"})],Ua.prototype,"delimiter",void 0),y([V({type:String,default:"none"})],Ua.prototype,"highlight",void 0),y([V({type:String,default:"none"})],Ua.prototype,"selectable",void 0),y([V({type:Boolean,default:!0})],Ua.prototype,"unselectable",void 0),y([W("items",{immediate:!0})],Ua.prototype,"onItemsChanged",null),Ua=y([j({name:"VuozTable"})],Ua);var Oa=Ua,Ha=Oa,Da=on(Ha,Fa,Qa,!1,null,null,null),Ia=Da.exports,ka=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("tr",{class:t.getClasses("row")},t._l(t.row,(function(e,n){return i("th",{class:t.getClasses("cell",n),style:"width: "+100/t.row.length+"%;",on:{mousedown:function(e){return t.onClick(n)}}},[t._v(t._s(e))])})),0)},Ra=[],Ma=function(t){h(i,t);var e=w(i);function i(){return A(this,i),e.apply(this,arguments)}return l(i,[{key:"getClasses",value:function(t,e){var i="";switch(t){case"row":i+="has-border-bottom-".concat(this.border," has-background-").concat(this.color," "),i+="item-height-".concat(this.size," ");break;case"cell":"undefined"!==typeof e&&e<this.row.length-1&&(i+="has-border-right-".concat(this.border," ")),i+="has-text-".concat(this.size," ");break}return i}},{key:"onClick",value:function(t){if("none"!==this.selectable){var e={col:t,content:this.row[t]};this.$emit("click",e),this.$parent.$emit("header",e)}}}]),i}(B.a);y([V({type:Array,required:!0})],Ma.prototype,"row",void 0),y([V({type:String,default:"small"})],Ma.prototype,"size",void 0),y([V({type:String,default:"transparent"})],Ma.prototype,"color",void 0),y([V({type:String,default:"none"})],Ma.prototype,"border",void 0),y([V({type:String,default:"none"})],Ma.prototype,"selectable",void 0),Ma=y([j({name:"VuozTableHeader"})],Ma);var Pa=Ma,Na=Pa,La=on(Na,ka,Ra,!1,null,null,null),za=La.exports,ja=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("tr",{staticClass:"is-flex-column",class:"has-background-"+this.background+" "+t.getClasses("row"),staticStyle:{height:"auto"}},[t._l(t.row,(function(e,n){return Array.isArray(t.row)?i("td",{staticClass:"is-flex flex-grow",class:t.getClasses("cell",t.isObject(e),n,t.row.length),style:"width: "+100/t.row.length+"%;",attrs:{id:n},on:{mousedown:function(i){return t.onClick(n,e,i)}}},[t.isObject(e)?t._e():[i("div",{staticClass:"flex-grow is-flex align-center is-fullheight"},[t._v(t._s(e))])],t.isObject(e)?[i(e.component,t._b({tag:"component"},"component",e.props,!1))]:t._e()],2):t._e()})),Array.isArray(t.row)?t._e():i("td",{staticClass:"is-fullwidth is-flex-column",class:t.getClasses("cell",t.isObject(t.row)),on:{mousedown:function(e){return t.onClick(0,t.row,e)}}},[t.isObject(t.row)?t._e():[t._v(t._s(t.row))],t.isObject(t.row)?[i(t.row.component,t._b({tag:"component"},"component",t.row.props,!1))]:t._e()],2)],2)},Ka=[];i("e01a"),i("d28b"),i("3ca3"),i("e260"),i("ddb0");function Xa(t){return Xa="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xa(t)}i("1276");var Va=function(t){h(i,t);var e=w(i);function i(){var t;return A(this,i),t=e.apply(this,arguments),t.background="transparent",t.ctrl="ctrl",t}return l(i,[{key:"onSelectedChange",value:function(){this.background=this.selected?this.highlight:this.color}},{key:"mounted",value:function(){this.ctrl=navigator.platform.toLowerCase().includes("mac")?"meta":"ctrl"}},{key:"getClasses",value:function(t,e,i,n){var r="";switch(t){case"row":var o=this.size.split("-")[0];r+="has-border-bottom-".concat(this.border," "),r+="item-height-".concat(this.size," has-text-").concat(o," ");break;case"cell":if("undefined"!==typeof i&&"undefined"!==typeof n&&i<n-1&&(r+="has-border-right-".concat(this.cellBorder," ")),!1===e)switch(this.size){case"small-thin":case"small":r+="has-padding-left-sm has-padding-right-sm";break;case"normal":case"large":r+="has-padding-left-md has-padding-right-md";break}}return r}},{key:"onClick",value:function(t,e,i){if("none"!==this.selectable){var n=void 0;i.shiftKey?n="shift":("ctrl"===this.ctrl&&i.ctrlKey||"meta"===this.ctrl&&i.metaKey)&&(n="ctrl");var r={row:this.id,col:t,modifier:n,item:e};return this.$emit("cell",r),this.$parent.$emit("cell",r),!1}}},{key:"isObject",value:function(t){return"object"===Xa(t)}}]),i}(B.a);y([V({type:[Array,String,Number,Object],required:!0})],Va.prototype,"row",void 0),y([V({type:Number,required:!0})],Va.prototype,"id",void 0),y([V({type:String,default:"small"})],Va.prototype,"size",void 0),y([V({type:String,default:"transparent"})],Va.prototype,"color",void 0),y([V({type:String,default:"none"})],Va.prototype,"border",void 0),y([V({type:String,default:"none"})],Va.prototype,"cellBorder",void 0),y([V({type:String,default:"primary"})],Va.prototype,"highlight",void 0),y([V({type:Boolean,default:!1})],Va.prototype,"selected",void 0),y([V({type:String,default:"none"})],Va.prototype,"selectable",void 0),y([W("selected",{immediate:!0})],Va.prototype,"onSelectedChange",null),Va=y([j({name:"VuozTableRow"})],Va);var Wa=Va,Ga=Wa,Ya=on(Ga,ja,Ka,!1,null,null,null),Ja=Ya.exports,$a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"is-flex align-center is-small is-unselectable"},[i("div",{staticClass:"material-icons has-padding-left-sm"},[t._v(t._s(t.icon))]),i("div",{staticClass:"has-padding-left-ms has-padding-right-sm"},[t._v(t._s(t.title))])])},qa=[],Za=function(t){h(i,t);var e=w(i);function i(){return A(this,i),e.apply(this,arguments)}return i}(B.a);y([V({type:String,default:"error"})],Za.prototype,"icon",void 0),y([V({type:String,required:!0})],Za.prototype,"title",void 0),Za=y([j({name:"VuozPreferencesItem"})],Za);var tA=Za,eA=tA,iA=on(eA,$a,qa,!1,null,null,null),nA=iA.exports,rA=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"flex-grow is-flex"},[t._t("default")],2)},oA=[],sA=function(t){h(i,t);var e=w(i);function i(){return A(this,i),e.apply(this,arguments)}return i}(B.a);sA=y([j({name:"VuozPreferencesPanel"})],sA);var aA=sA,AA=aA,cA=on(AA,rA,oA,!1,null,null,null),lA=cA.exports,uA=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{ref:"container",staticClass:"is-fullsize"},[i("canvas",{attrs:{id:"monitor"}})])},hA=[],fA=i("7a94"),dA=function(t){h(i,t);var e=w(i);function i(){var t;return A(this,i),t=e.apply(this,arguments),t.interval=null,t.previous={x:0,y:0},t.current={x:0,y:0},t}return l(i,[{key:"mounted",value:function(){var t=this;window.addEventListener("resize",this.onResize);var e=this.$refs.container.ownerDocument!==document,i=this.$refs.container;this.width=i.clientWidth,this.height=i.clientHeight,e&&i.parentNode&&i.parentNode.parentNode&&(this.width=i.parentNode.parentNode.clientWidth,this.height=i.parentNode.parentNode.clientHeight),this.canvas=new fA["fabric"].Canvas("monitor",{width:this.width,height:this.height,backgroundColor:"#fff",selection:!1,preserveObjectStacking:!0,targetFindTolerance:5,fireRightClick:!0,fireMiddleClick:!0,stopContextMenu:!0}),this.previous.y=this.height,this.debug&&this.$refs.container.addEventListener("mousemove",this.onEvent),this.monitor=this.monitor.bind(this),this.interval=setInterval((function(){t.monitor()}),100)}},{key:"beforeDestroy",value:function(){window.removeEventListener("resize",this.onResize),this.$refs.container.addEventListener("mousemove",this.onEvent)}},{key:"monitor",value:function(){var t=this.previous.x+1;this.canvas.add(new fA["fabric"].Line([this.previous.x,this.previous.y,t,this.current.y],{stroke:"black"})),this.previous={x:t,y:this.height},this.current.y=this.height,this.canvas.renderAll()}},{key:"onEvent",value:function(t){this.current.y=t.pageY}},{key:"onResize",value:function(){var t=this.$refs.container;this.width=t.clientWidth,this.height=t.clientHeight,this.canvas.setWidth(this.width),this.canvas.setHeight(this.height),this.canvas.calcOffset(),this.previous.y=this.height}}]),i}(B.a);y([V({type:Boolean,default:!1})],dA.prototype,"debug",void 0),dA=y([j({name:"VuozMonitorView"})],dA);var pA=dA,gA=pA,vA=on(gA,uA,hA,!1,null,null,null),mA=vA.exports,wA=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{directives:[{name:"resize",rawName:"v-resize"}],staticClass:"is-flex-column",staticStyle:{width:"100%",height:"100%"},on:{resize:t.onResize}},[i("vuoz-toolbar",{attrs:{items:t.toolbarItems,type:"fixed",position:"top",size:"small",color:"dark-grey",border:"medium-grey",shadow:!1},on:{click:t.onToolbar,menu:t.onMenuSelect}}),i("div",{staticClass:"is-flex flex-grow",staticStyle:{position:"relative"}},[i("div",{ref:"container",staticStyle:{position:"absolute",left:"0",right:"0",top:"0",bottom:"0",overflow:"auto"},on:{scroll:function(e){return t.canvas.calcOffset.bind(t.canvas)}}},[i("canvas",{attrs:{id:"whiteboard"}})])])],1)},yA=[],bA=i("2374"),BA=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"vuoz-color-menu"},[i("h3",{staticClass:"has-border-bottom-dark-grey has-padding-bottom-sm"},[t._v("Brush")]),i("v-swatches",{attrs:{inline:"","show-fallback":"","fallback-input-type":"color","background-color":"rgba(0, 0, 0, 0)","show-border":"","swatch-size":"30","spacing-size":7,shapes:"circles","fallback-input-class":"vuoz-color-menu-fallback"},model:{value:t.brushColor,callback:function(e){t.brushColor=e},expression:"brushColor"}}),i("div",{staticClass:"has-border-top-dark-grey has-margin-top-sm has-padding-top-sm is-flex flex-grow align-center",staticStyle:{"justify-content":"space-between"}},[i("div",[t._v("Size (px) ")]),i("vuoz-input",{attrs:{type:"uinteger",color:"dark-grey",initial:t.brushSize,rounded:""},on:{change:t.onSizeChange}})],1)],1)},CA=[],EA=i("7f75"),xA=i.n(EA),_A=(i("b3a4"),function(t){h(i,t);var e=w(i);function i(){var t;return A(this,i),t=e.apply(this,arguments),t.brushColor="#000",t.brushSize="2",t}return l(i,[{key:"onBrushColorChange",value:function(){this.$emit("select",{type:"brush:color",value:this.brushColor})}},{key:"onSizeChange",value:function(t){this.$emit("select",{type:"brush:size",value:parseInt(t.value)})}}]),i}(B.a));y([V({type:Boolean,default:!1})],_A.prototype,"disabled",void 0),y([V({type:Boolean,default:!1})],_A.prototype,"loading",void 0),y([V({type:String,default:"push"})],_A.prototype,"type",void 0),y([V({type:String,default:"normal"})],_A.prototype,"size",void 0),y([V({type:String,default:"free"})],_A.prototype,"shape",void 0),y([V({type:String,default:"regular"})],_A.prototype,"weight",void 0),y([V({type:Boolean,default:!1})],_A.prototype,"rounded",void 0),y([V({type:Boolean,default:!0})],_A.prototype,"border",void 0),y([V({type:Boolean,default:!1})],_A.prototype,"uppercase",void 0),y([V({type:Boolean,default:!1})],_A.prototype,"smallcaps",void 0),y([V({type:String,default:"medium-grey"})],_A.prototype,"color",void 0),y([V({type:String,default:"danger"})],_A.prototype,"toggle",void 0),y([V({type:Boolean,default:!1})],_A.prototype,"toggled",void 0),y([V({type:Boolean,default:!1})],_A.prototype,"shadow",void 0),y([V({type:String,default:"close"})],_A.prototype,"icon",void 0),y([W("brushColor",{immediate:!0})],_A.prototype,"onBrushColorChange",null),_A=y([j({name:"VuozBrushMenu",components:{VSwatches:xA.a,VuozInput:Sn}})],_A);var SA=_A,TA=SA,FA=on(TA,BA,CA,!1,null,null,null),QA=FA.exports,UA=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"is-flex-column has-padding-sm has-padding-left-ms has-background-medium-grey",staticStyle:{width:"296px"}},[i("h3",{staticClass:"has-border-bottom-dark-grey has-padding-bottom-sm"},[t._v("Background")]),i("v-swatches",{attrs:{inline:"","show-fallback":"","fallback-input-type":"color","background-color":"rgba(0, 0, 0, 0)","show-border":"","swatch-size":"30","spacing-size":7,shapes:"circles","fallback-input-class":"vuoz-color-menu-fallback"},model:{value:t.backgroundColor,callback:function(e){t.backgroundColor=e},expression:"backgroundColor"}})],1)},OA=[],HA=function(t){h(i,t);var e=w(i);function i(){var t;return A(this,i),t=e.apply(this,arguments),t.backgroundColor="#fff",t}return l(i,[{key:"onBackgroundColorChange",value:function(){this.$emit("select",{type:"background:color",value:this.backgroundColor})}}]),i}(B.a);y([V({type:Boolean,default:!1})],HA.prototype,"disabled",void 0),y([V({type:Boolean,default:!1})],HA.prototype,"loading",void 0),y([V({type:String,default:"push"})],HA.prototype,"type",void 0),y([V({type:String,default:"normal"})],HA.prototype,"size",void 0),y([V({type:String,default:"free"})],HA.prototype,"shape",void 0),y([V({type:String,default:"regular"})],HA.prototype,"weight",void 0),y([V({type:Boolean,default:!1})],HA.prototype,"rounded",void 0),y([V({type:Boolean,default:!0})],HA.prototype,"border",void 0),y([V({type:Boolean,default:!1})],HA.prototype,"uppercase",void 0),y([V({type:Boolean,default:!1})],HA.prototype,"smallcaps",void 0),y([V({type:String,default:"medium-grey"})],HA.prototype,"color",void 0),y([V({type:String,default:"danger"})],HA.prototype,"toggle",void 0),y([V({type:Boolean,default:!1})],HA.prototype,"toggled",void 0),y([V({type:Boolean,default:!1})],HA.prototype,"shadow",void 0),y([V({type:String,default:"close"})],HA.prototype,"icon",void 0),y([W("backgroundColor",{immediate:!0})],HA.prototype,"onBackgroundColorChange",null),HA=y([j({name:"VuozBackgroundMenu",components:{VSwatches:xA.a}})],HA);var DA=HA,IA=DA,kA=on(IA,UA,OA,!1,null,null,null),RA=kA.exports,MA={icon:"brush",label:"Brush",type:"dropdown",toggle:"medium-grey",rounded:!0,name:"vuoz:whiteboard:brush",menu:QA,onDown:function(t,e){this.$parent.toggleBrushPanel(!0)},onUp:function(t,e){this.$parent.toggleBrushPanel(!1)}},PA={icon:"format_paint",label:"Background",rounded:!0,type:"dropdown",toggle:"medium-grey",name:"vuoz:whiteboard:background",menu:RA,onDown:function(t,e){this.$parent.toggleBackgroundPanel(!0)},onUp:function(t,e){this.$parent.toggleBackgroundPanel(!1)}},NA={icon:"delete",label:"Clear",rounded:!0,name:"vuoz:whiteboard:clear",onDown:function(){this.$parent.clear()}},LA={icon:"north_west",label:"Select",rounded:!0,type:"toggle",toggle:"primary",name:"vuoz:whiteboard:select",onDown:function(){this.unselect("vuoz:whiteboard:erase"),this.unselect("vuoz:whiteboard:draw")}},zA={icon:"gesture",label:"Draw",rounded:!0,type:"toggle",toggle:"primary",toggled:!0,name:"vuoz:whiteboard:draw",onDown:function(){this.unselect("vuoz:whiteboard:erase"),this.unselect("vuoz:whiteboard:select")}},jA={icon:"layers_clear",label:"Eraser",rounded:!0,type:"toggle",toggle:"primary",name:"vuoz:whiteboard:erase",onDown:function(){this.unselect("vuoz:whiteboard:draw"),this.unselect("vuoz:whiteboard:select")}},KA={icon:"circle",label:"Circle",rounded:!0,name:"vuoz:whiteboard:circle",onDown:function(){console.warn("TODO: CIRCLE")}},XA={icon:"crop_square",label:"Square",rounded:!0,name:"vuoz:whiteboard:square",onDown:function(){console.warn("TODO: SQUARE")}},VA={icon:"change_history",label:"Triangle",rounded:!0,name:"vuoz:whiteboard:triangle",onDown:function(){console.warn("TODO: TRIANGLE")}},WA={icon:"show_chart",label:"Line / Polygon",rounded:!0,name:"vuoz:whiteboard:line",onDown:function(){console.warn("TODO: LINE")}},GA={icon:"title",label:"Text",rounded:!0,name:"vuoz:whiteboard:text",onDown:function(){console.warn("TODO: TEXT")}},YA={icon:"file_download",label:"Import",rounded:!0,name:"vuoz:toolbar:import",onDown:function(){console.warn("TODO: IMPORT")}},JA={icon:"file_upload",label:"Export",rounded:!0,name:"vuoz:toolbar:export",onDown:function(){console.warn("TODO: EXPORT")}},$A={icon:"save",label:"Save",rounded:!0,name:"vuoz:whiteboard:save",onDown:function(){console.warn("TODO: SAVE")}},qA={role:"spacer"},ZA={role:"separator"},tc=[NA,ZA,MA,PA,ZA,LA,zA,jA,ZA,KA,XA,VA,WA,ZA,GA,qA,YA,JA,$A],ec=i("06aa"),ic=function(t){h(i,t);var e=w(i);function i(){var t;return A(this,i),t=e.apply(this,arguments),t.backgroundColor="#fff",t.brushColor="#000",t.isDrawing=!1,t.mode="draw",t.previousMode="draw",t.toolbarItems=tc,t.pressure=0,t.objects=[],t.nextId=0,t}return l(i,[{key:"mounted",value:function(){var t=this;this.$nextTick((function(){var e=t.$refs.container;t.width=e.clientWidth,t.height=e.clientHeight;var i=e.ownerDocument!==document;i&&e.parentNode&&e.parentNode.parentNode&&(t.width=e.parentNode.parentNode.clientWidth,t.height=e.parentNode.parentNode.clientHeight),t.canvas=new fA["fabric"].Canvas("whiteboard",{width:t.width,height:t.height,backgroundColor:t.backgroundColor,preserveObjectStacking:!0,targetFindTolerance:5,fireRightClick:!0,fireMiddleClick:!0,stopContextMenu:!0,isDrawingMode:!0,enablePointerEvents:!0}),t.brush=new bA["PSBrush"](t.canvas),t.brush.width=2,t.brush.color=t.brushColor,t.brush.simplifyHighestQuality=!0,t.canvas.freeDrawingBrush=t.brush,t.canvas.on("mouse:down",t.onMouseDown),t.canvas.on("mouse:down:before",t.onMouseDownBefore),t.canvas.on("mouse:move",t.onMouseMove),t.canvas.on("mouse:up",t.onMouseUp),t.canvas.on("object:moving",t.onObjectMoving),t.canvas.on("object:added",t.onObjectAdded)}))}},{key:"beforeDestroy",value:function(){this.canvas.off("mouse:down",this.onMouseDown),this.canvas.off("mouse:down:before",this.onMouseDownBefore),this.canvas.off("mouse:move",this.onMouseMove),this.canvas.off("mouse:up",this.onMouseUp),this.canvas.off("object:moving",this.onObjectMoving),this.canvas.off("object:added",this.onObjectAdded)}},{key:"onBackgroundColorChange",value:function(){this.canvas.backgroundColor=this.backgroundColor,this.canvas.renderAll()}},{key:"onBrushColorChange",value:function(){this.brush.color=this.brushColor}},{key:"getClasses",value:function(){var t="is-".concat(this.size," has-background-").concat(this.color," has-border-bottom-").concat(this.border," ");return t}},{key:"toggleBrushPanel",value:function(t){}},{key:"toggleBackgroundPanel",value:function(t){}},{key:"clear",value:function(){this.canvas.clear(),this.canvas.backgroundColor=this.backgroundColor,this.canvas.renderAll()}},{key:"onMouseDownBefore",value:function(t){if("select"!==this.mode)switch(t.e.buttons){case 1:this.brush.color="draw"===this.mode?this.brushColor:this.backgroundColor;break;case 32:this.previousMode=this.mode,this.mode="erase",this.brush.color=this.backgroundColor}}},{key:"onMouseDown",value:function(t){this.isDrawing="select"!==this.mode}},{key:"onMouseUp",value:function(t){console.log("MOUSE UP")}},{key:"onMouseMove",value:function(t){this.isDrawing&&"select"!==this.mode&&(this.pressure=t.e.pressure)}},{key:"onObjectMoving",value:function(t){var e=this.$refs.container;t.target.left+t.target.width>this.width&&(this.width+=50,this.canvas.setWidth(this.width),this.canvas.calcOffset(),e.scrollLeft=this.width-t.target.left),t.target.top+t.target.height>this.height&&(this.height+=50,this.canvas.setHeight(this.height),this.canvas.calcOffset(),e.scrollTop=this.height-t.target.top);var i=this.objects.find((function(e){return e.id===t.target.id}));if(i){var n=this.objects.indexOf(i);this.objects.splice(n,1,i)}this.$emit("change",{type:"move",objects:this.objects}),this.$emit("last",{type:"move",object:t.target})}},{key:"onObjectAdded",value:function(t){t.target.id=this.nextId,this.objects.push(t.target),this.nextId++,this.$emit("change",{type:"add",objects:this.objects}),this.$emit("last",{type:"add",object:t.target})}},{key:"onResize",value:function(){var t=this;this.$nextTick((function(){var e=t.$refs.container;t.canvas.width<e.clientWidth&&t.canvas.setWidth(e.clientWidth),t.canvas.height<e.clientHeight&&t.canvas.setHeight(e.clientHeight),t.width=t.canvas.width,t.height=t.canvas.height,t.canvas.calcOffset()}))}},{key:"onToolbar",value:function(t,e){switch(t){case"vuoz:whiteboard:select":e&&(this.mode="select",this.previousMode="select",this.canvas.isDrawingMode=!1);break;case"vuoz:whiteboard:draw":e&&(this.mode="draw",this.previousMode="draw",this.canvas.isDrawingMode=e,this.brush.color=this.brushColor);break;case"vuoz:whiteboard:erase":e&&(this.mode="erase",this.previousMode="erase",this.canvas.isDrawingMode=e,this.brush.color=this.backgroundColor);break}}},{key:"onMenuSelect",value:function(t){switch(t.type){case"brush:color":this.brushColor=t.value;break;case"brush:size":this.brush.width=t.value;break;case"background:color":this.backgroundColor=t.value;break}}}]),i}(B.a);y([V({type:String,default:"normal"})],ic.prototype,"size",void 0),y([V({type:String,default:"dark-grey"})],ic.prototype,"color",void 0),y([V({type:String,default:"none"})],ic.prototype,"border",void 0),y([W("backgroundColor",{immediate:!1})],ic.prototype,"onBackgroundColorChange",null),y([W("brushColor",{immediate:!1})],ic.prototype,"onBrushColorChange",null),ic=y([j({name:"VuozWhiteBoard",components:{VuozToolbar:Ar},directives:{resize:ec["resize"]}})],ic);var nc=ic,rc=nc,oc=on(rc,wA,yA,!1,null,null,null),sc=oc.exports,ac=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"flex-grow is-flex-column has-padding-sm"},[i("div",{staticClass:"flex-grow is-flex align-center"},[i("div",{staticClass:"is-flex align-center justify-center",style:"border-radius: 50%; height: 25px; width: 25px; background:"+t.getRandomColor()+";"},[t._v(t._s(t.firstname.charAt(0).toUpperCase())+t._s(t.lastname.charAt(0).toUpperCase()))]),i("div",{staticClass:"has-padding-left-sm"},[t._v(t._s(t.firstname)+" "),i("span",{staticClass:"is-uppercase has-text-bold"},[t._v(t._s(t.lastname))])])])])},Ac=[],cc=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{ref:"dropzone",staticClass:"vuoz-avatar",on:{drop:t.onDrop,dragover:t.onDragOver}},[i("div",{staticClass:"vuoz-avatar__container"},[t.img?i("vuoz-cropper",{ref:"cropper",staticStyle:{background:"transparent"},attrs:{src:t.img,stencil:"circle",showHandlers:!1,showToolbar:t.editable,options:t.options,cropperClass:"vuoz-avatar-cropper"},on:{change:t.onChange}}):t._e(),t.img?t._e():i("div",{staticClass:"vuoz-avatar__component"},[i("vue-avatar-component",{ref:"avatar",attrs:{fullname:t.fullname,size:t.size,color:t.randomColor()}})],1),!0===t.editable?i("input",{ref:"input",staticStyle:{display:"none"},attrs:{type:"file",accept:"image/*",visibility:"hidden"},on:{click:t.loadImage}}):t._e()],1),!0===t.editable?i("div",{staticClass:"vuoz-avatar__toolbar-container"},[i("div",{staticClass:"vuoz-avatar__toolbar"},[i("vuoz-toolbar",{ref:"toolbar",attrs:{items:t.img?t.imgToolbar:t.initialsToolbar,position:"left",size:"tiny",shadow:"",vertical:""}})],1)]):t._e()])},lc=[],uc=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"avatar",style:t.style},[i("table",[i("tbody",[i("tr",[t.hasImage?t._e():i("td",[t._v(" "+t._s(t.initials)+" ")])])])])])},hc=[];i("fb6a"),i("a630");function fc(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,n=new Array(e);i<e;i++)n[i]=t[i];return n}function dc(t,e){if(t){if("string"===typeof t)return fc(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);return"Object"===i&&t.constructor&&(i=t.constructor.name),"Map"===i||"Set"===i?Array.from(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?fc(t,e):void 0}}function pc(t,e){var i;if("undefined"===typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(i=dc(t))||e&&t&&"number"===typeof t.length){i&&(t=i);var n=0,r=function(){};return{s:r,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,a=!1;return{s:function(){i=t[Symbol.iterator]()},n:function(){var t=i.next();return s=t.done,t},e:function(t){a=!0,o=t},f:function(){try{s||null==i["return"]||i["return"]()}finally{if(a)throw o}}}}i("4849"),i("177f"),i("80ae"),i("ac06"),i("240b"),i("4b3d"),i("75c5");var gc={name:"Avatar",props:{fullname:{type:String,default:""},size:{type:Number,default:48},radius:{type:Number,default:50,validator:function(t){return t>=0&&t<=50}},color:{type:String,default:""},image:{type:String,default:""}},computed:{initials:function(){var t=this.fullname.split(/[\s-]+/);return t.map((function(t){return t.substr(0,1)})).join("").substr(0,3).toUpperCase()},style:function(){var t=this.initials.length>2?this.size/3:this.size/2;return{width:this.size+"px",height:this.size+"px","border-radius":this.radius+"%","font-size":t+"px","background-color":""===this.color?this.toColor(this.fullname):this.color,"background-image":this.hasImage?"url("+this.image+")":"none"}},hasImage:function(){return""!==this.image}},methods:{toColor:function(t){var e=0;if(!t)return"black";var i,n=pc(t.split(""));try{for(n.s();!(i=n.n()).done;){var r=i.value;e=(e<<8-e)+r.charCodeAt(0)}}catch(o){n.e(o)}finally{n.f()}return"#"+Math.abs(e).toString(16).substr(0,6)}}},vc=gc,mc=(i("f3bb"),on(vc,uc,hc,!1,null,"0da76b57",null)),wc=mc.exports,yc=i("c0e9"),bc=i.n(yc),Bc=function(t){h(i,t);var e=w(i);function i(){var t;return A(this,i),t=e.apply(this,arguments),t.options={cropper:{autoZoom:!0,defaultPosition:{left:0,top:0},stencilSize:{width:200,height:200},imageRestriction:"stencil",resizeImage:{adjustStencil:!1}},stencil:{movable:!1,resizable:!1,aspectRatio:1}},t.initialsToolbar=[{icon:"palette",label:"Change Color",rounded:!0,name:"vuoz:avatar:color:change",target:v(t),onDown:function(t){t.$forceUpdate()}}],t.imgToolbar=[{icon:"rotate_left",label:"Rotate left",rounded:!0,name:"vuoz:cropper:rotate:left",target:v(t),onDown:function(t){t.rotate(-90)}},{icon:"rotate_right",label:"Rotate right",rounded:!0,name:"vuoz:cropper:rotate:right",target:v(t),onDown:function(t){t.rotate(90)}},{icon:"flip",label:"Flip horizontal",rounded:!0,name:"vuoz:toolbar:flip:horizontal",target:v(t),onDown:function(t){t.flip(!0,!1)}},{icon:"<div style='transform: rotate(-90deg);'>flip</span>",label:"Flip vertical",rounded:!0,name:"vuoz:toolbar:flip:vertical",target:v(t),onDown:function(t){t.flip(!1,!0)}}],t}return l(i,[{key:"onSrcChange",value:function(){this.img=this.src,this.$forceUpdate()}},{key:"onSizeChange",value:function(){var t=this;this.editable&&this.$nextTick((function(){var e=t.$refs.dropzone,i=t.$refs.cropper,n=t.$refs.toolbar;e.style.setProperty("--vuoz-avatar__size","".concat(t.size,"px")),t.options.cropper&&(t.options.cropper.stencilSize={width:t.size,height:t.size}),n.$forceUpdate(),i&&i.refresh()}))}},{key:"randomColor",value:function(){for(var t="0123456789ABCDEF",e="#",i=0;i<6;i++)e+=t[Math.floor(16*Math.random())];return e}},{key:"loadImage",value:function(t){var e=this;t.preventDefault(),t.stopPropagation();var i=this.$refs.input;if(i.files&&i.files[0]){var n=new FileReader;n.onload=function(t){e.img=t.target.result,e.$forceUpdate()}.bind(this),n.readAsDataURL(i.files[0])}}},{key:"rotate",value:function(t){this.$refs.cropper.rotate(t)}},{key:"flip",value:function(t,e){this.$refs.cropper.flip(t,e)}},{key:"onDragOver",value:function(t){t.preventDefault(),t.dataTransfer.dropEffect="move",t.dataTransfer.effectAllowed="move"}},{key:"onDrop",value:function(t){if(t.preventDefault(),t.stopPropagation(),1===t.dataTransfer.files.length){var e=this.$refs.input;e.files=t.dataTransfer.files,e.click()}}},{key:"onChange",value:function(t){this.$emit("change",{coordinates:t.coordinates,canvas:t.canvas})}},{key:"getResult",value:function(){var t=Xn(regeneratorRuntime.mark((function t(){var e,i,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!this.img){t.next=4;break}e=this.resize(),t.next=9;break;case 4:return i=this.$refs.avatar.$el,t.next=7,bc()(i,{allowTaint:!0,useCORS:!0,removeContainer:!0,backgroundColor:"rgba(0,0,0,0)",imageTimeout:0,width:this.size,height:this.size});case 7:n=t.sent,e={cropped:n,devicePixelRatio:window.devicePixelRatio,creationSize:this.size};case 9:return t.abrupt("return",e);case 10:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},{key:"resize",value:function(){var t=this.$refs.cropper.getResult(),e=window.devicePixelRatio,i=this.size*e*.5,n=document.createElement("canvas");n.width=this.size*e,n.height=this.size*e;var r=n.getContext("2d");return r?(r.beginPath(),r.arc(i,i,i,0*Math.PI/180,360*Math.PI/180,!1),r.closePath(),r.clip(),r.drawImage(t.canvas,0,0,this.size*e,this.size*e),nr(nr({},t),{},{cropped:n,devicePixelRatio:e,creationSize:this.size})):t.canvas}}]),i}(B.a);y([V({type:Boolean,default:!0})],Bc.prototype,"editable",void 0),y([V({type:String})],Bc.prototype,"fullname",void 0),y([V({type:String})],Bc.prototype,"src",void 0),y([V({type:Number,default:200})],Bc.prototype,"size",void 0),y([W("src",{immediate:!0})],Bc.prototype,"onSrcChange",null),y([W("size",{immediate:!0})],Bc.prototype,"onSizeChange",null),Bc=y([j({name:"VuozAvatar",components:{VuozCropper:ps,VueAvatarComponent:wc,VuozToolbar:Ar}})],Bc);var Cc=Bc,Ec=Cc,xc=(i("a854"),on(Ec,cc,lc,!1,null,null,null)),_c=xc.exports,Sc=function(t){h(i,t);var e=w(i);function i(){return A(this,i),e.apply(this,arguments)}return l(i,[{key:"getRandomColor",value:function(){for(var t="0123456789ABCDEF",e="#",i=0;i<6;i++)e+=t[Math.floor(16*Math.random())];return e}}]),i}(B.a);y([V({type:String,required:!0})],Sc.prototype,"avatar",void 0),y([V({type:String,required:!0})],Sc.prototype,"firstname",void 0),y([V({type:String,required:!0})],Sc.prototype,"lastname",void 0),Sc=y([j({name:"VuozUserCell",components:{VuozAvatar:_c}})],Sc);var Tc=Sc,Fc=Tc,Qc=on(Fc,ac,Ac,!1,null,null,null),Uc=Qc.exports,Oc=i("cd3b")},fb6a:function(t,e,i){"use strict";var n=i("23e7"),r=i("861d"),o=i("e8b5"),s=i("23cb"),a=i("50c4"),A=i("fc6a"),c=i("8418"),l=i("b622"),u=i("1dde"),h=u("slice"),f=l("species"),d=[].slice,p=Math.max;n({target:"Array",proto:!0,forced:!h},{slice:function(t,e){var i,n,l,u=A(this),h=a(u.length),g=s(t,h),v=s(void 0===e?h:e,h);if(o(u)&&(i=u.constructor,"function"!=typeof i||i!==Array&&!o(i.prototype)?r(i)&&(i=i[f],null===i&&(i=void 0)):i=void 0,i===Array||void 0===i))return d.call(u,g,v);for(n=new(void 0===i?Array:i)(p(v-g,0)),l=0;g<v;g++,l++)g in u&&c(n,l,u[g]);return n.length=l,n}})},fc6a:function(t,e,i){var n=i("44ad"),r=i("1d80");t.exports=function(t){return n(r(t))}},fdbc:function(t,e){t.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},fdbf:function(t,e,i){var n=i("4930");t.exports=n&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},fea9:function(t,e,i){var n=i("da84");t.exports=n.Promise}})}));
//# sourceMappingURL=vuoz.components.umd.min.js.map